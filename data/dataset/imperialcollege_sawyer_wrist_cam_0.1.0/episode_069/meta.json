{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_069",
  "task_summary": "Robot perceives, approaches, aligns to, and grasps a kettle.",
  "task_long_description": {
    "overview": "The task requires the robot to visually locate a kettle-like object visible in all frames, align above it, compute a grasp pose, and execute a top-style grasp. The wrist camera frames show a white rounded object with a dark handle-like region on a blue background. The BT organizes perception, reacquisition, pre-grasp alignment, and grasp closure. The system relies on visual confirmation, pose computation, and stable grasp verification with limited corrective retries.",
    "preconditions": [
      "Robot arm is operational",
      "Wrist camera is available",
      "Gripper starts open",
      "Kettle is within reachable workspace"
    ],
    "stepwise_plan": [
      "Check visibility of the kettle; scan if not visible",
      "Detect and localize kettle",
      "Open gripper",
      "Move above kettle",
      "Compute grasp pose",
      "Approach and align",
      "Close gripper",
      "Verify grasp stability"
    ],
    "success_criteria": [
      "Kettle is detected",
      "Gripper closes at computed pose",
      "Stability check succeeds"
    ],
    "failure_and_recovery": [
      "If visibility fails, scanning retries",
      "If pose computation fails, BT halts",
      "If grasp unstable, BT halts"
    ],
    "termination": "Terminate once grasp is stable or a failure condition is triggered."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up kettle",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["kettle_like_object"],
  "objects_from_instruction": ["kettle"],
  "blackboard_keys": ["grasp_kettle"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"kettle"},"description":"Checks visibility"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"kettle","pattern":"grid","max_attempts":3,"timeout_ms":800},"description":"Scan for kettle"},
    {"id":"DetectObject","type":"Action","ports":{"target":"kettle","timeout_ms":800},"description":"Detect kettle"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.02,"timeout_ms":500},"description":"Open gripper"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"kettle","offset_z":0.05,"timeout_ms":1500},"description":"Move above kettle"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"kettle","strategy":"top","result_key":"grasp_kettle"},"description":"Compute grasp"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"kettle","tolerance":0.005,"timeout_ms":1500},"description":"Approach and align"},
    {"id":"CloseGripper","type":"Action","ports":{"force":5,"timeout_ms":800},"description":"Close gripper"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Stability check"}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": ["object not visible","misalignment","grasp slip"],
  "recovery_strategy": ["retry scan","halt on critical failure"],
  "assumptions": ["Frames show a kettle-like object though slightly ambiguous; instruction matches frames"],
  "evaluation_notes": {
    "expected_success_criteria": ["stable grasp"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {"frame":"frame_0","phase":"perceive","active_leaf":{"id":"ScanForTarget","attrs":{"target":"kettle","pattern":"grid","max_attempts":3,"timeout_ms":800}},"active_path_ids":[]},
    {"frame":"frame_1","phase":"perceive","active_leaf":{"id":"DetectObject","attrs":{"target":"kettle","timeout_ms":800}},"active_path_ids":[]},
    {"frame":"frame_2","phase":"approach","active_leaf":{"id":"MoveAbove","attrs":{"target":"kettle","offset_z":0.05,"timeout_ms":1500}},"active_path_ids":[]},
    {"frame":"frame_3","phase":"approach","active_leaf":{"id":"ComputeGraspPose","attrs":{"target":"kettle","strategy":"top","result_key":"grasp_kettle"}},"active_path_ids":[]},
    {"frame":"frame_4","phase":"verify","active_leaf":{"id":"ApproachAndAlign","attrs":{"target":"kettle","tolerance":0.005,"timeout_ms":1500}},"active_path_ids":[]},
    {"frame":"frame_5","phase":"grasp","active_leaf":{"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},"active_path_ids":[]},
    {"frame":"frame_6","phase":"grasp","active_leaf":{"id":"IsGraspStable","attrs":{}},"active_path_ids":[]},
    {"frame":"frame_7","phase":"grasp","active_leaf":{"id":"IsGraspStable","attrs":{}},"active_path_ids":[]},
    {"frame":"frame_8","phase":"grasp","active_leaf":{"id":"IsGraspStable","attrs":{}},"active_path_ids":[]}
  ]
}
