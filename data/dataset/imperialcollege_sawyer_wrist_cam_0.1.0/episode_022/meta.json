{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_022",
  "task_summary": "Robot detects and picks up a kettle from a blue background surface using top grasp strategy.",
  "task_long_description": {
    "overview": "The task requires a robotic manipulator to detect a kettle placed on a flat blue surface and pick it up. The robot uses a wrist-mounted camera to observe the kettle from above, opens its gripper, aligns properly with the object, computes a suitable grasp pose, and executes the grasp with verification of grasp stability.",
    "preconditions": ["Kettle is fully visible and reachable", "Robot has a functioning wrist camera and is ready to grasp"],
    "stepwise_plan": [
      "Detect the kettle on the workspace",
      "Open the gripper to prepare for grasp",
      "Move above the detected kettle",
      "Compute a top grasp pose for the kettle",
      "Align the end-effector with the computed grasp pose",
      "Execute grasp using the pose",
      "Verify that the grasp is stable"
    ],
    "success_criteria": [
      "Kettle is successfully grasped and lifted",
      "Grasp is stable and object does not slip",
      "No collision or misalignment occurs"
    ],
    "failure_and_recovery": [
      "If object is not detected, task cannot proceed",
      "If grasp pose is not computable, fallback not implemented",
      "If grasp is unstable, abort"
    ],
    "termination": "Tree terminates upon successful grasp and grasp stability confirmation"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "kettle is centered and aligned; likely grasp initiation",
        "predicts_next": "gripper closure imminent",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up kettle",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["kettle"],
  "objects_from_instruction": ["kettle"],
  "blackboard_keys": ["grasp_kettle"],
  "node_specs": [
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "kettle", "timeout_ms": 800},
      "description": "Detect the kettle using onboard vision"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Prepare the gripper for object grasp"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "kettle", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Move directly above the detected kettle"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "kettle", "strategy": "top", "result_key": "grasp_kettle"},
      "description": "Compute a top-down grasp pose for the kettle"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "kettle", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Align end-effector with grasp pose within tight tolerance"
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_kettle", "strategy": "top", "timeout_ms": 800},
      "description": "Execute the grasp at computed pose"
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Ensure the object is stably grasped"
    }
  ],
  "tree_stats": {"nodes_total": 7, "actions": 6, "conditions": 1, "depth": 2},
  "failure_modes": ["Object not detected", "Grasp pose invalid", "Unstable grasp"],
  "recovery_strategy": ["Abort on failure; no retry used in this BT"],
  "assumptions": ["Top grasp is appropriate for this kettle's orientation", "No external disturbances occur during grasp"],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Kettle detected",
      "Grasp computed and executed",
      "Grasp confirmed stable"
    ],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "kettle", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.06, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "kettle", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id": "ComputeGraspPose", "attrs": {"target": "kettle", "strategy": "top", "result_key": "grasp_kettle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "kettle", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "GraspAtPose", "attrs": {"pose_key": "grasp_kettle", "strategy": "top", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id": "GraspAtPose", "attrs": {"pose_key": "grasp_kettle", "strategy": "top", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id": "IsGraspStable", "attrs": {}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id": "IsGraspStable", "attrs": {}},
      "active_path_ids": []
    }
  ]
}
