{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_087",
  "task_summary": "Pick up the kettle from a blue planar surface using an arm, with robust perception and top grasp.",
  "task_long_description": {
    "overview": "The robot begins by perceiving the kettle's location on a featureless blue background. It approaches the kettle vertically, aligns above it for a top-down grasp, and then executes an opening and grasp action. Each procedure is visually confirmed, tolerances are tight due to the symmetric, low-feature environment, and a stable grasp is verified before completion.",
    "preconditions": ["Robot is initialized and arm is ready", "Kettle is present and unobstructed on the blue planar surface", "Gripper is open or can be opened"],
    "stepwise_plan": ["Verify kettle visibility or perform scan", "Detect kettle closely", "Move above kettle at approach height", "Align precisely", "Open gripper for grasp clearance", "Compute and move to top grasp pose", "Execute grasp", "Verify object in gripper"],
    "success_criteria": ["Kettle securely in gripper", "No collisions or drops", "Steps executed in correct sequence"],
    "failure_and_recovery": ["Failure to detect: perform scan-based reacquisition", "Grasp not stable: abort or retry from MoveAbove step", "Gripper fails to open: log and abort task"],
    "termination": "Terminate after successful grasp verification or after unrecoverable failure"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up kettle",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["kettle"],
  "objects_from_instruction": ["kettle"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"kettle"},"description":"Check if the kettle is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"kettle","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Scan for kettle if not visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"kettle","timeout_ms":800},"description":"Refine kettle localization"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"kettle","offset_z":0.05,"timeout_ms":1500},"description":"Move above kettle to approach"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"kettle","tolerance":0.005,"timeout_ms":1500},"description":"Precisely align above target"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Open gripper in preparation"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"kettle","strategy":"top","result_key":"std_top"},"description":"Compute top grasp pose for kettle"},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"std_top","strategy":"top","timeout_ms":800},"description":"Grasp at computed pose"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"kettle"},"description":"Confirm kettle is held in gripper"}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 6, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Kettle not in camera view or occluded",
    "Imprecise positioning causes failed grasp",
    "Gripper fails to close or object is dropped"
  ],
  "recovery_strategy": [
    "Rescan scene if kettle is not visible",
    "Abort or re-plan if grasp fails or is unstable"
  ],
  "assumptions": [
    "Frame sequence depicts progressive approach and grasping of the kettle",
    "Only the kettle is present; no distractors or heavy occlusion",
    "Contact sheet lacks explicit feedback for post-grasp transfer or placement, so process terminates after grasp verification"
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Kettle clearly visible in later frames is held/centered under camera", "Active leaf matches grasp/verify action by frame_7/frame_8"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"kettle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"kettle","pattern":"spiral","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"kettle","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"kettle","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"kettle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"kettle","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"kettle"}},
      "active_path_ids": []
    }
  ]
}