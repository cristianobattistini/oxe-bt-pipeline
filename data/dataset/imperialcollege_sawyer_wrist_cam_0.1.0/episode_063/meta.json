{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_063",
  "task_summary": "Robot opens a lid, tracked in 9 wrist camera frames. The sequence involves detecting, approaching, aligning, actuating (open), verifying, then retreating.",
  "task_long_description": {
    "overview": "The robot is tasked to open a circular white lid resting on a blue surface. Frames show sequential approach, manipulation, and final separation of lid and base. The robot first detects the lid, moves above and aligns, then actuates the opening mechanism (likely vertical displacement). The open state is verified visually, then the robot retracts. Constraints: approach must avoid collisions; precise alignment required for successful opening.",
    "preconditions": [
      "Lid present and unobstructed",
      "Robot gripper/tool available",
      "Workspace clear"
    ],
    "stepwise_plan": [
      "Detect lid location",
      "Move above lid at offset height",
      "Align tool with lid",
      "Execute open-lid action",
      "Verify lid is open",
      "Retreat to safe pose"
    ],
    "success_criteria": [
      "Lid visibly separated (frame_8)",
      "No unintended objects disturbed",
      "Final retreat complete"
    ],
    "failure_and_recovery": [
      "Lid not detected → retry detect",
      "Misalignment → realign",
      "Open actuation fails → retry or alert"
    ],
    "termination": "Tree ends once lid is open and robot retreats safely."
  },
  "frame_ranking": {
    "order": [
      "frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0", "frame_1", "frame_2", "frame_3", "frame_4", "frame_5", "frame_6", "frame_7", "frame_8"
  ],
  "objects": ["lid", "base"],
  "objects_from_instruction": ["lid"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"lid", "timeout_ms":800},
      "description": "Detect the location of the lid."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"lid", "offset_z":0.05, "timeout_ms":1200},
      "description": "Move to a safe offset above the lid."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"lid", "tolerance":0.005, "timeout_ms":1500},
      "description": "Align the tool precisely to the lid."
    },
    {
      "id": "OpenContainer",
      "type": "Action",
      "ports": {"target":"lid", "container_type":"lid", "timeout_ms":1500},
      "description": "Open the lid using actuation."
    },
    {
      "id": "ContainerOpen",
      "type": "Condition",
      "ports": {"target":"lid"},
      "description": "Verify the lid is open."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.05, "timeout_ms":800},
      "description": "Move away from lid after operation."
    }
  ],
  "tree_stats": {
    "nodes_total": 6,
    "actions": 5,
    "conditions": 1,
    "depth": 6
  },
  "failure_modes": [
    "lid not detected",
    "misaligned approach",
    "opening fails",
    "lid stuck or jammed"
  ],
  "recovery_strategy": [
    "re-detect object",
    "retry alignment",
    "re-attempt opening",
    "abort and signal operator"
  ],
  "assumptions": [
    "Frames clearly show a circular lid on a blue base; no other manipulands present.",
    "Instruction 'open lid' matches observed action sequence.",
    "No evidence of unusual tool or objects; select 'lid' as symbolic target."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "lid visually separated from base in final frame (frame_8)",
      "no collisions or excessive force",
      "robot able to retreat"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "lid", "timeout_ms": 800}
      },
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "lid", "offset_z": 0.05, "timeout_ms": 1200}
      },
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "lid", "offset_z": 0.05, "timeout_ms": 1200}
      },
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "lid", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "lid", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "OpenContainer",
        "attrs": {"target": "lid", "container_type": "lid", "timeout_ms": 1500}
      },
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "OpenContainer",
        "attrs": {"target": "lid", "container_type": "lid", "timeout_ms": 1500}
      },
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.05, "timeout_ms": 800}
      },
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.05, "timeout_ms": 800}
      },
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}