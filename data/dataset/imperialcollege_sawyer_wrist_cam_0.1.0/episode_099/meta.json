{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_099",
  "task_summary": "Robot performs a swipe action using a dustpan, moving along the pan's surface to push or collect material, then retreats.",
  "task_long_description": {
    "overview": "This episode involves a robot manipulating a dustpan in a blue workspace. The robot approaches the dustpan, aligns its tool above the pan, then performs a swipe along its surface in a straight line, likely to collect or move debris (small white object visible). The dustpan is the main manipulated object; the process emphasizes precise alignment and path following, with minimal force, ensuring no damage. All actions are performed sequentially and occur above or on the pan.",
    "preconditions": [
      "Dustpan present and visible in workspace",
      "Robot end effector prepared; workspace clear",
      "Robot can reach the dustpan"
    ],
    "stepwise_plan": [
      "Detect the dustpan",
      "Move above the dustpan to a hover position",
      "Approach and align over the dustpan",
      "Slide along the surface of the dustpan in a line pattern to perform the swipe",
      "Retreat after swipe completion"
    ],
    "success_criteria": [
      "Dustpan detected and robot positioned correctly above",
      "Tool slides completely across target area with expected coverage",
      "Swipe action is completed without interruption",
      "Robot safely retreats from pan"
    ],
    "failure_and_recovery": [
      "Dustpan not detected: retry detection",
      "Collision or misalignment: abort and re-approach",
      "Swipe incomplete: repeat slide action"
    ],
    "termination": "Task ends after retreating from dustpan following swipe."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "swipe",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1000,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["dustpan", "debris"],
  "objects_from_instruction": ["dustpan"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"dustpan","timeout_ms":800},"description":"Detect the dustpan in the workspace."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"dustpan","offset_z":0.05,"timeout_ms":1000},"description":"Move tool above dustpan to a safe vertical offset."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"dustpan","tolerance":0.005,"timeout_ms":1000},"description":"Approach and align tool precisely over the dustpan."},
    {"id":"SlideAlongSurface","type":"Action","ports":{"target":"dustpan","area_id":"dustpan","distance":0.20,"direction_deg":180,"pattern":"line","timeout_ms":1500},"description":"Swipe along the surface of the dustpan in a line to move material."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":800},"description":"Retreat from the dustpan after swipe action."}
  ],
  "tree_stats": {"nodes_total": 5, "actions": 5, "conditions": 0, "depth": 1},
  "failure_modes": [
    "Dustpan detection fails",
    "Robot unable to properly align over dustpan",
    "Swipe motion interrupted (e.g., obstacle, excess force)",
    "Tool loses contact with pan"
  ],
  "recovery_strategy": [
    "Retry detection",
    "Realign with dustpan",
    "Abort and reattempt swipe",
    "Slow tool to avoid overshoot"
  ],
  "assumptions": [
    "Instruction 'swipe' interpreted as a slide along dustpanâ€”frames clearly show dustpan, no brush/gripper or object grasp.",
    "No gripper actuation; swipe uses end effector contact only.",
    "Direction (180 deg) and area inferred from dustpan geometry.",
    "Deviations from swipe involving object grasp ignored; image shows swipe on dustpan only."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Dustpan detected, approach and alignment successful, swipe covers full length."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target":"dustpan","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target":"dustpan","offset_z":0.05,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target":"dustpan","offset_z":0.05,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target":"dustpan","tolerance":0.005,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target":"dustpan","tolerance":0.005,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "SlideAlongSurface", "attrs": {"target":"dustpan","area_id":"dustpan","distance":0.20,"direction_deg":180,"pattern":"line","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "SlideAlongSurface", "attrs": {"target":"dustpan","area_id":"dustpan","distance":0.20,"direction_deg":180,"pattern":"line","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance":0.10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance":0.10,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}