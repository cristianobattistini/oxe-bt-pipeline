{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_064",
  "task_summary": "Place an apple into a pot using a robotic manipulator. The system first localizes and grasps the apple, moves above the pot, and releases the apple into it. Visual feedback and force constraints are used to ensure object acquisition and placement.",
  "task_long_description": {
    "overview": "This scenario features a robot arm tasked to place a red apple into a metallic pot on a blue surface. The sequence begins by searching for and grasping the apple using top grasp strategy, confirming a stable grasp, then locating the pot. Next, the robot approaches and aligns over the pot, before lowering the apple and releasing it inside. Vision-based reacquisition and multi-attempt scanning ensure robustness if perception initially fails.",
    "preconditions": [
      "Apple and pot are present and within the robot's reachable workspace.",
      "The gripper is empty and open.",
      "Vision system is operational."
    ],
    "stepwise_plan": [
      "Visually locate the apple, retrying scan if necessary.",
      "Detect precise apple pose and open gripper.",
      "Position gripper above apple and compute grasp pose.",
      "Perform top-down grasp and verify stability.",
      "Locate the pot, retry scan if needed.",
      "Move above the pot and align.",
      "Place apple onto pot's inner surface with gentle force.",
      "Open gripper to release apple, then retreat."
    ],
    "success_criteria": [
      "Apple is stably resting inside the pot at end of task.",
      "No visible damage to objects."
    ],
    "failure_and_recovery": [
      "If the apple or pot is not visible, rescan up to max attempts.",
      "If grasp is unstable, abort placement.",
      "If placement fails, abort and log."
    ],
    "termination": "Task terminates after retreating post-release, with the apple inside the pot."
  },
  "frame_ranking": {
    "order": ["frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "put apple in pot",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1500,
    "tolerance": 0.01,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["apple", "pot"],
  "objects_from_instruction": ["apple", "pot"],
  "blackboard_keys": ["grasp_apple"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "apple"},
      "description": "Checks if apple is visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "apple", "pattern": "spiral", "max_attempts": 3, "timeout_ms": 1500},
      "description": "Scans workspace to find apple."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "apple", "timeout_ms": 800},
      "description": "Precisely localizes apple."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Opens gripper before grasping or releasing."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "apple", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves manipulator above apple for pre-grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "apple", "strategy": "top", "result_key": "grasp_apple"},
      "description": "Computes top-down grasp for apple."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_apple", "strategy": "top", "timeout_ms": 1000},
      "description": "Closes gripper on apple using computed pose."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks if apple is stably grasped."
    },
    {
      "id": "IsObjectVisible_pot",
      "type": "Condition",
      "ports": {"target": "pot"},
      "description": "Checks if pot is visible."
    },
    {
      "id": "ScanForTarget_pot",
      "type": "Action",
      "ports": {"target": "pot", "pattern": "spiral", "max_attempts": 2, "timeout_ms": 1500},
      "description": "Scans workspace to find pot."
    },
    {
      "id": "DetectObject_pot",
      "type": "Action",
      "ports": {"target": "pot", "timeout_ms": 800},
      "description": "Precisely localizes pot."
    },
    {
      "id": "MoveAbove_pot",
      "type": "Action",
      "ports": {"target": "pot", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves manipulator above pot."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "pot", "tolerance": 0.01, "timeout_ms": 1500},
      "description": "Aligns apple over pot for precise placement."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {"target": "apple", "area_id": "pot", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1500},
      "description": "Places apple inside pot with gentle force."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retracts manipulator after releasing."
    }
  ],
  "tree_stats": {
    "nodes_total": 18,
    "actions": 12,
    "conditions": 3,
    "depth": 2
  },
  "failure_modes": [
    "Apple or pot not visible after scan retries",
    "Grasp instability detected post-grasp",
    "Placement alignment failure over pot",
    "Mechanical failure (e.g., gripper doesn't open/close)"
  ],
  "recovery_strategy": [
    "Retry scanning for apple or pot up to set attempts",
    "Abort and log errors if grasp/placement fails"
  ],
  "assumptions": [
    "Apple and pot both visible and distinguishable in the camera frames",
    "Instruction and visual evidence agree (no major conflicts observed)",
    "Contact sheet suggests direct placement (no lid manipulation needed)",
    "Spiral scan and top grasp/placement suffice (based on typical pick-and-place)"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Apple securely inside pot at series end (see frames 7-8)",
      "No objects dropped or stuck"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "apple",
          "pattern": "spiral",
          "max_attempts": 3,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "apple",
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "apple",
          "offset_z": 0.10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {
          "pose_key": "grasp_apple",
          "strategy": "top",
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove_pot",
        "attrs": {
          "target": "pot",
          "offset_z": 0.10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {
          "target": "apple",
          "area_id": "pot",
          "yaw_deg": 0,
          "press_force": 10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.08,
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    }
  ]
}