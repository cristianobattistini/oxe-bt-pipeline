{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_119",
  "task_summary": "Robot must visually localize, approach, and open a white lid, then verify that the container is open before retreating.",
  "task_long_description": {
    "overview": "This task involves a robotic arm identifying a circular white lid placed on a blue background. The robot locates the lid, approaches and aligns with it from above, then uses a primitive motion to open it. The sequence ensures the lid has been moved aside to reveal the underlying container. Throughout, action timing is managed, and visibility is confirmed to recover from potential occlusions.",
    "preconditions": [
      "Lid is present and visible",
      "Container is closed before execution",
      "Workspace is clear of obstructions"
    ],
    "stepwise_plan": [
      "Verify lid is visible; detect if needed",
      "Move above the lid at a safe offset",
      "Approach and align to proper orientation",
      "Execute open-lid action",
      "Verify lid is now open",
      "Retreat away from the lid"
    ],
    "success_criteria": [
      "Container open and lid displaced",
      "No collisions or spillage",
      "Final pose away from the lid"
    ],
    "failure_and_recovery": [
      "Lid not visible—re-attempt detection",
      "Alignment failure—reapproach allowed",
      "Open action fails—repeat or abort"
    ],
    "termination": "Tree terminates upon verifying the container is open and robot has retreated"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["lid", "container"],
  "objects_from_instruction": ["lid"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "lid" },
      "description": "Checks if the lid is visible in the current scene"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "lid", "timeout_ms": 800 },
      "description": "Performs visual detection of the lid object"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": { "target": "lid", "offset_z": 0.05, "timeout_ms": 1500 },
      "description": "Moves the arm above the lid at a safe offset"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": { "target": "lid", "tolerance": 0.005, "timeout_ms": 1500 },
      "description": "Precise approach and alignment to the lid"
    },
    {
      "id": "OpenContainer",
      "type": "Action",
      "ports": { "target": "lid", "container_type": "lid", "timeout_ms": 1500 },
      "description": "Executes the open-lid action"
    },
    {
      "id": "ContainerOpen",
      "type": "Condition",
      "ports": { "target": "lid" },
      "description": "Verifies that the lid is now open"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": { "distance": 0.1, "timeout_ms": 1200 },
      "description": "Moves the arm away after completion"
    }
  ],
  "tree_stats": {"nodes_total": 7, "actions": 4, "conditions": 3, "depth": 2},
  "failure_modes": [
    "lid not detected",
    "alignment error",
    "open attempt fails",
    "container fails to register open state"
  ],
  "recovery_strategy": [
    "re-detect object",
    "retry approach",
    "repeat open action if safe"
  ],
  "assumptions": [
    "Instruction specifies 'open lid', frames show a circular white lid with apparent opening movement from index [4]-[7]",
    "No explicit force or grasp detected, confirming visual-only open",
    "Opening performed without explicit gripper actions, as supported by frames"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "lid visibly displaced from original position",
      "container now unobstructed"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail (not expected here)",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"lid"}},
      "active_path_ids": ["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"lid","timeout_ms":800}},
      "active_path_ids": ["Sequence","Fallback","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"lid","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"lid","container_type":"lid","timeout_ms":1500}},
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"lid"}},
      "active_path_ids": ["Sequence","ContainerOpen"]
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}