{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_001",
  "task_summary": "The robot must avoid a visible obstacle and reach the blue pen, as observed across nine frames.",
  "task_long_description": {
    "overview": "A robotic manipulator on a tabletop must navigate around a stack of books to reach a blue pen on the other side. The arm begins from a position blocked by the books (the obstacle), perceives and plans its movement, detours around the books, and verifies arrival at the pen. The robot uses visual perception to detect the pen and obstacle, and executes a series of planned waypoints to avoid collision and reach the goal.",
    "preconditions": [
      "Robot is powered and homed above table surface.",
      "Obstacle (stack of books) and blue pen are present in specified positions.",
      "Workspace is clear except for listed objects."
    ],
    "stepwise_plan": [
      "Visually confirm the blue pen is present and visible.",
      "Attempt to detect/scan if pen is not initially visible.",
      "Move to a pre-obstacle pose.",
      "Bypass the obstacle by moving to a safe intermediate pose.",
      "Proceed to the blue pen's location.",
      "Verify successful arrival at goal."
    ],
    "success_criteria": [
      "Robot reaches the blue pen without contacting the obstacle.",
      "Arm ends in a pose from which the pen is accessible on the workspace side."
    ],
    "failure_and_recovery": [
      "If blue pen is not visible, rescan up to 3 times using raster pattern.",
      "If path is blocked, halt movement (not encoded explicitly)."
    ],
    "termination": "Tree terminates when the robot is at the blue pen's location and obstacle was not contacted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the blue pen",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1000,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm", "blue_pen", "obstacle_books", "table"],
  "objects_from_instruction": ["blue_pen"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "blue_pen" },
      "description": "Checks if the blue pen is visible in the robot's sensor space."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "blue_pen",
        "pattern": "raster",
        "max_attempts": 3,
        "timeout_ms": 1000
      },
      "description": "Performs a raster scan to locate the blue pen if not initially visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "blue_pen", "timeout_ms": 800 },
      "description": "Executes direct detection of the blue pen."
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": { "target": "pre_obstacle_position", "timeout_ms": 1000 },
      "description": "Moves the robot to the pre-obstacle waypoint."
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": { "target": "bypass_obstacle", "timeout_ms": 1000 },
      "description": "Moves the robot to a pose bypassing the obstacle."
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": { "target": "blue_pen", "timeout_ms": 1000 },
      "description": "Moves the robot to the blue pen's location."
    },
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": { "target": "blue_pen" },
      "description": "Checks if the robot is at the blue pen's pose."
    }
  ],
  "tree_stats": {
    "nodes_total": 8,
    "actions": 4,
    "conditions": 2,
    "depth": 6
  },
  "failure_modes": [
    "Blue pen not visible in detection range",
    "Obstacle blocks path to pen",
    "MoveTo action timeout"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget up to 3 times if pen not visible",
    "Abort sequence if robot cannot reach the blue pen after planned waypoints"
  ],
  "assumptions": [
    "Obstacle identity and poses derived from books/objects in frames; specific MoveTo target poses ('pre_obstacle_position', 'bypass_obstacle') are symbolic due to lack of metric pose data",
    "No explicit contact detection: assumes obstacle avoidance from paths in frames; instruction and visual evidence are consistent"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot is at blue pen at end of episode",
      "No collision with obstacle observed"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": { "id": "IsObjectVisible", "attrs": { "target": "blue_pen" } },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": { "id": "ScanForTarget", "attrs": { "target": "blue_pen", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1000 } },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": { "id": "DetectObject", "attrs": { "target": "blue_pen", "timeout_ms": 800 } },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": { "id": "MoveTo", "attrs": { "target": "pre_obstacle_position", "timeout_ms": 1000 } },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": { "id": "MoveTo", "attrs": { "target": "bypass_obstacle", "timeout_ms": 1000 } },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": { "id": "MoveTo", "attrs": { "target": "blue_pen", "timeout_ms": 1000 } },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": { "id": "IsAt", "attrs": { "target": "blue_pen" } },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": { "id": "IsAt", "attrs": { "target": "blue_pen" } },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": { "id": "IsAt", "attrs": { "target": "blue_pen" } },
      "active_path_ids": []
    }
  ]
}