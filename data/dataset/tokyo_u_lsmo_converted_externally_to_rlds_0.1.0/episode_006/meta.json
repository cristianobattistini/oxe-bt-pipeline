{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_006",
  "task_summary": "The robot must avoid a nearby obstacle and successfully reach the scissors by navigating around the object, verifying locations, and aligning at the target.",
  "task_long_description": {
    "overview": "A tabletop robotic arm is tasked to reach the scissors positioned behind a visible obstacle consisting of stacked books. The robot must perceive both the scissors and the obstacle, plan a maneuver that avoids direct collision, approach the scissors safely, align above the target, and demonstrate successful navigation and reach. Avoidance, detection, and approach are coordinated in a stepwise sequence.",
    "preconditions": [
      "Both scissors and obstacle are present in the workspace",
      "Robot is ready for operation and is at its initial pose",
      "No unknown objects or hazards present within workspace"
    ],
    "stepwise_plan": [
      "Ensure visibility of the scissors; if not detected, scan the workspace",
      "Detect the scissors for more precise localization",
      "Detect any obstacles that may block the path",
      "Move above the scissors with safe elevation offset to avoid the obstacle",
      "Carefully approach and align over the scissors",
      "Retreat after confirming successful alignment"
    ],
    "success_criteria": [
      "Robot reaches a position directly above the scissors while avoiding obstacles",
      "No contact is made with the obstacle during approach",
      "Scissors are reliably detected during the maneuver"
    ],
    "failure_and_recovery": [
      "Scissors not visible: re-trigger scan",
      "Obstacle detected in path: plan elevated approach",
      "Alignment error: retry approach if within tolerance"
    ],
    "termination": "Sequence completes upon successful alignment above the scissors and execution of retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the scissors",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["scissors", "obstacle", "robot_arm", "table", "books", "vase"],
  "objects_from_instruction": ["scissors", "obstacle"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"scissors"},"description":"Check if scissors are visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"scissors","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scan workspace to locate scissors; raster pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"scissors","timeout_ms":800},"description":"Refined detection for scissors."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"obstacle"},"description":"Check if obstacle is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"obstacle","timeout_ms":800},"description":"Detect potential obstacle in path."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"scissors","offset_z":0.10,"timeout_ms":1500},"description":"Move above scissors, maintaining safety offset."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"scissors","tolerance":0.005,"timeout_ms":1500},"description":"Approach and align precisely above scissors."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Retreat to a safe distance after reaching target."}
  ],
  "tree_stats": {"nodes_total": 8, "actions": 6, "conditions": 2, "depth": 4},
  "failure_modes": [
    "scissors not visible due to occlusion",
    "obstacle not detected",
    "collision with obstacle",
    "misalignment over scissors"
  ],
  "recovery_strategy": [
    "retry scan for scissors up to 3 times",
    "elevate arm to move above obstacle",
    "retry approach within tight tolerance"
  ],
  "assumptions": [
    "Frames show a single approach phase; no grasping/fine manipulation is observed",
    "Obstacle identity inferred visually (stacked books) as per frame evidence",
    "Instruction implies grasping, but frames indicate only reaching/approach; tree reflects visual evidence over instruction"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Scissors reached and aligned without contacting obstacle",
      "Robot avoids obstacle and retreats without incident"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail (not applicable in this ep, see assumptions)","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"scissors"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"scissors","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"scissors","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"obstacle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"obstacle","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"scissors","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"scissors","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}