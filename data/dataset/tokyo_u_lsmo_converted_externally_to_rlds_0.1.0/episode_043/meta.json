{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_043",
  "task_summary": "Approach and reach the blue pen while avoiding an intervening obstacle.",
  "task_long_description": {
    "overview": "A desk environment with a robotic manipulator arm, several books, a pen holder, and a blue pen as the goal. The arm starts behind a row of books, which act as obstacles. The main objective is to perceive and approach the blue pen while avoiding contact with the books. Perception and avoidance phases are clearly evident before approach and successful arrival at the target.",
    "preconditions": [
      "Blue pen is present and visible at least partially.",
      "Obstacle (books) are present between robot and pen.",
      "Robot starts behind obstacle."
    ],
    "stepwise_plan": [
      "Detect blue pen location.",
      "Move above and align toward pen.",
      "Detect and localize the obstacle.",
      "Approach pen while navigating around obstacle.",
      "Perform lateral motion to avoid the obstacle.",
      "Reach the blue pen.",
      "Confirm arrival at pen."
    ],
    "success_criteria": [
      "Robot is at the blue pen location.",
      "No collision with the obstacle during approach."
    ],
    "failure_and_recovery": [
      "If pen not detected, retry detection.",
      "If obstacle is in path, execute avoidance maneuver.",
      "If approach fails, abort or retry scan."
    ],
    "termination": "Task ends once the robot is at the blue pen."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the blue pen",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["blue_pen", "obstacle", "books", "pen_holder", "table"],
  "objects_from_instruction": ["blue_pen", "obstacle"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "blue_pen"},
      "description": "Checks if blue pen is visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "blue_pen", "timeout_ms": 800},
      "description": "Detects blue pen with a maximum allowed timeout."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "blue_pen", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves above the blue pen maintaining a safe z offset."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "obstacle"},
      "description": "Checks if obstacle is visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "obstacle", "timeout_ms": 800},
      "description": "Detects obstacle (books) with timeout."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "blue_pen", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns to blue pen with tight tolerance."
    },
    {
      "id": "MoveDelta",
      "type": "Action",
      "ports": {"axis": "y", "dist": 0.10, "timeout_ms": 1000},
      "description": "Lateral avoidance movement to bypass the obstacle."
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": {"target": "blue_pen", "timeout_ms": 1500},
      "description": "Completes the movement to blue pen."
    },
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": {"target": "blue_pen"},
      "description": "Checks if the robot is at the pen location."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 6, "conditions": 5, "depth": 3},
  "failure_modes": [
    "Pen not detected due to occlusion.",
    "Obstacle not detected.",
    "Collision during avoidance maneuver.",
    "Timeout before reaching pen."
  ],
  "recovery_strategy": [
    "Retry detection if blue pen or obstacle not detected.",
    "Abort or compensate motion if collision is imminent."
  ],
  "assumptions": [
    "Obstacle identity is visually confirmed as books; instruction only names 'obstacle'.",
    "No explicit 'grasp' is observed or requiredâ€”task is only to reach pen.",
    "MoveDelta axis and distance inferred from desk/books layout and arm kinematics.",
    "If frames/instruction were to conflict, frame content dominates (none found in this episode)."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot reaches the blue pen's location without collision."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "blue_pen", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "blue_pen", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "obstacle", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "blue_pen", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "MoveDelta", "attrs": {"axis": "y", "dist": 0.10, "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id": "MoveTo", "attrs": {"target": "blue_pen", "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    }
  ]
}