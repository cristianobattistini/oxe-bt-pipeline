{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_019",
  "task_summary": "The robot arm must move to avoid obstacles (books) and reach the blue pen at the far side of the books.",
  "task_long_description": {
    "overview": "A table-top mobile robot arm is tasked with reaching a blue pen while avoiding obstacles (books and a box) as observed in the sequence of 9 contact-sheet frames. The arm starts on one side, plans its motion around the obstacles, visually reacquires the target if needed, approaches with sufficient clearance, then confirms arrival at the goal.",
    "preconditions": [
      "Robot arm is initialized and active",
      "Blue pen and obstacles are present and in expected start locations",
      "Workspace is clear except for visible obstacles",
      "Vision system operational"
    ],
    "stepwise_plan": [
      "Check visibility of the blue pen, scanning if not visible",
      "Move to a pre-approach waypoint, avoiding obstacles",
      "Perform a lateral move ('y' axis) to get around the books",
      "Complete approach to goal pose by the blue pen",
      "Verify that the blue pen is reached"
    ],
    "success_criteria": [
      "The robot arm's end effector arrives at the location adjacent to the blue pen without colliding with obstacles"
    ],
    "failure_and_recovery": [
      "If blue pen is not visible: scan again (retry up to 3 times)",
      "If approach path is blocked: movement aborts and recovery by replanning or human intervention"
    ],
    "termination": "Tree terminates on successful arrival at goal pose beside blue pen, or after repeated vision failures."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first visible indication of arm performing a lateral avoid motion relative to the books",
        "predicts_next": "robot's wrist clears the obstacle; goal alignment is imminent",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the blue pen",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["robot_arm", "blue_pen", "books", "box", "table"],
  "objects_from_instruction": ["blue_pen", "obstacle"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "blue_pen"},
      "description": "Checks if the blue pen is currently visible to the vision system"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "blue_pen", "pattern": "line", "max_attempts": 3, "timeout_ms": 800},
      "description": "Actively scans using a line pattern to locate the blue pen if not initially visible"
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": {"target": "pre_approach_blue_pen", "timeout_ms": 1500},
      "description": "Moves robot end effector to pre-approach pose to prepare for obstacle avoidance"
    },
    {
      "id": "MoveDelta",
      "type": "Action",
      "ports": {"axis": "y", "dist": 0.10, "timeout_ms": 1000},
      "description": "Executes lateral move (y-axis) to avoid obstacles (books)"
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": {"target": "goal_blue_pen", "timeout_ms": 1500},
      "description": "Completes motion to final goal pose next to the blue pen"
    },
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": {"target": "blue_pen"},
      "description": "Verifies end effector is at the target location (blue pen)"
    }
  ],
  "tree_stats": {"nodes_total": 7, "actions": 4, "conditions": 2, "depth": 2},
  "failure_modes": [
    "Blue pen not detected after repeated scans",
    "Collision with books/obstacles during approach",
    "Unable to reach pre-approach/goal pose due to occlusion or path error"
  ],
  "recovery_strategy": [
    "Retry scan for pen up to 3 times if not visible",
    "Abort or pause if collision detected",
    "Notify operator if repeated failures"
  ],
  "assumptions": [
    "No direct grasp or manipulation; task is strictly 'reach', as supported visually.",
    "Symbolic targets pre_approach_blue_pen and goal_blue_pen are inferred for collision avoidance and goal pose.",
    "No force/timeout/tolerance parameters specified in instruction; values chosen consistent with typical reach/avoid.",
    "Instruction does not specify action details; resolved with visual trajectory and contact sheet ordering."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "End effector reaches and aligns with the blue pen without colliding with obstacles"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "blue_pen", "pattern": "line", "max_attempts": 3, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveTo", "attrs": {"target": "pre_approach_blue_pen", "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveDelta", "attrs": {"axis": "y", "dist": 0.10, "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "MoveTo", "attrs": {"target": "goal_blue_pen", "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "blue_pen"}},
      "active_path_ids": []
    }
  ]
}