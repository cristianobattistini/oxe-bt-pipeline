{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_116",
  "task_summary": "Pick up the white box from the counter and place it into the sink using a sequential manipulation routine with robust perception and grasp validation.",
  "task_long_description": {
    "overview": "This episode involves a robot arm manipulating a white box initially located on a kitchen counter and placing it into a sink basin. The robot first localizes the box, opens its gripper, approaches and grasps the box securely, then transfers it over the sink. After verifying the box and sink's location, it places the box in the sink, opens its gripper to release, and retreats. Care is taken to ensure object visibility, stable grasping, and precise placement.",
    "preconditions": [
      "White box is present on counter in reach.",
      "Sink is visible and unobstructed.",
      "Robot gripper is ready.",
      "Sufficient workspace clearance."
    ],
    "stepwise_plan": [
      "Verify visibility of white box, rescan if lost.",
      "Detect box pose and open gripper.",
      "Move above box, compute top grasp pose.",
      "Approach carefully, lower until contact.",
      "Close gripper and verify stable grasp.",
      "Verify sink is visible, detect sink if needed.",
      "Move above sink.",
      "Place box onto sink surface with moderate force.",
      "Open gripper, retreat, and observe completion."
    ],
    "success_criteria": [
      "White box released and at rest within sink.",
      "No objects dropped outside sink.",
      "Stable manipulation throughout sequence."
    ],
    "failure_and_recovery": [
      "Box not detected: rescan.",
      "Unstable grasp: retry grasp.",
      "Sink not detected: rescan.",
      "Placement error: repeat place/retreat sequence."
    ],
    "termination": "Terminate after the white box is detected at rest in sink with gripper open and robot retreated."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the white box into the sink",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "white_box",
    "sink"
  ],
  "objects_from_instruction": [
    "white_box",
    "sink"
  ],
  "blackboard_keys": [
    "grasp_white_box"
  ],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "white_box"},
      "description": "Check if the white box is visible"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "white_box", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Actively scan the scene for the white box using raster pattern"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "white_box", "timeout_ms": 800},
      "description": "Detect exact pose of the white box"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Open gripper to 0.08m"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "white_box", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Move above the white box before grasp"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "white_box", "strategy": "top", "result_key": "grasp_white_box"},
      "description": "Compute a top-down grasp pose for the white box"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "white_box", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approach white box with high alignment precision"
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lower until contact detected with box"
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Close gripper with moderate force to grasp box"
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Verify grasp stability"
    },
    {
      "id": "IsObjectVisible_sink",
      "type": "Condition",
      "ports": {"target": "sink"},
      "description": "Check if the sink is visible"
    },
    {
      "id": "DetectObject_sink",
      "type": "Action",
      "ports": {"target": "sink", "timeout_ms": 800},
      "description": "Detect sink location"
    },
    {
      "id": "MoveAbove_sink",
      "type": "Action",
      "ports": {"target": "sink", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Move above the sink before placing"
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {"target": "white_box", "area_id": "sink", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1200},
      "description": "Place the white box on sink surface with straight orientation"
    },
    {
      "id": "OpenGripper_after",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Open gripper to release white box"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retreat arm away from sink"
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {"timeout_ms": 500},
      "description": "Pause briefly for scene stabilization"
    }
  ],
  "tree_stats": {
    "nodes_total": 18,
    "actions": 13,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "White box not detected",
    "Grasp fails or is unstable",
    "Sink not detected",
    "Placement obstructed",
    "Drop during transfer"
  ],
  "recovery_strategy": [
    "Retry object detection up to 3 times",
    "Repeat grasp sequence on failure",
    "Retry sink detection if lost",
    "Repeat placement if box not stable",
    "Abort if all attempts exhausted"
  ],
  "assumptions": [
    "Frames confirm the object labeled as 'white box' is the target.",
    "The sink is visually available in all late frames.",
    "Instruction and frames agree: box is to be placed into sink.",
    "Sequence phases inferred strictly from visual evidence.",
    "Some BT actions (e.g. PlaceOnSurface) selected to best fit observed manipulation."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White box is in the sink with no grasped objects",
      "No damage or errant placement",
      "No residual objects in gripper"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "white_box",
          "pattern": "raster",
          "max_attempts": 3,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "white_box",
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.08,
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "white_box",
          "offset_z": 0.05,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {
          "target": "white_box",
          "strategy": "top",
          "result_key": "grasp_white_box"
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "white_box",
          "tolerance": 0.005,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 5,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {
          "force": 10,
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove_sink",
        "attrs": {
          "target": "sink",
          "offset_z": 0.10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    }
  ]
}