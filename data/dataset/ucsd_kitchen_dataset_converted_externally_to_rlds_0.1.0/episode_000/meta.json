{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_000",
  "task_summary": "The robot must locate, approach, and manipulate the faucet handle in order to turn on the faucet inside a kitchen environment. The sequence involves visual detection, alignment, grasping, actuating the handle, verifying activation, and retreating.",
  "task_long_description": {
    "overview": "This episode depicts a robot arm in a compact kitchen setup, tasked with turning on the sink faucet. The robot visually locates the faucet, approaches and aligns to the handle, computes an appropriate grasp pose, actuates (turns) the handle to the open direction, verifies activation, and retreats. The robot leverages top grasp and knob-turning primitives. Constraints are set by physical position, successful contact, and actuator force.",
    "preconditions": [
      "Faucet is accessible and unobstructed",
      "Handle visible in the workspace",
      "Robot gripper is empty and operational",
      "Sink area is clear for approach"
    ],
    "stepwise_plan": [
      "Verify visibility of faucet",
      "Detect precise location of faucet",
      "Approach and align to the faucet",
      "Compute grasp pose for handle (top strategy)",
      "Grasp faucet handle",
      "Turn faucet handle in open direction with moderate angle",
      "Verify faucet has been actuated (button pressed)",
      "Retreat to safe position"
    ],
    "success_criteria": [
      "Faucet handle turned in open direction",
      "Actuation verified",
      "Robot arm safely retreated"
    ],
    "failure_and_recovery": [
      "Handle not visible (retry scan)",
      "Failed grasp (retry approach/grasp)",
      "Excess force detected (abort and retreat)",
      "Actuation incomplete (retry turn knob)"
    ],
    "termination": "Tree terminates once the faucet has been actuated and retreat is complete."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["faucet", "faucet_handle", "sink"],
  "objects_from_instruction": ["faucet"],
  "blackboard_keys": ["grasp_faucet"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"faucet"},
      "description":"Check if the faucet is visible"
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"faucet","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Scan workspace for faucet if not visible"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"faucet","timeout_ms":800},
      "description":"Direct detection of faucet position"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"faucet","tolerance":0.005,"timeout_ms":1500},
      "description":"Approach and align to faucet using precise tolerance"
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"faucet_handle","strategy":"top","result_key":"grasp_faucet"},
      "description":"Compute grasp pose for faucet handle from above"
    },
    {
      "id":"GraspAtPose",
      "type":"Action",
      "ports":{"pose_key":"grasp_faucet","strategy":"top","timeout_ms":1000},
      "description":"Grasp faucet handle at computed pose"
    },
    {
      "id":"TurnKnob",
      "type":"Action",
      "ports":{"target":"faucet_handle","knob_type":"knob","angle_deg":45,"direction":"open","force_limit":10,"timeout_ms":800},
      "description":"Turn faucet handle to open using knob primitive"
    },
    {
      "id":"ButtonPressed",
      "type":"Condition",
      "ports":{"target":"faucet_handle"},
      "description":"Verify faucet handle has been actuated"
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":800},
      "description":"Safely retreat robotic arm from sink area"
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 7, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Faucet handle not visible",
    "Detection error",
    "Alignment failure",
    "Grasp slip",
    "Actuation incomplete",
    "Excess force detected"
  ],
  "recovery_strategy": [
    "Retry scan and detection",
    "Repeat approach and alignment",
    "Retry grasp up to 3 times",
    "Abort or reduce force if limit exceeded",
    "Retry actuation if not verified"
  ],
  "assumptions": [
    "Instruction does not specify handle type, frames confirm a rotary knob",
    "Frames indicate top approach/grasp is possible",
    "Faucet handle identified visually in all relevant frames",
    "No direct water flow sensor, verification uses button press condition"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Faucet has been turned to open position",
      "Button press/actuation confirmed",
      "Robot has retreated safely"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible", "attrs": {"target": "faucet"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget", "attrs": {"target": "faucet", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject", "attrs": {"target": "faucet", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign", "attrs": {"target": "faucet", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose", "attrs": {"target": "faucet_handle", "strategy": "top", "result_key": "grasp_faucet"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose", "attrs": {"pose_key": "grasp_faucet", "strategy": "top", "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"TurnKnob", "attrs": {"target": "faucet_handle", "knob_type": "knob", "angle_deg": 45, "direction": "open", "force_limit": 10, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"ButtonPressed", "attrs": {"target": "faucet_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat", "attrs": {"distance": 0.10, "timeout_ms": 800}},
      "active_path_ids": []
    }
  ]
}