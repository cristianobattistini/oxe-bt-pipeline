{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_059",
  "task_summary": "Robot arm detects, approaches, grasps, and turns the faucet handle to 'on', then releases and retreats.",
  "task_long_description": {
    "overview": "In this kitchen scene, a robot arm is tasked with turning on the faucet. The arm sequentially locates the faucet handle, approaches from above, aligns to the appropriate position, grasps using a top grasp, rotates the handle in the 'open' direction by 45 degrees, releases, and retreats to a safe position. All steps are visible in the provided 9 frames, showing close contact with the faucet throughout. Task success requires visual confirmation and secure manipulation.",
    "preconditions": [
      "Robot is positioned in front of the kitchen playset",
      "Faucet handle is reachable and visible",
      "Gripper is ready open/available"
    ],
    "stepwise_plan": [
      "Check faucet handle is visible; if not, detect",
      "Move above faucet handle",
      "Align and approach handle",
      "Grasp handle with top strategy (low force)",
      "Turn the faucet handle to open (45 deg, low force)",
      "Release gripper from handle",
      "Retreat away from faucet"
    ],
    "success_criteria": [
      "Faucet handle visibly rotated to 'on' position",
      "Gripper no longer in contact",
      "Robot arm safely retreated"
    ],
    "failure_and_recovery": [
      "Handle occluded: retry detection",
      "Grasp slip: repeat grasp approach",
      "Rotation incomplete: retry until successful"
    ],
    "termination": "Arm retreated and faucet handle visually confirmed in open position"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1000,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm", "faucet_handle", "sink", "counter", "utensils"],
  "objects_from_instruction": ["faucet", "faucet_handle"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "faucet_handle"},
      "description": "Checks if faucet handle is visible"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "faucet_handle", "timeout_ms": 800},
      "description": "Performs object detection for faucet handle"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "faucet_handle", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves gripper above faucet handle"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "faucet_handle", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns with faucet handle"
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {"target": "faucet_handle", "strategy": "top", "force": 5, "timeout_ms": 800},
      "description": "Grasps the faucet handle from the top"
    },
    {
      "id": "TurnKnob",
      "type": "Action",
      "ports": {"target": "faucet_handle", "knob_type": "knob", "angle_deg": 45, "direction": "open", "force_limit": 5, "timeout_ms": 1000},
      "description": "Turns faucet handle by 45 deg to open"
    },
    {
      "id": "ReleaseGripper",
      "type": "Action",
      "ports": {"timeout_ms": 500},
      "description": "Releases the gripper from the faucet handle"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves arm away from faucet"
    }
  ],
  "tree_stats": {
    "nodes_total": 8,
    "actions": 6,
    "conditions": 2,
    "depth": 2
  },
  "failure_modes": [
    "Object not detected",
    "Misalignment during approach",
    "Grasp failure",
    "Insufficient force to rotate handle"
  ],
  "recovery_strategy": [
    "Retry object detection on occlusion",
    "Re-align and retry grasp if unstable",
    "Repeat handle turn with adjusted force"
  ],
  "assumptions": [
    "The faucet handle is manipulated via a knob rotation (frames 3-5).",
    "Instruction says 'faucet', but frames show direct interaction with handle/knob.",
    "Knob rotation angle inferred from typical open gesture (~45 degrees).",
    "ReleaseGripper action used instead of OpenGripper for post-turn phase (no object grasped after rotation).",
    "No water flow feedback available; success inferred visually."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Handle rotated to open position",
      "Robot disengaged from handle",
      "No damage or slip"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"faucet_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"faucet_handle","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"faucet_handle","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"faucet_handle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Grasp","attrs":{"target":"faucet_handle","strategy":"top","force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"TurnKnob","attrs":{"target":"faucet_handle","knob_type":"knob","angle_deg":45,"direction":"open","force_limit":5,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ReleaseGripper","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}