{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_054",
  "task_summary": "The robot is instructed to put the bowl inside the kitchen cabinet, as confirmed both by the instruction and the visual episode sequence.",
  "task_long_description": {
    "overview": "This task requires a robot arm to locate a bowl on a kitchen counter, grasp it from above, open the cabinet door if needed, and place the bowl securely inside the cabinet. The robot uses perception for object detection (bowl and cabinet), grasps and manipulates the bowl, and verifies stable placement. The sequence must be robust to visual occlusion and variable bowl positions.",
    "preconditions": [
      "Bowl is present and accessible on the counter",
      "Cabinet is closed and accessible by the robot",
      "Robot gripper is empty and functional",
      "Scene is illuminated to allow object detection"
    ],
    "stepwise_plan": [
      "Visually locate the bowl",
      "Verify bowl detection or reattempt if necessary",
      "Detect precise pose of the bowl",
      "Open gripper and position above bowl",
      "Compute grasp pose and approach",
      "Lower until contact and grasp the bowl",
      "Verify grasp stability",
      "Locate and open the cabinet",
      "Move above cabinet opening",
      "Place the bowl inside at the target pose",
      "Release the bowl and retreat"
    ],
    "success_criteria": [
      "Bowl is placed fully inside the cabinet",
      "No collisions with the cabinet or other objects",
      "Grasp is secure throughout transfer",
      "Robot properly releases the bowl at goal pose"
    ],
    "failure_and_recovery": [
      "Failure to detect bowl → rescan with retries",
      "Grasp failure → retry approach and grasp if stable",
      "Cabinet not detected → retry detection",
      "Placement error → check pose availability / repeat placement if misaligned"
    ],
    "termination": "Terminate once the bowl is successfully placed and the gripper has retreated; abort if retries exhausted or unrecoverable error occurs."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["bowl", "cabinet"],
  "objects_from_instruction": ["bowl", "cabinet"],
  "blackboard_keys": ["grasp_bowl", "goal_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bowl"},"description":"Checks if bowl is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"bowl","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Raster scans for bowl if not visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"bowl","timeout_ms":800},"description":"Detects precise pose of the bowl."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper for grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},"description":"Moves tool above bowl."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"},"description":"Computes grasp pose for bowl."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bowl","tolerance":0.005,"timeout_ms":1500},"description":"Approaches bowl with precise alignment."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.08,"force_threshold":5,"timeout_ms":1200},"description":"Lowers until contact with bowl, low force."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Closes gripper to grasp bowl."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verifies if grasp on bowl is stable."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"cabinet"},"description":"Checks if cabinet is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"cabinet","timeout_ms":800},"description":"Detects cabinet location."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"cabinet","container_type":"cabinet","timeout_ms":1500},"description":"Opens kitchen cabinet."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"cabinet","offset_z":0.10,"timeout_ms":1500},"description":"Moves above open cabinet."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"goal_pose","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Places bowl at goal pose inside cabinet."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Releases bowl inside cabinet."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreats after placement."}
  ],
  "tree_stats": {"nodes_total":18,"actions":14,"conditions":4,"depth":2},
  "failure_modes": [
    "Bowl not detected",
    "Grasp failed",
    "Cabinet not detected or not opened",
    "Placement misaligned or blocked",
    "Gripper fails to open/close"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget for bowl/cabinet up to three times",
    "Repeat ApproachAndAlign and LowerUntilContact if grasp not stable",
    "Fallback to DetectObject if direct visibility fails",
    "Abort if maximum retries exhausted"
  ],
  "assumptions": [
    "Frames show sequential bowl pick-and-place into lower cabinet; no drawer used, so 'cabinet' matches instruction and frames.",
    "Cabinet door is assumed to open outward without further tool interaction.",
    "No visible obstruction inside cabinet; single bowl to move."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl contacts cabinet interior and remains upon gripper release",
      "No dropped or misaligned bowl",
      "Cabinet door re-closes if required (not shown in sequence)"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"bowl"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bowl","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"bowl","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.08,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cabinet","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"goal_pose","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}