{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_035",
  "task_summary": "The robot must pick up a bowl and place it inside the kitchen cabinet, requiring perception, grasping, and precise placement.",
  "task_long_description": {
    "overview": "In this task, a robotic arm in a kitchen environment is required to locate, grasp, and insert a bowl into a designated compartment inside the kitchen cabinet. The robot uses visual perception to detect the bowl, approaches it from above, computes an accessible grasp, and securely picks it up. The cabinet door is verified and opened if needed. The robot then transfers the bowl to the cabinet, aligns over the desired slot, inserts it, releases the object, and finally retreats from the workspace. Reliability and precision are essential due to constrained space and object geometry.",
    "preconditions": [
      "Bowl present on counter",
      "Cabinet accessible and not obstructed",
      "Gripper ready and open"
    ],
    "stepwise_plan": [
      "Detect bowl location",
      "Open gripper",
      "Approach bowl from above",
      "Compute grasp pose",
      "Align and grasp bowl",
      "Confirm bowl in gripper",
      "Verify/open cabinet door",
      "Approach cabinet",
      "Insert bowl inside cabinet",
      "Release bowl",
      "Retreat arm"
    ],
    "success_criteria": [
      "Bowl is securely placed inside the kitchen cabinet",
      "No collision or drop occurs during transfer",
      "Cabinet door is opened and closed as needed"
    ],
    "failure_and_recovery": [
      "Grasp fails: Retry object detection and grasp",
      "Cabinet blocked: Abort or alert",
      "Bowl not visible: Re-attempt scan"
    ],
    "termination": "Task ends when the bowl is released inside the cabinet and arm retreats"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": [
    "bowl",
    "kitchen_cabinet",
    "robotic_gripper"
  ],
  "objects_from_instruction": ["bowl", "kitchen_cabinet"],
  "blackboard_keys": ["grasp_bowl"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bowl"},"description":"Checks if the bowl is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"bowl","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Scans workspace for the bowl using a grid pattern"},
    {"id":"DetectObject","type":"Action","ports":{"target":"bowl","timeout_ms":800},"description":"Detects the precise location of the bowl"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens the gripper to receive the bowl"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},"description":"Moves above the bowl preparing for grasp"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"},"description":"Computes a suitable top-down grasp for the bowl"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bowl","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns with the bowl within tight tolerance"},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_bowl","strategy":"top","timeout_ms":1000},"description":"Executes grasp at computed pose"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"bowl"},"description":"Verifies bowl is securely in gripper"},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"kitchen_cabinet"},"description":"Checks if cabinet is open"},
    {"id":"OpenContainer","type":"Action","ports":{"target":"kitchen_cabinet","container_type":"cabinet","timeout_ms":1500},"description":"Opens the kitchen cabinet door"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"kitchen_cabinet","offset_z":0.10,"timeout_ms":1500},"description":"Moves above the cabinet for placement"},
    {"id":"InsertInto","type":"Action","ports":{
      "target":"bowl",
      "slot_id":"receptacle_A",
      "axis":"z",
      "distance":0.15,
      "tolerance":0.005,
      "force_limit":10,
      "timeout_ms":1200
    },"description":"Inserts bowl into cabinet slot with appropriate parameters"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Releases the bowl by opening the gripper"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreats arm from the cabinet"}
  ],
  "tree_stats": {
    "nodes_total": 16,
    "actions": 10,
    "conditions": 3,
    "depth": 5
  },
  "failure_modes": [
    "Bowl not detected",
    "Grasp fails",
    "Cabinet cannot be opened",
    "Insertion blocked",
    "Release fails"
  ],
  "recovery_strategy": [
    "Retry scanning and grasping if bowl not detected or grasp fails",
    "Open cabinet upon failure if closed",
    "Abort if insertion blocked",
    "Repeat release"
  ],
  "assumptions": [
    "Frames show that the cabinet door is already open throughout, so cabinet opening step will be skipped in actual execution.",
    "Instruction matches frames; bowl starts on counter and ends inside cabinet.",
    "Slot named 'receptacle_A' chosen to symbolize cabinet interior; frames do not show explicit slot marker."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl ends inside the kitchen cabinet, undamaged.",
      "No collisions with cabinet or counter.",
      "Gripper releases bowl fully."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"bowl","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"bowl","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bowl","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_bowl","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"kitchen_cabinet","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"InsertInto","attrs":{
        "target":"bowl",
        "slot_id":"receptacle_A",
        "axis":"z",
        "distance":0.15,
        "tolerance":0.005,
        "force_limit":10,
        "timeout_ms":1200
      }},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}