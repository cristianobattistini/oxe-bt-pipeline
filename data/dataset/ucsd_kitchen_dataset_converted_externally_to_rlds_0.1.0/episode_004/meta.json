{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_004",
  "task_summary": "Place the bowl inside the kitchen cabinet using a robot arm.",
  "task_long_description": {
    "overview": "The robot arm must locate and pick up a bowl from a kitchen countertop, then transfer and place it into the open cabinet beneath the counter. The sequence involves visual detection, precise grasping with a pinch strategy, verification of a stable grasp, alignment over the cabinet, and releasing the object inside.",
    "preconditions": ["Bowl is accessible on the counter", "Cabinet is open and has space", "Gripper starts empty and open"],
    "stepwise_plan": [
      "Search for and detect the bowl",
      "Open the gripper",
      "Move above the bowl and compute grasp pose",
      "Align and lower until contact",
      "Close gripper to grasp bowl",
      "Verify grasp stability",
      "Detect cabinet location",
      "Move above cabinet",
      "Place bowl inside cabinet",
      "Open gripper to release",
      "Retreat"
    ],
    "success_criteria": [
      "Bowl is placed securely inside cabinet",
      "Gripper releases bowl successfully",
      "Arm retreats without collision"
    ],
    "failure_and_recovery": [
      "If bowl not visible, scan with retries",
      "If grasp unstable, repeat grasping",
      "If cabinet not visible, re-detect and retry placement"
    ],
    "termination": "Ends after object is released inside cabinet and robot retreats."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "placement initiation likely; vertical insertion expected",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["bowl", "cabinet"],
  "objects_from_instruction": ["bowl", "cabinet"],
  "blackboard_keys": ["grasp_bowl"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bowl"},"description":"Check if bowl is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"bowl","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scan for bowl in raster pattern"},
    {"id":"DetectObject","type":"Action","ports":{"target":"bowl","timeout_ms":800},"description":"Detect bowl"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Open gripper"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},"description":"Move above bowl"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bowl","strategy":"pinch","result_key":"grasp_bowl"},"description":"Compute grasp pose for bowl"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bowl","tolerance":0.005,"timeout_ms":1500},"description":"Align to grasp bowl"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lower until contact"},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Close gripper to grasp"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify grasp is stable"},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"cabinet"},"description":"Check if cabinet is visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"cabinet","timeout_ms":800},"description":"Detect cabinet"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"cabinet","offset_z":0.05,"timeout_ms":1500},"description":"Move above cabinet"},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"place_in_bin","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Place bowl in cabinet"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Release bowl"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Retreat after release"}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 12, "conditions": 4, "depth": 3},
  "failure_modes": ["bowl not visible", "unstable grasp", "cabinet not detected", "placement misalignment"],
  "recovery_strategy": [
    "Retry scan if bowl not found",
    "Repeat grasp if unstable",
    "Redetect cabinet and retry place action"
  ],
  "assumptions": [
    "Cabinet is already open and suitable for receiving the bowl",
    "‘place_in_bin’ pose approximates placement into the cabinet"
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Bowl ends up inside cabinet, gripper releases, no collisions"],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bowl","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"bowl","strategy":"pinch","result_key":"grasp_bowl"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"bowl","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cabinet","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"place_in_bin","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
