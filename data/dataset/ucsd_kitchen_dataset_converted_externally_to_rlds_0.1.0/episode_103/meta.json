{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_103",
  "task_summary": "The robot arm is tasked to put the bowl inside the kitchen cabinet by grasping it, opening the cabinet, transferring, and placing the bowl securely inside as indicated by the episode images.",
  "task_long_description": {
    "overview": "This episode depicts a robot arm performing a pick-and-place task in a kitchen environment: locating a bowl on the countertop, grasping it, opening the upper kitchen cabinet, and placing the bowl inside. The environment includes a kitchen counter, sink, stove, and upper cabinet door. The robot must execute perception, approach, grasp, open container, transfer, place, and retreat, with care to avoid obstacles and precisely place the bowl in the intended location.",
    "preconditions": [
      "Bowl located on the counter and visible to sensors",
      "Cabinet is initially closed",
      "Gripper is empty at start",
      "No external obstacles obstruct trajectory"
    ],
    "stepwise_plan": [
      "Perceive bowl location",
      "Open gripper",
      "Approach and align above the bowl",
      "Compute grasp and execute grasp",
      "Verify grasp stability",
      "Perceive and open cabinet",
      "Approach and align above cabinet opening",
      "Compute placement pose",
      "Place bowl inside cabinet",
      "Open gripper to release bowl",
      "Retreat gripper from cabinet"
    ],
    "success_criteria": [
      "Bowl is placed inside the cabinet",
      "Cabinet remains open after placement",
      "No collisions or drops occur",
      "Gripper is empty after retreat"
    ],
    "failure_and_recovery": [
      "Failure to detect bowl: scan up to three times before abort",
      "Grasp unstable: retry grasp",
      "Cabinet not found: scan and retry detection",
      "Placement collision: retreat and reattempt place"
    ],
    "termination": "Task terminates when bowl is placed securely inside cabinet and gripper has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92, "frame_4": 0.28,
      "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0", "frame_1", "frame_2", "frame_3",
    "frame_4", "frame_5", "frame_6", "frame_7", "frame_8"
  ],
  "objects": ["bowl", "cabinet", "counter", "sink", "stove"],
  "objects_from_instruction": ["bowl", "cabinet"],
  "blackboard_keys": ["grasp_bowl", "goal_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bowl"},"description":"Checks if the bowl is visible to the robot's sensors."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"bowl","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Scans the scene up to three times to locate the bowl in grid pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"bowl","timeout_ms":800},"description":"Confirms and refines bowl location."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens gripper to prepare for grasping or releasing the bowl."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},"description":"Moves the gripper above the bowl with specified vertical offset."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"},"description":"Computes top grasp pose for the bowl."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bowl","tolerance":0.005,"timeout_ms":1500},"description":"Approaches bowl and aligns for tight grasp."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_bowl","strategy":"top","timeout_ms":1200},"description":"Executes grasp at calculated pose."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks that the bowl is securely held."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"cabinet"},"description":"Checks if the cabinet is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"cabinet","timeout_ms":800},"description":"Locates cabinet for subsequent opening."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"cabinet","container_type":"cabinet","timeout_ms":1000},"description":"Opens cabinet door to allow access."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"cabinet","offset_z":0.10,"timeout_ms":1500},"description":"Moves above cabinet opening."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"cabinet","strategy":"top","result_key":"goal_pose"},"description":"Computes goal pose for placement."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"cabinet","tolerance":0.005,"timeout_ms":1500},"description":"Aligns to placement location inside cabinet."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"goal_pose","yaw_deg":0,"press_force":5,"timeout_ms":1200},"description":"Places bowl at target pose with gentle force."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Releases bowl after placement."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Moves gripper away from cabinet after placement."}
  ],
  "tree_stats": {"nodes_total":19,"actions":14,"conditions":3,"depth":2},
  "failure_modes": [
    "Bowl not detected",
    "Grasp unstable",
    "Cabinet not detected",
    "Cabinet can't be opened",
    "Placement collides or fails"
  ],
  "recovery_strategy": [
    "Scan up to three times for bowl/cabinet",
    "Retry grasp after failure",
    "Abort on unrecoverable container failures"
  ],
  "assumptions": [
    "Episode frames [0]-[8] indicate cabinet is opened before bowl is placed inside, confirming correct sequence.",
    "No direct evidence of closing cabinet after placement; BT omits that step.",
    "Frames show cabinet door handle manipulation starting from frame_4.",
    "Instruction matches observed sequence; no major conflicts."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl is released inside cabinet and gripper has retreated; no collision or drop detected; cabinet remains open after sequence."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target":"bowl","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target":"bowl","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {"id": "GraspAtPose", "attrs": {"pose_key":"grasp_bowl","strategy":"top","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id": "IsGraspStable", "attrs": {}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "OpenContainer", "attrs": {"target":"cabinet","container_type":"cabinet","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target":"cabinet","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id": "PlaceAt", "attrs": {"pose_key":"goal_pose","yaw_deg":0,"press_force":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}