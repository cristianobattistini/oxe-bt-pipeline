{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_030",
  "task_summary": "The robot locates a teapot, grasps it, and places it onto the stove area, as observed in the provided frames.",
  "task_long_description": {
    "overview": "This behavior tree is designed for a robotic arm in a kitchen environment tasked with placing a teapot onto the stove. The procedure involves perception-driven object localization, precise arm manipulation, and placement on a specific surface. Key objects involved are the teapot and the stove. The robot performs sequential perception, grasp, transfer, and placement, with verification at important junctures to mitigate typical manipulation uncertainties.",
    "preconditions": [
      "Teapot is present and accessible to the robot.",
      "Stove surface is clear and reachable.",
      "Robot gripper is functional and empty.",
      "Environmental lighting allows object detection."
    ],
    "stepwise_plan": [
      "Verify teapot visibility; detect if not visible.",
      "Open gripper in preparation for grasp.",
      "Move above the teapot at an appropriate height.",
      "Compute grasp pose with top strategy.",
      "Grasp teapot at computed pose.",
      "Verify teapot is held in gripper.",
      "Verify stove visibility; detect if not visible.",
      "Move above stove surface.",
      "Place teapot on stove area with gentle press.",
      "Open gripper to release teapot.",
      "Retreat from the placement area."
    ],
    "success_criteria": [
      "Teapot is stably placed on the stove.",
      "Robot releases grip successfully.",
      "No collisions with obstacles during placement.",
      "End-effector retreats from stove after placing."
    ],
    "failure_and_recovery": [
      "Failure to detect objects: retry detection task.",
      "Unsuccessful grasp: reacquire grasp pose and retry.",
      "Misalignment during place: recompute pose and try again.",
      "Obstruction on stove: abort or relocate teapot."
    ],
    "termination": "Tree completes all actions, teapot is placed on stove and robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place the teapot on the stove",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["teapot","stove","gripper","robot_arm"],
  "objects_from_instruction": ["teapot","stove"],
  "blackboard_keys": ["grasp_teapot"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"teapot"},"description":"Checks visibility of teapot."},
    {"id":"DetectObject","type":"Action","ports":{"target":"teapot","timeout_ms":800},"description":"Detects teapot using sensors."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper for grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"teapot","offset_z":0.05,"timeout_ms":1500},"description":"Moves arm above teapot."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"teapot","strategy":"top","result_key":"grasp_teapot"},"description":"Computes grasp pose."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_teapot","strategy":"top","timeout_ms":1000},"description":"Grasps teapot at pose."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"teapot"},"description":"Checks if teapot is in gripper."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"stove"},"description":"Checks visibility of stove."},
    {"id":"DetectObject","type":"Action","ports":{"target":"stove","timeout_ms":800},"description":"Detects stove using sensors."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"stove","offset_z":0.10,"timeout_ms":1500},"description":"Moves arm above stove."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"teapot","area_id":"stove","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Places teapot on stove surface."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens gripper to release teapot."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Moves away from placement area."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 4, "depth": 2},
  "failure_modes": [
    "Object not detected",
    "Failed grasp",
    "Placement misalignment",
    "Collision with cabinet/stove"
  ],
  "recovery_strategy": [
    "Retry detection if object missing",
    "Retry grasp if teapot slips",
    "Recompute place pose for better alignment",
    "Abort or adjust motion if collision imminent"
  ],
  "assumptions": [
    "Instruction refers to teapot; frames confirm the object and destination are as described.",
    "No evidence in frames of stove knob manipulation, so only placement is modeled.",
    "Both teapot and stove are accessible to robot.",
    "Instruction is strictly followed unless contradicted by frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Teapot is visibly placed stably on the stove, released by gripper."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"teapot"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"teapot","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"teapot","strategy":"top","result_key":"grasp_teapot"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_teapot","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"stove","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"teapot","area_id":"stove","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}