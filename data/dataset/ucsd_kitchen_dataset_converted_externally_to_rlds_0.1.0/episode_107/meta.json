{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_107",
  "task_summary": "Robot perceives, grasps, and places a teapot onto a stove using a top grasp and safe placement sequence per frames.",
  "task_long_description": {
    "overview": "This task involves a robotic arm interacting with a kitchen scene to place a teapot on the stove. The robot must locate the teapot, approach, grasp it using a top grasp, lift, transfer, and align it over the stove, finally placing it carefully and retreating. It must handle perception, manipulation, and safe release, reflecting the workspace constraints seen in the frames.",
    "preconditions": [
      "Teapot is present on a reachable counter.",
      "Stove is unoccupied and accessible.",
      "Robot gripper is empty at start."
    ],
    "stepwise_plan": [
      "Check teapot visibility or scan to acquire its pose.",
      "Approach teapot and prepare the gripper.",
      "Compute grasp pose and align end effector.",
      "Lower and close gripper for grasp.",
      "Confirm stable grasp.",
      "Check stove visibility or detect if needed.",
      "Move above the stove and align.",
      "Place teapot onto stove with gentle press.",
      "Open gripper and retreat arm."
    ],
    "success_criteria": [
      "Teapot is placed stably on the stove surface.",
      "No collision or object loss occurs during the sequence.",
      "Gripper has released the teapot and retracted safely."
    ],
    "failure_and_recovery": [
      "If object not visible, scan and retry up to 3 attempts.",
      "If grasp not stable, repeat perception and grasp.",
      "If collision detected, abort motion and retry from safe pose."
    ],
    "termination": "The behavior terminates after teapot placement, gripper opening, and arm retreat."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place the teapot on the stove",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "teapot",
    "stove"
  ],
  "objects_from_instruction": [
    "teapot",
    "stove"
  ],
  "blackboard_keys": [
    "grasp_teapot"
  ],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"teapot"},"description":"Checks if teapot is currently visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"teapot","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scans workspace to locate teapot with raster pattern, up to 3 attempts."},
    {"id":"DetectObject","type":"Action","ports":{"target":"teapot","timeout_ms":800},"description":"Performs refined detection of the teapot object."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens the gripper to specified width to prepare for grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"teapot","offset_z":0.05,"timeout_ms":1200},"description":"Moves end effector above teapot by 5cm."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"teapot","strategy":"top","result_key":"grasp_teapot"},"description":"Computes top-down grasp pose for teapot."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"teapot","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns to teapot with tight tolerance."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lowers gripper until contact detected at 5N."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Closes gripper with 10N force to grasp the teapot."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verifies grasp stability."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"stove"},"description":"Checks if stove is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"stove","timeout_ms":800},"description":"Detects stove for placement."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"stove","offset_z":0.10,"timeout_ms":1200},"description":"Moves above stove surface by 10cm."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"teapot","area_id":"stove","yaw_deg":0,"press_force":5,"timeout_ms":1200},"description":"Places teapot on the stove at neutral yaw with gentle press."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens gripper to release teapot."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retracts arm 10cm after placement."}
  ],
  "tree_stats": {
    "nodes_total": 17,
    "actions": 12,
    "conditions": 3,
    "depth": 4
  },
  "failure_modes": [
    "Teapot visibility failures",
    "Failed or unstable grasp of teapot",
    "Stove not visible",
    "Collision during approach or place stages",
    "Teapot not released"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget on initial and pre-place failures (3 attempts)",
    "Abort and retry on grasp stability fail",
    "Ensure gripper opens before and after manipulation"
  ],
  "assumptions": [
    "Instruction and frames match in objects and environment.",
    "Teapot is a suitable object for PlaceOnSurface using top grasp.",
    "The stove area is flat and reachable.",
    "If offsets or area naming do not match actual environment, symbolic mapping is assumed per annotation."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Teapot is stably left on stove.",
      "No collision or drop occurs.",
      "Robot ends with gripper open and arm clear."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "teapot"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "teapot","pattern": "raster","max_attempts": 3,"timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "teapot","timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "teapot","offset_z": 0.05,"timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {"force": 10,"timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "stove","offset_z": 0.10,"timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {"target": "teapot","area_id": "stove","yaw_deg": 0,"press_force": 5,"timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.08,"timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10,"timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}