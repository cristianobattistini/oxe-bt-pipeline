{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_057",
  "task_summary": "Place the green box into the sink by perceiving, grasping, transferring, and placing it as shown in the episode frames.",
  "task_long_description": {
    "overview": "This episode depicts a robot arm tasked with moving a green box from its initial position (on the right counter) into a sink. The robot must visually locate the object, approach, align, and grasp the box, then move above the sink and release it, ensuring successful placement. The scene involves a kitchen mockup, visible objects include the green box, sink, and manipulable surfaces, with underlying constraints of collision-free and stable grasp-and-place transitions.",
    "preconditions": [
      "Green box is visible and accessible on the counter",
      "Sink is empty and reachable",
      "Robot arm is operational and initial position is away from the box"
    ],
    "stepwise_plan": [
      "Check visibility of green box and scan if necessary",
      "Detect box, open gripper, move above and align for grasp",
      "Grasp box with lowest allowed force and verify grasp stability",
      "Check visibility of sink and detect sink if needed",
      "Move box above sink with safe offset",
      "Place box onto sink surface with gentle press force, then open gripper",
      "Retreat arm from sink area"
    ],
    "success_criteria": [
      "Green box is no longer on counter and is stably placed in the sink",
      "Arm retreats and does not collide with environment"
    ],
    "failure_and_recovery": [
      "Box not detected: Retry scan up to 3 times",
      "Grasp fails: Check and retry approach and grasp",
      "Placement unstable: Gentle press and gripper release with verification"
    ],
    "termination": "Tree terminates once retreat action after gripper is opened in sink is completed"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the green box into the sink",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_box", "sink", "counter", "robot_arm"],
  "objects_from_instruction": ["green_box", "sink"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"green_box"}, "description":"Checks if green box is visible"},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"green_box","pattern":"raster","max_attempts":3,"timeout_ms":1200}, "description":"Scans for green box with raster pattern"},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"green_box","timeout_ms":800}, "description":"Detect green box precisely"},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.06,"timeout_ms":500}, "description":"Open gripper to grasp"},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"green_box","offset_z":0.05,"timeout_ms":1500}, "description":"Move above green box"},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"green_box","tolerance":0.005,"timeout_ms":1500}, "description":"Approach and align to green box"},
    {"id":"CloseGripper", "type":"Action", "ports":{"force":5,"timeout_ms":800}, "description":"Grasp the green box gently"},
    {"id":"IsGraspStable", "type":"Condition", "ports":{}, "description":"Verifies grasp is stable"},
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"sink"}, "description":"Checks if sink is visible"},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"sink","timeout_ms":800}, "description":"Detect sink precisely"},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500}, "description":"Move above sink"},
    {"id":"PlaceOnSurface", "type":"Action", "ports":{"target":"green_box","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200}, "description":"Place green box onto sink surface"},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.08,"timeout_ms":500}, "description":"Open gripper to release box"},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.1,"timeout_ms":1200}, "description":"Retreat robot arm"}
  ],
  "tree_stats": {
    "nodes_total": 15,
    "actions": 11,
    "conditions": 4,
    "depth": 4
  },
  "failure_modes": [
    "Box not detected",
    "Sink not detected",
    "Grasp failure (slip or not secured)",
    "Placement misaligned / box not stably in sink"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget on perception failures",
    "Re-approach and realign for failed grasps",
    "Open gripper and re-attempt placement if box not released"
  ],
  "assumptions": [
    "Instruction said 'put into sink', but frames show box placed onto sink surface (not inside, as sink depth may be minimal)",
    "Green box is consistently visible and recognizable through all frames",
    "No explicit evidence of clearance or container opening required"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Green box is stably placed in sink area and not on counter",
      "Robot arm completes retreat after release"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "green_box"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "green_box", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "green_box", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "green_box", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id": "CloseGripper", "attrs": {"force": 5, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "sink", "offset_z": 0.10, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id": "PlaceOnSurface", "attrs": {"target": "green_box", "area_id": "sink", "yaw_deg": 0, "press_force": 5, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.08, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.1, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}