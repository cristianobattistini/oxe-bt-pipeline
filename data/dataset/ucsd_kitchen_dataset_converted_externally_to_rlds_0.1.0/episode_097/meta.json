{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_097",
  "task_summary": "Move the green box into the sink using a robot arm, as evidenced by the frames. The robot locates, grasps, transfers, and places the box in the sink.",
  "task_long_description": {
    "overview": "This episode depicts a robot arm tasked with placing a green box into a kitchen sink. The workspace features everyday kitchen items. The robot executes object detection, approaches from above, uses a top grasp, moves the box, and positions it inside the sink. Frames visually confirm clean grasp, transfer, and precise placement, mapping to sequential manipulation phases.",
    "preconditions": [
      "Robot is powered on and initialized",
      "Green box is present and reachable",
      "Sink is accessible",
      "Gripper is functional"
    ],
    "stepwise_plan": [
      "Check for visibility of green box; scan if needed",
      "Detect and localize green box",
      "Open gripper to grasp width",
      "Move above green box with safe clearance",
      "Compute top grasp pose",
      "Execute grasp at computed pose",
      "Verify green box is held",
      "Check for visibility of sink; detect if needed",
      "Move above sink with safe offset",
      "Place green box onto sink surface with minimum force",
      "Open gripper to release",
      "Retreat arm after placement"
    ],
    "success_criteria": [
      "Green box is inside sink after release",
      "No collisions with scene elements",
      "Grasp and placement performed safely",
      "Green box is let go and remains in sink"
    ],
    "failure_and_recovery": [
      "Green box not detected: retry scanning",
      "Grasp unsuccessful: retry grasp sequence",
      "Sink not detected: scan for sink",
      "Placement fails: retry move and placement"
    ],
    "termination": "Tree terminates when the green box is released inside the sink and arm has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the green box into the sink",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1000,
    "tolerance": 0.0,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["green_box","sink"],
  "objects_from_instruction": ["green_box","sink"],
  "blackboard_keys": ["grasp_green_box"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"green_box"},"description":"Checks if green box is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"green_box","pattern":"grid","max_attempts":3,"timeout_ms":1000},"description":"Scans workspace for green box."},
    {"id":"DetectObject","type":"Action","ports":{"target":"green_box","timeout_ms":800},"description":"Detects exact position of green box."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper to grasp width."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"green_box","offset_z":0.10,"timeout_ms":1500},"description":"Moves gripper above green box."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"green_box","strategy":"top","result_key":"grasp_green_box"},"description":"Computes top grasp pose."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_green_box","strategy":"top","timeout_ms":1000},"description":"Grasps at computed pose of green box."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"green_box"},"description":"Verifies box is held in gripper."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"sink"},"description":"Checks sink visibility."},
    {"id":"DetectObject","type":"Action","ports":{"target":"sink","timeout_ms":800},"description":"Detects sink location if not visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500},"description":"Moves gripper above the sink."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"green_box","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200},"description":"Places green box onto the sink surface."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Opens gripper to release box."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Moves arm away after placement."}
  ],
  "tree_stats": {
    "nodes_total": 15,
    "actions": 10,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "Object not visible",
    "Object not detected",
    "Grasp failure",
    "Sink not visible",
    "Placement error"
  ],
  "recovery_strategy": [
    "Re-scan for objects",
    "Retry approach and grasp",
    "Re-detect sink",
    "Repeat placement with adjusted pose"
  ],
  "assumptions": [
    "Green box is present at start and visually confirmed in frames",
    "Sink is open and unobstructed",
    "Frame [0] to [8] shows no manual interference",
    "Visual evidence overrides ambiguous instruction details"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Green box correctly placed in sink; verified in final frames",
      "No collisions during approach and transfer",
      "Retreat step executed after release"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_box","pattern":"grid","max_attempts":3,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_box","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_box","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_green_box","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"green_box","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}