{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_029",
  "task_summary": "The robot is tasked with picking up the white box from the counter and placing it into the sink using a top-down grasp and verified object detection.",
  "task_long_description": {
    "overview": "In this sequence, a robot arm interacts with a countertop to locate, grasp, and relocate a white box into the sink. The scene includes a white box, sink, and other objects, but the white box is visually identified in the contact sheet. The robot first locates and verifies the box, opens its gripper, approaches and aligns for a top grasp, and picks the box. After confirming the grasp, it searches for the sink, positions above, then places and releases the box, and finally retreats. The plan avoids collision and emphasizes secure placement.",
    "preconditions": [
      "White box is present and accessible on counter",
      "Robot gripper is operational",
      "Sink is empty and reachable"
    ],
    "stepwise_plan": [
      "Ensure white box is visible; reacquire if necessary",
      "Detect and confirm white box pose",
      "Open gripper and approach/align to white box",
      "Compute and execute top grasp",
      "Verify white box secured in gripper",
      "Locate sink and confirm pose",
      "Move above sink and place box down",
      "Open gripper to release box",
      "Retreat arm from sink area"
    ],
    "success_criteria": [
      "White box is placed inside sink",
      "Box released and not held by gripper",
      "No collisions or dropped box during transfer"
    ],
    "failure_and_recovery": [
      "Object not detected: retry scan",
      "Grasp unstable: retry or adjust grasp pose",
      "Transfer obstructed: replan approach or retry place"
    ],
    "termination": "Task ends when white box has been released inside the sink and arm has retreated"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the white box into the sink",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_box", "sink", "counter", "gripper", "other bottles"],
  "objects_from_instruction": ["white_box", "sink"],
  "blackboard_keys": ["grasp_white_box"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_box"},"description":"Check if the white box is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_box","pattern":"grid","max_attempts":3,"timeout_ms":800},"description":"Scan for the white box using grid pattern up to 3 times."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_box","timeout_ms":800},"description":"Detect and localize the white box."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Open gripper to 6 cm to prepare for grasp."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_box","tolerance":0.005,"timeout_ms":1500},"description":"Approach and align with white box (tight tolerance)."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_box","strategy":"top","result_key":"grasp_white_box"},"description":"Compute grasp pose from top for white box."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_white_box","strategy":"top","timeout_ms":800},"description":"Grasp the white box at computed pose."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_box"},"description":"Check that the white box is secured in gripper."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"sink"},"description":"Check if the sink is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"sink","timeout_ms":800},"description":"Detect and localize the sink area."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"sink","offset_z":0.05,"timeout_ms":1500},"description":"Move above sink, 5 cm offset."},
    {"id":"PlaceDown","type":"Action","ports":{"target":"sink","timeout_ms":1000},"description":"Place the object down into sink."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Open gripper to release object in sink."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreat gripper away from sink"}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 10, "conditions": 3, "depth": 3},
  "failure_modes": [
    "White box not detected",
    "Sink not recognized",
    "Grasp unsuccessful",
    "Box dropped or not released properly",
    "Collision with environment"
  ],
  "recovery_strategy": [
    "Re-scan for object/sink",
    "Retry grasp or adjust approach/align parameters"
  ],
  "assumptions": [
    "The white box is unambiguously identifiable in the frames; no obvious occlusion.",
    "Sink area is fully accessible; no water or obstacles inside sink.",
    "Frame sequence supports a direct grasp and deposit motion (no multi-phase manipulation required)."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Box reliably transitions from counter into sink",
      "No grasp failures visible in the episode",
      "Final state: white box in sink, gripper open and retreated"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"white_box"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"white_box","pattern":"grid","max_attempts":3,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_box","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_box","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_white_box","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceDown","attrs":{"target":"sink","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}