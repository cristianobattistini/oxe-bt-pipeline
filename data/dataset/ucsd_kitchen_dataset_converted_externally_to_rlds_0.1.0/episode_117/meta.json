{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_117",
  "task_summary": "A robot arm is tasked to pick up a green box and place it inside the sink, ensuring a stable grasp and proper placement on the sink surface.",
  "task_long_description": {
    "overview": "This episode demonstrates a robot arm carrying out an object placement task in a miniature kitchen environment. The robot must first detect, localize, and secure a grasp of a small green box located on the counter. After verifying grasp stability, it transfers the green box toward the sink, places it carefully on the sink surface, and releases its grip before retreating. The process involves visual perception, precise motion planning, and feedback confirmation during grasp and placement stages.",
    "preconditions": [
      "Green box present on counter and visible to sensors",
      "Sink area is unobstructed",
      "Gripper initialized and operational"
    ],
    "stepwise_plan": [
      "Visually localize the green box",
      "Move gripper above box and compute grasp pose",
      "Approach and lower gripper to establish contact",
      "Close gripper to grasp the box",
      "Verify stable grasp",
      "Detect and localize sink area",
      "Move box above sink",
      "Place box on sink surface and release",
      "Retreat from sink and wait briefly"
    ],
    "success_criteria": [
      "Green box is placed securely inside the sink",
      "No accidental drops or misplacement",
      "Gripper releases object fully and retreats"
    ],
    "failure_and_recovery": [
      "Box not detected: retry scan sequence",
      "Unstable grasp: reattempt approach/grasp",
      "Sink not detected: scan sink area and retry",
      "Placement fails: re-approach or nudge to correct"
    ],
    "termination": "Task ends when box has been released in sink and robot retreats."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the green box into the sink",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_box", "sink", "kitchen_counter", "gripper", "robot_arm"],
  "objects_from_instruction": ["green_box", "sink"],
  "blackboard_keys": ["grasp_green_box"],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"green_box"}, "description":"Check if green box is visible"},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"green_box","pattern":"raster","max_attempts":3,"timeout_ms":1200}, "description":"Scan for green box up to 3 times"},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"green_box","timeout_ms":800}, "description":"Localize and segment green box"},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.06,"timeout_ms":500}, "description":"Open gripper to preset width"},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"green_box","offset_z":0.05,"timeout_ms":1500}, "description":"Move end-effector above green box"},
    {"id":"ComputeGraspPose", "type":"Action", "ports":{"target":"green_box","strategy":"top","result_key":"grasp_green_box"}, "description":"Compute optimal top grasp for box"},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"green_box","tolerance":0.005,"timeout_ms":1500}, "description":"Approach box with tight alignment tolerance"},
    {"id":"LowerUntilContact", "type":"Action", "ports":{"speed":"normal","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}, "description":"Lower gripper until light contact"},
    {"id":"CloseGripper", "type":"Action", "ports":{"force":10,"timeout_ms":800}, "description":"Close gripper to grasp with light force"},
    {"id":"IsGraspStable", "type":"Condition", "ports":{}, "description":"Confirm grasp stability"},
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"sink"}, "description":"Check if sink is visible"},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"sink","timeout_ms":800}, "description":"Segment and localize the sink"},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500}, "description":"Move gripper holding box above sink"},
    {"id":"PlaceOnSurface", "type":"Action", "ports":{"target":"green_box","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1200}, "description":"Place green box on sink surface"},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.08,"timeout_ms":500}, "description":"Release green box"},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.10,"timeout_ms":1200}, "description":"Move away from sink"},
    {"id":"Wait", "type":"Action", "ports":{"timeout_ms":500}, "description":"Brief wait for transition"}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 14, "conditions": 4, "depth": 3},
  "failure_modes": [
    "green box not detected",
    "failed grasp (slip/unstable)",
    "sink not detected",
    "placement attempt misaligns with sink",
    "gripper fails to release"
  ],
  "recovery_strategy": [
    "Rescan target up to 3 times",
    "Re-approach and realign for grasp if unstable",
    "Retry sink detection if not visible",
    "Repeat placement motion, nudge, or try again"
  ],
  "assumptions": [
    "Frames show green box placement sequence consistent with instruction",
    "No confounding objects blocking the sink or box",
    "green_box, sink names derive from visible objects in frames (frames used for grounding)",
    "No explicit force or timing specified in instructionâ€”default bins used per library"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Box fully inside sink at episode end",
      "Box released by gripper",
      "Placement executed without collision or spill"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"green_box"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_box","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_box","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"green_box","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"normal","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"green_box","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}