{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_031",
  "task_summary": "The robot locates the canned spam on the counter, grasps it securely, transports it to the sink, and places it there, finally retreating to avoid further interference.",
  "task_long_description": {
    "overview": "A robot arm must pick up a can of spam from the kitchen counter and place it into the sink. The kitchen scene contains the can, a sink, counter, faucet, and possibly other distractors. The robot must perceive, approach, grasp, and transfer the can, ensuring placement in the sink and safe withdrawal. The behavior is robust to visibility failures and grasp uncertainties, retrying perception if the can is occluded or not initially detected.",
    "preconditions": [
      "Spam can is on the counter within reachable workspace",
      "Sink location is known or visually detectable",
      "Robot gripper is empty/open"
    ],
    "stepwise_plan": [
      "1. Find and verify visibility of the spam can.",
      "2. Detect the object's precise pose.",
      "3. Open the gripper and move above the can.",
      "4. Compute and align for a top-down grasp.",
      "5. Lower until contact and close gripper to pick up the can.",
      "6. Confirm grasp stability.",
      "7. Detect/verify sink location.",
      "8. Move above the sink and place the can on its surface.",
      "9. Open gripper, retreat, and wait for confirmation."
    ],
    "success_criteria": [
      "Spam can is placed securely inside the sink",
      "No collision or object dropped during transfer",
      "Robot retreats successfully after placement"
    ],
    "failure_and_recovery": [
      "If the can is not visible: retry visual scan up to 3 times.",
      "If grasp is not stable: abort before transfer.",
      "If sink is not visible: perform detection attempt.",
      "If placement fails: possible retry (not specified in this BT)"
    ],
    "termination": "Terminate upon successful placement and retreat. Fail on repeated detection or grasping failures."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the canned spam into the sink",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["spam_can", "sink", "counter", "robot_arm"],
  "objects_from_instruction": ["spam_can", "sink"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"spam_can"},"description":"Checks if spam can is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"spam_can","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scans workspace to look for the spam can using a raster pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"spam_can","timeout_ms":800},"description":"Detects the spam can and its pose."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens the gripper to receive the can."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"spam_can","offset_z":0.05,"timeout_ms":1500},"description":"Moves above the spam can to prepare for grasping."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"spam_can","strategy":"top","result_key":"std_top"},"description":"Computes a top-down grasp pose for the can."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"spam_can","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns to the can for precise grabbing."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lowers gripper until contact with can is made."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Closes the gripper with 10N to grasp the can."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks if the grasp is stable after closing the gripper."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"sink"},"description":"Checks if the sink is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"sink","timeout_ms":800},"description":"Detects the sink's pose if not visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500},"description":"Moves above the sink to prepare for placing can."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"spam_can","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Places the can onto the surface of the sink with 10N press force."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens the gripper to release the can."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.15,"timeout_ms":1200},"description":"Retreats the gripper away from the sink area."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Waits briefly after retreat to ensure completion."}
  ],
  "tree_stats": {"nodes_total":17,"actions":12,"conditions":3,"depth":3},
  "failure_modes": [
    "Spam can not visible or occluded",
    "Failed to compute feasible grasp pose",
    "Unstable grasp: can drops or escapes",
    "Sink not detected",
    "Placement error: can not settled in sink",
    "Collision with environment"
  ],
  "recovery_strategy": [
    "Retry perception scan for can (up to 3x)",
    "Retry sink detection if unseen",
    "Abort if grasp is unstable after closing gripper",
    "Abort if unrecoverable collision is predicted"
  ],
  "assumptions": [
    "The object referenced as 'canned spam' in the instruction matches the visually present can in the frames.",
    "The manipulation surface labeled 'sink' is unoccluded and provides a stable placement surface.",
    "No explicit confirmation of can inside sink post-placement, but placement action is assumed sufficient.",
    "Object size, allowable grasp, and drop zones are not parametrized but derived from visual context.",
    "Instruction and visual evidence are consistent; if not, the frames take precedence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Canned spam visually observed within sink area after behavior execution.",
      "No gripping or placement failures detected.",
      "Robot arm not obstructing sink post-placement."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"spam_can"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"spam_can","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"spam_can","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"spam_can","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.15,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}