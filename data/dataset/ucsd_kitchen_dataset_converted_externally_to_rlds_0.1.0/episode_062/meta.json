{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_062",
  "task_summary": "The robot opens the lower cabinet door in a kitchen scene by perceiving, approaching, grasping, pulling, and verifying the door is open.",
  "task_long_description": {
    "overview": "This behavior tree directs a robotic manipulator in a kitchen setting to open a lower cabinet door. The robot first scans and detects the door, navigates to its handle, aligns itself, grasps with a pulling force, actuates the opening, verifies the state, and then safely retreats. The process accounts for perception and actuation, using the contact sheet evidence that the door is opened by pulling. All actions respect workspace constraints and object position, focusing exclusively on the lower cabinet door as visible in the frames.",
    "preconditions": [
      "Cabinet door is closed and reachable.",
      "Robot arm is unoccupied and ready.",
      "Cabinet area is unobstructed."
    ],
    "stepwise_plan": [
      "Scan for and detect the cabinet door.",
      "Move to and approach the cabinet handle.",
      "Align precisely with the handle.",
      "Grasp handle using a pulling strategy.",
      "Perform door opening actuation.",
      "Verify the cabinet door is now open.",
      "Retract manipulator from the cabinet."
    ],
    "success_criteria": [
      "Cabinet door visibly open and clear of the closed position.",
      "No damage to door or handle.",
      "Robot arm is safely withdrawn."
    ],
    "failure_and_recovery": [
      "Perception errors (retry scan up to 3 attempts).",
      "Grasp/actuation failure (abort and retry if possible).",
      "Mechanical obstruction (abort and signal fault)."
    ],
    "termination": "Sequence completes on confirming the cabinet door is open and arm is retracted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Open the carbinet door",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["cabinet_door", "cabinet_handle", "robot_gripper"],
  "objects_from_instruction": ["cabinet_door"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"ScanForTarget","type":"Action","ports":{"target":"cabinet_door","pattern":"line","max_attempts":3,"timeout_ms":1200},
      "description": "Scan the scene for the cabinet door using a line pattern."
    },
    {
      "id":"DetectObject","type":"Action","ports":{"target":"cabinet_door","timeout_ms":800},
      "description": "Detect the cabinet door for precise localization."
    },
    {
      "id":"MoveTo","type":"Action","ports":{"target":"cabinet_door","timeout_ms":1200},
      "description": "Move the end effector to the cabinet door/handle."
    },
    {
      "id":"ApproachAndAlign","type":"Action","ports":{"target":"cabinet_door","tolerance":0.005,"timeout_ms":1500},
      "description": "Align gripper with the cabinet handle with fine tolerance."
    },
    {
      "id":"Grasp","type":"Action","ports":{"target":"cabinet_door","strategy":"pull","force":5,"timeout_ms":800},
      "description": "Grasp the cabinet handle and apply minimal pulling force."
    },
    {
      "id":"OpenContainer","type":"Action","ports":{"target":"cabinet_door","container_type":"cabinet","timeout_ms":1500},
      "description": "Open the cabinet door using door-opening actuation."
    },
    {
      "id":"ContainerOpen","type":"Condition","ports":{"target":"cabinet_door"},
      "description": "Check if the cabinet door is open."
    },
    {
      "id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},
      "description": "Retract the arm by 10cm after opening."
    },
    {
      "id":"IsObjectVisible","type":"Condition","ports":{"target":"cabinet_door"},
      "description": "Checks if cabinet door is presently visible."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Cabinet door not detected.",
    "Cannot grasp handle.",
    "Actuation fails (door jammed, gripper slip)."
  ],
  "recovery_strategy": [
    "Retry scanning for door up to 3 times.",
    "Abort grasp and reset if slip detected.",
    "Abort sequence and log error if opening impossible."
  ],
  "assumptions": [
    "Frames clearly show single lower cabinet door manipulated; interpreted as 'cabinet_door'.",
    "Handle is accessible for the robotic gripper.",
    "Instruction typo ('carbinet') taken to mean 'cabinet'.",
    "All visible phases mapped directly to BT for completeness."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cabinet door is visually open at end of episode.",
      "Gripper disengages safely."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"cabinet_door","pattern":"line","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cabinet_door","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"cabinet_door","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cabinet_door","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Grasp","attrs":{"target":"cabinet_door","strategy":"pull","force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"cabinet_door","container_type":"cabinet","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"cabinet_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}