{
  "dataset_id": "berkeley_gnm_cory_hall_0.1.0",
  "episode_id": "episode_030",
  "task_summary": "Drive down the corridor and stop at the doorway/goal.",
  "task_long_description": {
    "overview": "A mobile robot navigates a straight corridor toward a bright doorway that visually anchors the goal. The scene shows progressive forward motion with slight rightward curvature near the end. The robot first orients and perceives the goal region, optionally passing through an intermediate waypoint to stabilize heading, then executes a reliable approach. A final position check confirms arrival at the doorway. Timeouts and a bounded retry on the final leg provide robustness to corridor lighting and minor odometry drift.",
    "preconditions": [
      "Robot is localized and drivable",
      "Corridor is traversable",
      "Goal doorway is reachable and approximately in front"
    ],
    "stepwise_plan": [
      "If already at goal, succeed immediately",
      "Navigate to waypoint_1 to center in the corridor",
      "Scan to confirm the doorway direction",
      "Retryable navigate to goal",
      "Verify arrival with IsAt(goal)"
    ],
    "success_criteria": [
      "Robot stops within the doorway vicinity aligned with corridor",
      "Final IsAt(goal) condition returns success"
    ],
    "failure_and_recovery": [
      "If doorway not detected, rescan within timeout",
      "If navigation to goal fails, retry up to 3 times",
      "If timeouts trigger repeatedly, abort"
    ],
    "termination": "Tree returns SUCCESS upon IsAt(goal) after navigation, or FAILURE upon repeated timeouts/retries exhaustion."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable corridor-centering with clear doorway aperture visible ahead",
        "predicts_next": "continued forward approach and slight rightward alignment",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Navigate to the goal.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "corridor",
    "goal_door",
    "walls",
    "floor"
  ],
  "objects_from_instruction": [
    "goal"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": {
        "target": "string"
      },
      "description": "Checks if the robot is already at the named target."
    },
    {
      "id": "NavigateToNamed",
      "type": "Action",
      "ports": {
        "location_id": "string",
        "yaw_deg": "int",
        "timeout_ms": "int"
      },
      "description": "Navigate the base to a named location with a target yaw and timeout."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "string",
        "pattern": "string",
        "max_attempts": "int",
        "timeout_ms": "int"
      },
      "description": "Active visual scan using a given pattern to confirm target direction."
    },
    {
      "id": "RetryUntilSuccessful",
      "type": "Decorator",
      "ports": {
        "num_attempts": "int"
      },
      "description": "Retry child action until success or attempts exhausted."
    },
    {
      "id": "Sequence",
      "type": "Composite",
      "ports": {},
      "description": "Runs children in order, failing on the first failure."
    },
    {
      "id": "Fallback",
      "type": "Composite",
      "ports": {},
      "description": "Tries children in order, succeeding on the first success."
    }
  ],
  "tree_stats": {
    "nodes_total": 9,
    "actions": 3,
    "conditions": 2,
    "depth": 5
  },
  "failure_modes": [
    "Goal perception lost due to glare",
    "Robot drifts toward wall",
    "Timeout while approaching goal"
  ],
  "recovery_strategy": [
    "Rescan doorway direction",
    "Retry final approach up to 3 times",
    "Abort if repeated timeouts"
  ],
  "assumptions": [
    "The 'goal' corresponds to the bright doorway at the corridor end; frames show forward progression with minor rightward curve near the end."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Final IsAt(goal) true after approach"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "goal_door",
          "pattern": "line",
          "max_attempts": 3,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "waypoint_1",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "waypoint_1",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "waypoint_1",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 7000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 7000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 7000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {
          "target": "goal"
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {
          "target": "goal"
        }
      },
      "active_path_ids": []
    }
  ]
}