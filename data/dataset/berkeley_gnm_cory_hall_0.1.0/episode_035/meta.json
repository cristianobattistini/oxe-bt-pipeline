{
  "dataset_id": "berkeley_gnm_cory_hall_0.1.0",
  "episode_id": "episode_035",
  "task_summary": "Navigate down the corridor to the named goal location and stop when at the goal.",
  "task_long_description": {
    "overview": "A mobile robot navigates along a straight indoor corridor toward a distant doorway or landmark that represents the goal. Frames show progressive forward motion with walls and a wooden door on the left. The behavior tree sets the goal on the blackboard, checks if the robot is already there, and otherwise repeatedly commands navigation to the named goal until arrival. Timeouts are moderate to allow safe motion in a hallway.",
    "preconditions": [
      "Localizer provides pose estimates",
      "Map or semantic waypoint 'goal' available",
      "Drive base operational",
      "Corridor is traversable"
    ],
    "stepwise_plan": [
      "Set blackboard key 'nav_target' to 'goal'",
      "If already at goal, succeed",
      "Otherwise repeatedly issue NavigateToNamed(goal, yaw 0) until success"
    ],
    "success_criteria": [
      "Robot reaches 'goal' location",
      "Final IsAt(target='goal') returns true",
      "Robot stops at the goal"
    ],
    "failure_and_recovery": [
      "Transient planning or control failure: retry navigation up to three attempts",
      "If navigation repeatedly times out, the tree remains in retry until external intervention"
    ],
    "termination": "Tree returns SUCCESS once IsAt(target='goal') succeeds"
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Clear forward progress with corridor features centered, indicating stable navigation.",
        "predicts_next": "Continued forward motion toward the bright doorway goal.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Navigate to the goal.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 5000,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "corridor",
    "left_wall_door",
    "distant_doorway_goal"
  ],
  "objects_from_instruction": [
    "goal"
  ],
  "blackboard_keys": [
    "nav_target"
  ],
  "node_specs": [
    {
      "id": "SetBlackboard",
      "type": "Action",
      "ports": {
        "key": "string",
        "value": "string"
      },
      "description": "Publish the desired navigation target to the blackboard."
    },
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": {
        "target": "string"
      },
      "description": "Check whether the robot is already at the target location."
    },
    {
      "id": "NavigateToNamed",
      "type": "Action",
      "ports": {
        "location_id": "string",
        "yaw_deg": "int",
        "timeout_ms": "int"
      },
      "description": "Navigate to a named waypoint with a desired final yaw and timeout."
    },
    {
      "id": "RetryUntilSuccessful",
      "type": "Decorator",
      "ports": {
        "num_attempts": "int"
      },
      "description": "Retry the child until success or attempts exhausted."
    },
    {
      "id": "Sequence",
      "type": "Composite",
      "ports": {},
      "description": "Execute children in order."
    },
    {
      "id": "Fallback",
      "type": "Composite",
      "ports": {},
      "description": "Try first child; if it fails, run the next."
    }
  ],
  "tree_stats": {
    "nodes_total": 6,
    "actions": 2,
    "conditions": 1,
    "depth": 5
  },
  "failure_modes": [
    "Localization drift prevents IsAt from triggering",
    "Path planner times out due to obstacle",
    "Controller oscillation in narrow corridor"
  ],
  "recovery_strategy": [
    "Retry navigation command up to three times",
    "Rely on planner replan between retries"
  ],
  "assumptions": [
    "Goal corresponds to the bright doorway at the corridor end; frames show forward advance in a hallway; instruction aligns with observed motion."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Final pose within goal tolerance so that IsAt returns SUCCESS"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "SetBlackboard",
        "attrs": {
          "key": "nav_target",
          "value": "goal"
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {
          "target": "goal"
        }
      },
      "active_path_ids": []
    }
  ]
}