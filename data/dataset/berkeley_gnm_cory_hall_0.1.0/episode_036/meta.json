{
  "dataset_id": "berkeley_gnm_cory_hall_0.1.0",
  "episode_id": "episode_036",
  "task_summary": "Search for the goal landmark, approach and align in the hallway, navigate to the named goal location, and verify arrival.",
  "task_long_description": {
    "overview": "The robot navigates a dim hallway toward a doorway-like goal visible on the right. It first scans to localize the goal, then approaches while maintaining alignment with the corridor walls to avoid grazing them. After alignment, it executes a named-navigation step to the goal and verifies arrival. The contact sheet shows progressive forward motion and tighter right-side proximity, consistent with closing in on a doorway or marker.",
    "preconditions": [
      "Robot is localized and mobile.",
      "Hallway is traversable with no blocked passages.",
      "Goal location or marker is available for detection as 'goal'."
    ],
    "stepwise_plan": [
      "Scan the scene to detect 'goal' using an arc pattern.",
      "Approach and align to the goal within tight tolerance.",
      "Navigate to the named location 'goal' with nominal yaw.",
      "Verify arrival using position check."
    ],
    "success_criteria": [
      "'goal' detected during scan.",
      "Robot reaches location_id='goal' within tolerance.",
      "Final IsAt('goal') condition returns true."
    ],
    "failure_and_recovery": [
      "If scan fails, retry detection up to three attempts.",
      "If alignment or navigation times out, re-run scan then attempt approach again.",
      "If verification fails, repeat navigate step."
    ],
    "termination": "Tree terminates when IsAt(target='goal') succeeds or when an unrecoverable timeout occurs."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Robot is centered with clear right-side doorway cue; alignment appears strongest.",
        "predicts_next": "Continued forward motion toward the door; navigation command likely active.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Navigate to the goal.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "hallway",
    "doorway",
    "goal_marker"
  ],
  "objects_from_instruction": [
    "goal"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "goal",
        "pattern": "arc",
        "max_attempts": 3,
        "timeout_ms": 2000
      },
      "description": "Actively pan/scan to localize the goal marker using an arc pattern within a bounded time."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "goal",
        "tolerance": 0.01,
        "timeout_ms": 3000
      },
      "description": "Close distance and align heading to the goal with tight tolerance to stay centered in the corridor."
    },
    {
      "id": "NavigateToNamed",
      "type": "Action",
      "ports": {
        "location_id": "goal",
        "yaw_deg": 0,
        "timeout_ms": 5000
      },
      "description": "Move to the named location 'goal' with nominal yaw."
    },
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": {
        "target": "goal"
      },
      "description": "Verify the robot is at the goal."
    }
  ],
  "tree_stats": {
    "nodes_total": 6,
    "actions": 3,
    "conditions": 1,
    "depth": 3
  },
  "failure_modes": [
    "Goal not detected during scan",
    "Timeout during approach/alignment",
    "Navigation blocked by corridor obstacle",
    "Verification fails due to localization drift"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times",
    "If approach times out, rescan then re-approach",
    "If blocked, rely on planner to re-route and retry navigate",
    "If IsAt fails, issue another NavigateToNamed"
  ],
  "assumptions": [
    "The doorway-like bright area at right corresponds to the 'goal' marker/location.",
    "No dynamic obstacles that require complex interaction are present."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Detect goal, approach without wall contact, reach NavigateToNamed goal, IsAt succeeds."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "goal",
          "pattern": "arc",
          "max_attempts": 3,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "goal",
          "pattern": "arc",
          "max_attempts": 3,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "goal",
          "tolerance": 0.01,
          "timeout_ms": 3000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "goal",
          "tolerance": 0.01,
          "timeout_ms": 3000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {
          "location_id": "goal",
          "yaw_deg": 0,
          "timeout_ms": 5000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {
          "target": "goal"
        }
      },
      "active_path_ids": []
    }
  ]
}