{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_036",
  "task_summary": "The robot locates and picks up a green apple from a glass platform.",
  "task_long_description": {
    "overview": "The episode demonstrates a robotic arm performing a pick action to retrieve a green apple from a transparent platform. The arm first approaches the object, aligns, lowers until contact, grasps it using a pinch strategy, and then lifts the apple. The scene involves distractors such as white cylindrical and cubic objects placed nearby.",
    "preconditions": [
      "Green apple is visible or can be scanned",
      "Gripper is open",
      "Workspace is clear"
    ],
    "stepwise_plan": [
      "Check visibility of green apple or scan up to 3 times",
      "Detect precise object location",
      "Open gripper to grasp size",
      "Move above the object",
      "Compute grasp pose with pinch strategy",
      "Approach and align",
      "Lower until contact",
      "Close gripper",
      "Verify grasp stability",
      "Lift the object"
    ],
    "success_criteria": [
      "Object lifted cleanly from platform",
      "No collision with neighboring items",
      "Object securely held"
    ],
    "failure_and_recovery": [
      "Object occluded → retry scan",
      "Grasp unstable → abort or retry",
      "Misdetection → fallback on scan"
    ],
    "termination": "Behavior ends when object is securely lifted"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "robot gripper encloses apple vertically, indicating start of secure contact",
        "predicts_next": "grasp closure",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the green apple",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1000,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["green_apple", "glass_platform", "cube", "cylinder", "gripper"],
  "objects_from_instruction": ["green_apple"],
  "blackboard_keys": ["grasp_green_apple"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"green_apple"},"description":"Check if apple is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"green_apple","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Scan for apple if not visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"green_apple","timeout_ms":1000},"description":"Detect green apple"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":800},"description":"Prepare gripper"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"green_apple","offset_z":0.05,"timeout_ms":1500},"description":"Move above green apple"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"green_apple","strategy":"pinch","result_key":"grasp_green_apple"},"description":"Compute grasp pose"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"green_apple","tolerance":0.005,"timeout_ms":1500},"description":"Align with green apple"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1500},"description":"Lower gripper"},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":1000},"description":"Grasp green apple"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Check grasp stability"},
    {"id":"RaiseHeld","type":"Action","ports":{"target":"green_apple","distance":0.10,"timeout_ms":1000},"description":"Lift object"}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 9, "conditions": 2, "depth": 3},
  "failure_modes": ["object not visible", "unstable grasp", "collision with neighbor object"],
  "recovery_strategy": ["scan fallback", "grasp retry", "halt if unstable"],
  "assumptions": ["Green apple is inferred from object color and shape despite lack of explicit label"],
  "evaluation_notes": {
    "expected_success_criteria": ["apple lifted", "object held stably", "no collision"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_apple","pattern":"spiral","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_apple","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"green_apple","strategy":"pinch","result_key":"grasp_green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld","attrs":{"target":"green_apple","distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    }
  ]
}
