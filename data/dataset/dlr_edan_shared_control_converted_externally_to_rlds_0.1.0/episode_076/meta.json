{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_076",
  "task_summary": "Pick the pear from the tabletop using a robotic arm. The BT coordinates perception, approach, and controlled grasp.",
  "task_long_description": {
    "overview": "A 7-DOF manipulator must locate and pick up a pear placed on a glass-topped table. The arm approaches from above, opens the gripper, computes a top grasp, aligns, descends till contact, and closes the gripper to lift the pear. Robust perception and careful alignment are required due to the pear's irregular shape and proximity to other objects (banana, cubes).",
    "preconditions": [
      "Pear is on the table and within the arm's workspace.",
      "Robot is powered and homed.",
      "No obstacles block approach vector."
    ],
    "stepwise_plan": [
      "Check if pear is visible. If not, scan workspace.",
      "Detect precise pear pose.",
      "Open gripper to safe width.",
      "Move to a position above the pear.",
      "Compute grasp pose from above.",
      "Approach and align to the grasp pose.",
      "Lower until contact detected.",
      "Close gripper with minimal force.",
      "Verify grasp stability.",
      "Pick/lift the pear."
    ],
    "success_criteria": [
      "Pear is securely held by the gripper.",
      "No unwanted collisions occur.",
      "Grasp is stable after lift."
    ],
    "failure_and_recovery": [
      "If pear not visible, retry scan up to 3 times.",
      "If approach not aligned, reattempt or abort.",
      "If grasp is unstable, signal to retry or manual recovery."
    ],
    "termination": "Tree terminates when pear is picked and grasp stability is verified, or retries are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the pear",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["pear", "banana", "table", "cube_left", "cube_right", "flower_vase"],
  "objects_from_instruction": ["pear"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"pear"},"description":"Checks if the pear is detected in the scene."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"pear","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Active scan to locate pear with grid pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"pear","timeout_ms":800},"description":"Triggers precise pear pose detection."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Prepares the gripper for grasping by opening to 6cm."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"pear","offset_z":0.05,"timeout_ms":1500},"description":"Moves gripper above the pear, 5cm overhead."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"pear","strategy":"top","result_key":"std_top"},"description":"Calculates grasp pose above the pear, result key assigned."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"pear","tolerance":0.005,"timeout_ms":1500},"description":"Aligns end effector with grasp pose at 5mm tolerance."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lowers along Z until 5N contact or limit reached."},
    {"id":"CloseGripper","type":"Action","ports":{"force":5,"timeout_ms":800},"description":"Closes gripper with minimal force to grasp the pear."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks if the grasp is stable post-close."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"std_top","timeout_ms":1000},"description":"Executes pick motion based on computed grasp pose."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 9, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Pear detection failure",
    "Contact not achieved",
    "Grasp not stable",
    "Collision during approach"
  ],
  "recovery_strategy": [
    "Retry scan for up to 3 attempts",
    "Abort and report failure if grasp fails",
    "Re-evaluate object pose if pick fails"
  ],
  "assumptions": [
    "Frames consistently show the pear on the table with a clear approach.",
    "No moving obstacles during episode.",
    "No placement required; only pick action per instruction and visual sequence.",
    "No contradictory signals between instruction and frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Pear is securely lifted by the robot at episode end."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"pear"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"pear","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"pear","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"pear","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"pear","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"pear","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}