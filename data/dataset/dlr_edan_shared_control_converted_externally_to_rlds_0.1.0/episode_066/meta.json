{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_066",
  "task_summary": "The robot is instructed to pick up a disk from a cubby shelf. The behavior tree sequentially detects the disk, approaches and aligns, opens the gripper, computes the grasp, executes the grasp, and verifies grasp stability.",
  "task_long_description": {
    "overview": "A manipulator arm in a lab environment is tasked to pick a disk lying on the bottom right of a cubby shelf (as observed in the contact sheet frames). The robot must visually locate the disk, approach from above, open its gripper, compute and execute a top grasp, and confirm the object is stably held. The scene appears static and uncluttered with clear line of sight.",
    "preconditions": [
      "Disk is present and visible in the bottom right cubby.",
      "Gripper is empty and ready.",
      "No obstructions in workspace."
    ],
    "stepwise_plan": [
      "Ensure the disk is visible; run DetectObject if not.",
      "Move above the disk.",
      "Approach and align for grasp.",
      "Open gripper to appropriate width.",
      "Compute a top grasp pose for the disk.",
      "Execute the grasp with the computed pose.",
      "Verify that grasp is stable."
    ],
    "success_criteria": [
      "Disk is securely in the gripper.",
      "No object drops or slips.",
      "No collisions with shelf or environment."
    ],
    "failure_and_recovery": [
      "If disk not visible: reattempt detection.",
      "If grasp unstable: abort and signal failure."
    ],
    "termination": "Tree terminates when a stable grasp on the disk is confirmed or on unrecoverable error."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the disk",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["disk", "shelf", "manipulator"],
  "objects_from_instruction": ["disk"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "disk"},
      "description": "Checks if the disk is visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "disk", "timeout_ms": 800},
      "description": "Attempts visual detection of the disk."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "disk", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the end effector above the disk."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "disk", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns to the disk for grasping."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper in preparation for grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "disk", "strategy": "top", "result_key": "std_top"},
      "description": "Computes a top grasp pose for the disk and stores it."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "std_top", "strategy": "top", "timeout_ms": 1000},
      "description": "Executes the grasp at the computed pose."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks whether the grasp is stable."
    }
  ],
  "tree_stats": { "nodes_total": 10, "actions": 6, "conditions": 2, "depth": 8 },
  "failure_modes": [
    "Disk not detected due to occlusion or lighting",
    "Approach path blocked",
    "Failed to compute feasible grasp pose",
    "Gripper fails to grasp securely"
  ],
  "recovery_strategy": [
    "Retry object detection if disk not visible",
    "Abort and retry grasp if grasp is not stable"
  ],
  "assumptions": [
    "The disk is present and mapped as 'disk' throughout BT and annotations.",
    "The instruction does not specify force or tolerance, so library defaults are used.",
    "Frames confirm 'top' strategy is appropriate due to arm and gripper geometry.",
    "No container opening is required; disk is openly accessible."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Disk is detected and successfully lifted by the end effector without slipping."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "disk"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": { "target": "disk", "offset_z": 0.05, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": { "target": "disk", "offset_z": 0.05, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": { "target": "disk", "tolerance": 0.005, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": { "width": 0.06, "timeout_ms": 500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": { "target": "disk", "strategy": "top", "result_key": "std_top" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": { "pose_key": "std_top", "strategy": "top", "timeout_ms": 1000 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": { "pose_key": "std_top", "strategy": "top", "timeout_ms": 1000 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {
        "id": "IsGraspStable",
        "attrs": {}
      },
      "active_path_ids": []
    }
  ]
}