{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_069",
  "task_summary": "Pick up the yellow ball positioned on the small table using the robot arm, following a visually guided sequence shown in 9 frames.",
  "task_long_description": {
    "overview": "The task involves a robotic arm operating in a kitchen-like environment. The yellow ball is placed on a raised table near two white blocks and a flowerpot. The arm must locate, approach, and grasp the ball precisely. The robot follows a strict sequence: perception, opening gripper, precise alignment and grasp, followed by lifting/retreat. Visual feedback and alignment phases are crucial for reliable object acquisition. The main constraint is stable grasp and avoidance of collision with nearby objects.",
    "preconditions": [
      "Robot arm is functional and initialized",
      "Yellow ball is present on the table",
      "Gripper is empty and operational",
      "No obstacles obstructing access"
    ],
    "stepwise_plan": [
      "Check if yellow ball is visible; scan if needed",
      "Detect yellow ball precisely",
      "Open gripper for grasp",
      "Move above yellow ball and align",
      "Compute top grasp strategy",
      "Approach and align with tight tolerance",
      "Lower until contact detected",
      "Close gripper with minimum force",
      "Verify object is in gripper",
      "Retreat with the ball"
    ],
    "success_criteria": [
      "Yellow ball is securely grasped",
      "No collision or object slippage occurs",
      "Gripper holds the ball after retreat"
    ],
    "failure_and_recovery": [
      "Failure to detect ball → retry scan up to 3 times",
      "Failed grasp or unstable grip → abort or retry grasp",
      "Excess force/collision → abort"
    ],
    "termination": "Sequence ends when the robot retreats with yellow ball gripped."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the yellow ball",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["yellow_ball", "white_block_1", "white_block_2", "table", "flower_pot", "tennis_ball"],
  "objects_from_instruction": ["yellow_ball"],
  "blackboard_keys": ["grasp_yellow_ball"],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"yellow_ball"}, "description":"Checks if the yellow ball is visible."},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"yellow_ball","pattern":"raster","max_attempts":3,"timeout_ms":1200}, "description":"Scans for yellow ball in raster pattern, up to 3 attempts."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"yellow_ball","timeout_ms":800}, "description":"Detects the yellow ball precisely."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.06,"timeout_ms":500}, "description":"Opens gripper to suitable width for ball."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"yellow_ball","offset_z":0.05,"timeout_ms":1500}, "description":"Moves gripper above yellow ball, offsets 5cm."},
    {"id":"ComputeGraspPose", "type":"Action", "ports":{"target":"yellow_ball","strategy":"top","result_key":"grasp_yellow_ball"}, "description":"Computes top grasp pose for the yellow ball."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"yellow_ball","tolerance":0.005,"timeout_ms":1500}, "description":"Approaches and aligns with 5mm tolerance."},
    {"id":"LowerUntilContact", "type":"Action", "ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}, "description":"Lowers until contact, max 5cm, minimum force."},
    {"id":"CloseGripper", "type":"Action", "ports":{"force":5,"timeout_ms":800}, "description":"Closes gripper with minimum force to grasp."},
    {"id":"ObjectInGripper", "type":"Condition", "ports":{"target":"yellow_ball"}, "description":"Checks yellow ball held in gripper."},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.10,"timeout_ms":1200}, "description":"Retreats 10cm with grasped ball."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 3, "depth": 3},
  "failure_modes": [
    "yellow ball not visible",
    "scan fails all attempts",
    "object detected but grasp fails",
    "gripper fails to close or hold",
    "obstruction (flowerpot, blocks)"
  ],
  "recovery_strategy": [
    "Retry scan up to three times",
    "Abort on gripper or grasp failure",
    "Manual intervention if object lost"
  ],
  "assumptions": [
    "Frames [0..8] confirm yellow ball is the target, not tennis ball on ground.",
    "Instruction did not specify force/tolerance; set to minimum allowed for gentle grasp.",
    "Object names inferred visually ('yellow_ball') for ports.",
    "No placement: frames end on ball in gripper, matching instruction."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Yellow ball detected",
      "Gripper holds ball after retreat"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible", "attrs":{"target":"yellow_ball"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject", "attrs":{"target":"yellow_ball","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove", "attrs":{"target":"yellow_ball","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose", "attrs":{"target":"yellow_ball","strategy":"top","result_key":"grasp_yellow_ball"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign", "attrs":{"target":"yellow_ball","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact", "attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper", "attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"ObjectInGripper", "attrs":{"target":"yellow_ball"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat", "attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}