{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_094",
  "task_summary": "Robot uses visual guidance and dexterous manipulation to pick up a die from a shelf.",
  "task_long_description": {
    "overview": "This task involves a robot arm (likely a Franka Emika Panda) performing a precise pick action on a die object placed on a black shelf in a tabletop kitchen scene. The robot must use visual detection to localize the die, approach while avoiding disturbance to nearby objects, and then grasp with an appropriate force. The overall process requires robust perception and careful alignment due to the die’s small size and the proximity to other objects.",
    "preconditions": [
      "Die is present and reachable on the shelf",
      "Robot manipulator is unobstructed",
      "Gripper is empty and operational"
    ],
    "stepwise_plan": [
      "Check if die is visible; if not, scan to detect",
      "Confirm die detection",
      "Open gripper to correct width",
      "Move above die to a safe pregrasp pose",
      "Compute a suitable top-down grasp pose",
      "Approach and align precisely to die",
      "Lower until gentle contact is detected",
      "Close gripper with enough force to grasp",
      "Validate grasp stability"
    ],
    "success_criteria": [
      "Die is securely and stably held after the grasp",
      "No adjacent objects displaced or dropped",
      "No excessive force causing damage"
    ],
    "failure_and_recovery": [
      "If die is not detected: retry scan up to 3 times",
      "If grasp fails: abort and notify operator",
      "If contact or alignment fails: abort and return to safe"
    ],
    "termination": "Terminated on stable grasp verification or uncorrectable failure"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the die",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["die", "cylinder", "cabinet", "table", "plant"],
  "objects_from_instruction": ["die"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"die"},
      "description": "Returns true if the die is visible in robot perception"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"die","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description": "Scans the scene to locate the die up to 3 tries"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"die", "timeout_ms":800},
      "description": "Confirms perception and estimates die pose"
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens the gripper to allow approach"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"die","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves end effector above die to pregrasp"
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"die","strategy":"top","result_key":"std_top"},
      "description":"Determines optimal top-down grasp pose for die"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"die","tolerance":0.005,"timeout_ms":1500},
      "description":"Aligns end effector with die for grasp"
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},
      "description":"Lowers gripper until contact with die detected"
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":10,"timeout_ms":800},
      "description":"Closes gripper to grasp die securely"
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Confirms die is securely held in gripper"
    }
  ],
  "tree_stats": {"nodes_total": 12, "actions": 8, "conditions": 2, "depth": 2},
  "failure_modes": [
    "Die not detected",
    "Pose estimation fails",
    "Contact sensor fails",
    "Gripper does not close or slips",
    "Grasp is unstable"
  ],
  "recovery_strategy": [
    "Retry scan for die up to 3 times",
    "Abort and notify if grasp/stability fails"
  ],
  "assumptions": [
    "The object identified as 'die' in the instruction matches visual evidence (6-sided cube object visible on shelf)",
    "If more than one white cube present, the one closest to the arm’s approach is targeted as the die",
    "No significant occlusions occur during approach"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Gripper is securely holding the die",
      "No collision with environment or other objects"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "die"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target":"die","pattern":"raster","max_attempts":3,"timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target":"die","timeout_ms":800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width":0.06,"timeout_ms":500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target":"die","offset_z":0.05,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target":"die","strategy":"top","result_key":"std_top"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target":"die","tolerance":0.005,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {"force":10,"timeout_ms":800}
      },
      "active_path_ids": []
    }
  ]
}