{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_089",
  "task_summary": "A robotic arm locates, approaches, and grasps a green apple using a top grasp, then retreats with the object held. The main focus is robust visual reacquisition, gentle and stable grasp, with verification and recovery to ensure success.",
  "task_long_description": {
    "overview": "This episode features an articulated robotic arm tasked with finding and picking up a green apple from a table in a semi-structured environment. The robot must first visually locate the apple (re-trying if necessary), open its gripper, move to a position above the apple, compute an appropriate top grasp, align and lower until gentle contact is made, close the gripper with sufficient force, verify grasp stability, and finally retreat from the table with the object. Scene includes distractor objects (white cubes, a plate, and a flowerpot); no container interaction.",
    "preconditions": [
      "The green apple is located atop the table and unobstructed.",
      "The robotic arm is ready and initialized.",
      "No other object is occluding the apple."
    ],
    "stepwise_plan": [
      "Check if green apple is visible; if not, raster scan up to three times.",
      "Detect green apple and confirm position.",
      "Open gripper to the correct width.",
      "Move to a pose above the apple.",
      "Compute top grasp pose and align.",
      "Approach and fine-align with tight tolerance.",
      "Lower until gentle contact is detected.",
      "Close gripper using minimum stable force.",
      "Verify grasp stability.",
      "Retreat from scene with grasped apple."
    ],
    "success_criteria": [
      "Apple securely grasped by gripper.",
      "Grasp verified as stable.",
      "Robot retreats cleanly with apple in hand.",
      "No damage to apple or environment."
    ],
    "failure_and_recovery": [
      "Object not visible: perform re-scan sequence.",
      "Failed grasp: abort or repeat pick phase.",
      "Unstable grasp: abort, signal operator.",
      "Unexpected collision: halt and retract."
    ],
    "termination": "The behavior completes once the robot arm has retreated with the gripper firmly holding the green apple, as verified by grasp stability."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the green apple",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["green_apple","gripper","table","white_cubes","plate","flowerpot"],
  "objects_from_instruction": ["green_apple"],
  "blackboard_keys": ["grasp_green_apple"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "green_apple"},
      "description": "Checks if the green apple is visible to the robot's sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "green_apple", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans for the green apple using raster pattern if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "green_apple", "timeout_ms": 800},
      "description": "Detects and localizes the green apple precisely."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens gripper to a suitable width for the apple."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "green_apple", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves gripper above the apple at an offset."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "green_apple", "strategy": "top", "result_key": "grasp_green_apple"},
      "description": "Computes a top grasp pose for the apple, stores in grasp_green_apple."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "green_apple", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns gripper precisely above apple for grasping."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lowers gripper gently until contact with apple is detected."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes the gripper with light force to grasp apple."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Verifies that the grasp on the apple is stable."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retracts gripper with apple away from initial position."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 9,
    "conditions": 2,
    "depth": 2
  },
  "failure_modes": [
    "Apple not detected visually",
    "Missed approach/alignment",
    "Unstable or failed grasp",
    "Contact not detected or apple knocked"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times for missing apple",
    "Abort on persistent grasp instability",
    "Abort and retract on collision or fault"
  ],
  "assumptions": [
    "Green apple is the only spherical-ish object on table (grounded visually from frames).",
    "No apparent containers involved, so pick-up only, not placement.",
    "All parameters snapped to allowed bins from library.",
    "Phase & leaf assignment to frames based on visual transitions and action semantics.",
    "No explicit 'place' or 'hold' step visible before episode end."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Apple remains in gripper after retreat phase.",
      "No evidence of grasp failure through sequence."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "green_apple"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "green_apple", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.06, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "green_apple", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target": "green_apple", "strategy": "top", "result_key": "grasp_green_apple"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "green_apple", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {"force": 10, "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}