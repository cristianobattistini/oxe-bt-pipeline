{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_075",
  "task_summary": "The robot arm must pick up a small white cube from the shelf, using perception and compliant grasp execution.",
  "task_long_description": {
    "overview": "This episode demonstrates a robot arm tasked with picking up a white cube positioned on a shelf unit in a laboratory setting. The sequence involves perception to locate the cube, approach maneuvers to bring the end-effector above the target, opening the gripper, alignment and descent for grasping, closing the gripper at low force, verifying successful grasp, and then retreating with the object. No other objects are present as distractors. The action must comply with gentle handling constraints and basic grasp stability; timing and retry are managed by fixed cycle counts.",
    "preconditions": [
      "Cube is visible and accessible on the shelf.",
      "Robot is initialized and in a suitable starting pose.",
      "Gripper is empty."
    ],
    "stepwise_plan": [
      "Check if cube is visible; scan if needed.",
      "Detect precise cube pose.",
      "Open gripper to pre-grasp width.",
      "Move above cube with a fixed offset.",
      "Approach and align robot TCP to cube.",
      "Close gripper gently to grasp the cube.",
      "Verify cube is securely held.",
      "Retreat from shelf with the gripped cube."
    ],
    "success_criteria": [
      "Cube is securely held in gripper after execution.",
      "No collision or dropped object.",
      "Gripper closes at lowest allowed force for gentle pick."
    ],
    "failure_and_recovery": [
      "Cube not found: scan repeated up to three times.",
      "Grasp fails: sequence aborts if ‘ObjectInGripper’ fails.",
      "Perception noise: scan fallback with retries."
    ],
    "termination": "Behavior terminates upon successful retreat with cube grasped, or earlier on unrecoverable failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the cube",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cube", "shelf"],
  "objects_from_instruction": ["cube"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"cube"},
      "description":"Checks if the cube is visible in the scene."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"cube","pattern":"grid","max_attempts":3,"timeout_ms":1000},
      "description":"Scans for the cube using a grid pattern, up to three attempts."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"cube", "timeout_ms":800},
      "description":"Detects and localizes the cube's position."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06, "timeout_ms":500},
      "description":"Opens the gripper to a pre-grasp width."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"cube","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves the end-effector above the cube in preparation for grasp."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"cube","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches the cube and aligns the gripper with a tight tolerance."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":5,"timeout_ms":800},
      "description":"Closes the gripper at minimum force to grasp the cube."
    },
    {
      "id":"ObjectInGripper",
      "type":"Condition",
      "ports":{"target":"cube"},
      "description":"Verifies that the cube is held in the gripper."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":1000},
      "description":"Moves the arm away from the shelf with the grasped cube."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Cube not visible due to occlusion or perception failure.",
    "Cube not detected after scanning.",
    "Gripper fails to close or apply suitable force.",
    "Cube slips out of gripper.",
    "Collision with shelf during retreat."
  ],
  "recovery_strategy": [
    "Retry scan for cube up to three times if not visible.",
    "Abort on grasp failure.",
    "No retreat if cube not held."
  ],
  "assumptions": [
    "Instruction did not specify force, but visual evidence of gentle handling taken from frame suggests minimal force (5).",
    "No information on cube color/type in instruction, but clearly white and small in all frames.",
    "No explicit need for tolerance or retries in instruction; conservative defaults applied from node library.",
    "No conflicting evidence found between instruction and frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cube is secure in the gripper at end of sequence.",
      "No visible collision or damage to gripper/shelf.",
      "No dropped or missed cube during grasp attempt."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"cube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"cube","pattern":"grid","max_attempts":3,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cube","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cube","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cube","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"cube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    }
  ]
}