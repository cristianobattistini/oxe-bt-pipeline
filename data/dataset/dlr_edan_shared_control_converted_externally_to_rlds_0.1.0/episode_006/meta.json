{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_006",
  "task_summary": "Robot arm locates, approaches, and picks up the mug from the table.",
  "task_long_description": {
    "overview": "In this episode, a robotic manipulator is instructed to pick a red mug from a glass-topped table positioned near a shelf with other objects. The robot visually searches for the mug, approaches from above, aligns itself precisely, computes a top-approach grasp, and executes the pick. The episode execution follows a stepwise perception-to-grasp sequence, grounded in the frames visual evidence, with constraints on approach height, gripper width, and closed-loop verification for successful pickup.",
    "preconditions": [
      "Mug is present and visible on the table",
      "Robot arm is powered and operational",
      "Gripper is initially open"
    ],
    "stepwise_plan": [
      "Check mug visibility; scan if necessary",
      "Detect mug and localize",
      "Open gripper to appropriate width",
      "Move above mug and descend to pregrasp position",
      "Align above the mug with tight tolerance",
      "Compute grasp pose (top)",
      "Execute grasp at computed pose",
      "Verify mug is held in gripper",
      "Lift mug off the table"
    ],
    "success_criteria": [
      "Mug is securely grasped and lifted off table"
    ],
    "failure_and_recovery": [
      "Mug not visible: scan using raster pattern up to 3 times",
      "Grasp fails: verification step triggers abort or retry"
    ],
    "termination": "Sequence completes successfully OR explicit failure detected and recovery terminated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["mug", "table", "white cylinder", "cube", "flower pot", "glass", "robot arm"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"mug"},
      "description":"Checks if the mug is visible to sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"mug","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Scans for the mug using a raster pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"mug","timeout_ms":800},
      "description":"Detects and localizes the mug."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06,"timeout_ms":500},
      "description":"Opens the gripper to fit the mug."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"mug","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves to a position above the mug."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"mug","tolerance":0.005,"timeout_ms":1500},
      "description":"Aligns the gripper above the mug with fine tolerance."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"mug","strategy":"top","result_key":"std_top"},
      "description":"Computes grasp pose using a top strategy."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"std_top","strategy":"top","timeout_ms":1000},
      "description":"Grasps mug at computed pose using top strategy."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"mug"},
      "description":"Checks if mug is securely held."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"target":"mug","distance":0.10,"timeout_ms":1000},
      "description":"Lifts the held mug upwards."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 3, "depth": 2},
  "failure_modes": [
    "Mug occluded or moved out of frame",
    "Grasping error due to misalignment",
    "Gripper width incorrectly set",
    "Failed object detection"
  ],
  "recovery_strategy": [
    "Trigger visual scan up to 3 attempts on object occlusion",
    "Abort on unsuccessful grasp verification",
    "Reset gripper and retry alignment if necessary"
  ],
  "assumptions": [
    "The mug is the red object on the table; instruction matches frame evidence.",
    "No place action specified nor observed post-grasp; episode terminates after pick.",
    "No explicit force instruction; gripper force port left null, defaults applied."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot picks up the mug and lifts it from the table surface"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"mug","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"mug","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"mug","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld","attrs":{"target":"mug","distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld","attrs":{"target":"mug","distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    }
  ]
}