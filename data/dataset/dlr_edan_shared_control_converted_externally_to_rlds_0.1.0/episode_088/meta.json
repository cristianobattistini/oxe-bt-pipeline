{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_088",
  "task_summary": "The robot arm is tasked to locate, approach, and pick up a cube from a shelf. The sequence includes perception, approach, grasp, and retreat using top grasp strategy.",
  "task_long_description": {
    "overview": "This episode involves a blue robotic arm executing a cube-picking task from a compartmentalized shelf. The arm systematically perceives the cube, moves above for safe top-down grasping, computes a grasp pose, aligns, and grasps the cube using the gripper. Following successful grasp verification, it retreats from the shelf. Frames show progression from initial perception through approach, alignment, grasp, and post-grasp withdrawal. No evidence of placement or handoff is observed.",
    "preconditions": [
      "Cube is present and accessible in shelf compartment",
      "Gripper is free and operational",
      "Scene/extrinsics permit top-down access"
    ],
    "stepwise_plan": [
      "Check for cube visibility; scan if needed",
      "Detect precise location of the cube",
      "Move arm above cube at safe offset",
      "Compute grasp pose using top strategy",
      "Approach and align gripper over cube",
      "Perform grasp at computed pose",
      "Verify cube is in gripper",
      "Retreat from shelf to clear workspace"
    ],
    "success_criteria": [
      "Cube is reliably held in the gripper after retreat",
      "No collision or misgrasp occurs"
    ],
    "failure_and_recovery": [
      "Cube not visible: perform up to 3 scan retries",
      "Grasp failure: abort or retry if object not detected in gripper",
      "Perception errors: fallback to rescan"
    ],
    "termination": "Sequence ends once cube is securely in gripper and robot has retreated from shelf."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the cube",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cube","shelf","robot_arm","flower_pot"],
  "objects_from_instruction": ["cube"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"cube"},
      "description": "Checks if the cube is visible"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"cube","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description": "Scans environment for the cube"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"cube","timeout_ms":800},
      "description": "Detects the cube location precisely"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"cube","offset_z":0.05,"timeout_ms":1500},
      "description": "Moves arm above cube for top-down grasp"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"cube","strategy":"top","result_key":"std_top"},
      "description": "Computes top grasp pose for the cube"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"cube","tolerance":0.005,"timeout_ms":1500},
      "description": "Aligns gripper precisely above cube"
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"std_top","strategy":"top","timeout_ms":1000},
      "description": "Executes grasp at computed pose"
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"cube"},
      "description": "Checks if cube was successfully grasped"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.10,"timeout_ms":1200},
      "description": "Retracts arm after successful pick"
    }
  ],
  "tree_stats": {
    "nodes_total": 9,
    "actions": 6,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "Cube not detected or occluded",
    "Grasp unsuccessful â€“ cube slips or not in gripper",
    "Arm collision with shelf"
  ],
  "recovery_strategy": [
    "Rescan up to 3 times for cube visibility",
    "Abort or notify on failed grasp"
  ],
  "assumptions": [
    "Instruction did not specify grasp type; visual evidence shows clear top access so 'top' selected.",
    "Cube is unambiguously visible in shelf, but does not move during episode.",
    "No 'force', 'timeout_ms', or 'tolerance' bin specified in instruction; chosen based on typical grasping sequence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cube held in gripper after BT concludes",
      "No collision; no dropped object"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "cube"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "cube", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "cube", "offset_z": 0.05, "timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target": "cube", "strategy": "top", "result_key": "std_top"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "cube", "tolerance": 0.005, "timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {"pose_key": "std_top", "strategy": "top", "timeout_ms":1000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": {"target": "cube"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}