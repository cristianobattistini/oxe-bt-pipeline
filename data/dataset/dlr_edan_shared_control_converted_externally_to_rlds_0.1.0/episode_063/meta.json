{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_063",
  "task_summary": "Pick the disk from the shelf using the robot arm, relying on visual detection and a top grasp.",
  "task_long_description": {
    "overview": "A robot arm is tasked to locate and pick up a white disk object placed within a cubby of a black shelf. The sequence involves visually detecting the disk, opening the gripper, moving above the disk, computing a grasp pose, approaching and aligning, lowering gently, closing the gripper, verifying grasp stability, and retreating with the disk. Frames document each major phase, with focus on perception, approach, grasp, and withdrawal. The procedure is robust to brief visibility loss and uses grid scanning if needed for reacquisition.",
    "preconditions": [
      "Robot arm is initialized and free of obstruction",
      "Disk is present and accessible in shelf cubby",
      "Gripper is empty and calibrated",
      "Sufficient workspace clearance"
    ],
    "stepwise_plan": [
      "Check disk visibility; grid scan if needed",
      "Detect precise disk pose",
      "Open gripper to appropriate width",
      "Move above disk with target offset",
      "Compute top grasp pose for disk",
      "Approach and align with tight tolerance",
      "Lower until contact is detected (gentle force threshold)",
      "Close gripper (low force) and confirm disk is held",
      "Verify grasp stability",
      "Retreat from shelf with disk"
    ],
    "success_criteria": [
      "Disk is securely held in gripper after withdrawal",
      "No collision with shelf or surrounding objects",
      "Stable grasp (no slip/loss detected post-lift)"
    ],
    "failure_and_recovery": [
      "Failure to detect disk: retry grid scan up to 3 times",
      "Contact not detected: re-align and retry approach",
      "Unstable grasp: attempt regrasp or abort",
      "Disk dropped: report and pause task"
    ],
    "termination": "Ends once disk is firmly grasped and robot arm has retreated from shelf cubby."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the disk",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["disk", "robot_arm", "shelf", "gripper"],
  "objects_from_instruction": ["disk"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"disk"},"description":"Checks if disk is visible in camera view."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"disk","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Scans for the disk object with grid search."},
    {"id":"DetectObject","type":"Action","ports":{"target":"disk","timeout_ms":800},"description":"Detects disk pose with moderate time budget."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens the gripper for grasp preparation."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"disk","offset_z":0.05,"timeout_ms":1500},"description":"Moves end effector above disk at safe offset."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"disk","strategy":"top","result_key":"std_top"},"description":"Computes top grasp pose for disk."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"disk","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns with disk using fine tolerance."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lowers slowly until gentle contact is detected."},
    {"id":"CloseGripper","type":"Action","ports":{"force":5,"timeout_ms":800},"description":"Closes gripper with low force to grasp disk."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"disk"},"description":"Checks whether disk is securely held."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks for a stable grasp after lifting."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.05,"timeout_ms":800},"description":"Withdraws arm from shelf with disk."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 4, "depth": 4},
  "failure_modes": [
    "Disk not visible due to occlusion or lighting",
    "Grasp misaligned or slips",
    "Insufficient grip force leads to drop",
    "Contact not detected on lowering"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times if disk not visible",
    "Realign and re-approach if contact missed",
    "Attempt regrasp if stability check fails",
    "If repeated drop detected, abort and log"
  ],
  "assumptions": [
    "Instruction did not specify grasp strategy or force; deduced top grasp at low force from frames",
    "Frames indicate disk in right cubby of shelf; robot approaches from left with open gripper",
    "Phases in frames aligned with canonical pick sequence; no apparent placement action"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Disk held in gripper and safely removed from shelf",
      "No collisions or visual errors during pick"
    ],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"disk","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"disk","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}