{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_046",
  "task_summary": "Pick the yellow ball using a robot arm, executing perception, approach, grasp, and lift actions based on visual confirmation.",
  "task_long_description": {
    "overview": "This episode requires a robot arm to detect and pick up a yellow ball positioned on a small black table near three white objects and a shelf. The environment is a modern lab setting with good lighting. The robot uses visual feedback to locate the ball, approaches from above, aligns, lowers until contact, and grasps gently before lifting. No explicit placement is required, and the robot must avoid disturbing nearby objects.",
    "preconditions": [
      "Yellow ball is present and accessible on table",
      "Robot gripper is empty and operational",
      "No obstructions blocking perception or access"
    ],
    "stepwise_plan": [
      "Verify visibility of the yellow ball",
      "Scan environment if ball not visible",
      "Detect yellow ball accurately",
      "Open gripper to minimum width",
      "Move above ball to pregrasp position",
      "Compute an appropriate top grasp pose",
      "Approach and align with tight tolerance",
      "Lower until gentle contact detected",
      "Close gripper with minimum force to grasp ball",
      "Verify ball is secured in gripper",
      "Lift the ball upward"
    ],
    "success_criteria": [
      "Yellow ball securely held in gripper after lift",
      "No collision with nearby objects",
      "Ball detected and grasped via top approach"
    ],
    "failure_and_recovery": [
      "Failure: Ball detection fails due to occlusion",
      "Recovery: Scan for target with spiral pattern, retry 2 times",
      "Failure: Grasp unstable or ball slips",
      "Recovery: Repeat approach and grasp sequence"
    ],
    "termination": "Terminate after ball is lifted and held securely, or after maximum scan/grasp attempts are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the yellow ball",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 2
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["yellow_ball","white_disc_1","white_disc_2","white_cube","vase","table","shelf"],
  "objects_from_instruction": ["yellow_ball"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "yellow_ball"},
      "description": "Check if the yellow ball is visible in the robot's field of view."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "yellow_ball", "pattern": "spiral", "max_attempts": 2, "timeout_ms": 800},
      "description": "Actively scan for the yellow ball using a spiral pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "yellow_ball", "timeout_ms": 800},
      "description": "Detect the yellow ball for precise localization."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Open the gripper to minimal width for grasp preparation."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "yellow_ball", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Position gripper above yellow ball to pregrasp pose."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "yellow_ball", "strategy": "top", "result_key": "std_top"},
      "description": "Calculate a grasp pose from above the yellow ball."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "yellow_ball", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approach and align the gripper with tight tolerance above the ball."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 800},
      "description": "Lower the gripper until gentle contact with the yellow ball is detected."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 5, "timeout_ms": 800},
      "description": "Close the gripper with minimum force to grasp the yellow ball."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "yellow_ball"},
      "description": "Verify that the yellow ball is now held in the gripper."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Lift the gripped yellow ball upward to clear the table surface."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 9,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "Yellow ball not visible due to occlusion",
    "Ball not detected in scan attempts",
    "Gripper fails to grasp ball",
    "Object slips during lift"
  ],
  "recovery_strategy": [
    "Scan for yellow ball via spiral pattern, with 2 retries",
    "Reattempt open, align, approach, and grasp cycle if object not detected or not held"
  ],
  "assumptions": [
    "Frames verify presence of yellow ball as target object",
    "Yellow ball is not occluded during the key steps",
    "Instruction matched to frames, but visual cues for grasping are taken from evidence not wording"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Yellow ball held securely after lift",
      "No disturbance to neighboring objects"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "yellow_ball", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "yellow_ball", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id": "ComputeGraspPose", "attrs": {"target": "yellow_ball", "strategy": "top", "result_key": "std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "yellow_ball", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id": "LowerUntilContact", "attrs": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "CloseGripper", "attrs": {"force": 5, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "yellow_ball"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id": "RaiseHeld", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id": "RaiseHeld", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}