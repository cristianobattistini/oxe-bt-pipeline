{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_065",
  "task_summary": "The robot must pick up a disk from a shelf by visually locating it, approaching from above, and grasping it using a top strategy.",
  "task_long_description": {
    "overview": "A robot arm is tasked to pick up a white disk placed on a dark shelf unit. The episode unfolds in a controlled indoor environment. The robot sequentially detects the disk, aligns to it, moves above for a grasp approach, computes a top grasp pose, executes the grasp, and verifies that the disk is held. No explicit placement action is required; focus is on acquisition. Task constraints involve reliable perception and grasp stability due to simplistic object geometry and open-access scene.",
    "preconditions": [
      "Robot at rest, arm ready",
      "Disk present and visible on shelf",
      "Gripper empty and open"
    ],
    "stepwise_plan": [
      "Detect disk (perceive; if not visible, reacquire via detection)",
      "Open gripper to pre-grasp width",
      "Move above disk with appropriate offset",
      "Approach and align precisely",
      "Compute grasp pose (top grasp)",
      "Execute grasp at computed pose",
      "Verify disk has been gripped"
    ],
    "success_criteria": [
      "Disk securely held in gripper",
      "No collision with other objects or shelf",
      "Pose and phase transitions match expected sequence"
    ],
    "failure_and_recovery": [
      "Failure to perceive disk: retry DetectObject once",
      "Failure to align or grasp: BT halts after failure",
      "Failed pick or unstable grasp: episode terminates unsuccessfully"
    ],
    "termination": "Tree terminates upon confirmed grasp of disk or unrecoverable failure at any step"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the disk",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["disk", "shelf", "robot_arm", "cube", "vase", "cup"],
  "objects_from_instruction": ["disk"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "disk"},
      "description": "Checks whether the disk is visible to the perception system"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "disk", "timeout_ms": 800},
      "description": "Triggers disk detection if not currently visible"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens gripper to an appropriate width prior to grasp"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "disk", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Positions gripper above the disk"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "disk", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns with the disk with a precise tolerance"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "disk", "strategy": "top", "result_key": "std_top"},
      "description": "Computes grasp pose for a top strategy and stores it to std_top"
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "std_top", "strategy": "top", "timeout_ms": 1000},
      "description": "Executes grasp at the precomputed pose using top strategy"
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "disk"},
      "description": "Checks if the disk is now held in the gripper"
    }
  ],
  "tree_stats": {"nodes_total": 8, "actions": 6, "conditions": 2, "depth": 7},
  "failure_modes": [
    "Disk not visible due to occlusion",
    "Misalignment leads to failed grasp",
    "Disk slips from gripper",
    "Insufficient gripper opening width"
  ],
  "recovery_strategy": [
    "Fallback to DetectObject if disk not visible initially",
    "Manual intervention if grasp pose computation fails",
    "Repeat episode if object not detected in gripper"
  ],
  "assumptions": [
    "Frames confirm the picked object is a disk and is accessible from above",
    "Object is not moving and isolated; gripper width is suitable",
    "Instruction and visual evidence are in agreement"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot is holding the disk at the end of the episode"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.06, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "disk", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "disk", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id": "ComputeGraspPose", "attrs": {"target": "disk", "strategy": "top", "result_key": "std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id": "GraspAtPose", "attrs": {"pose_key": "std_top", "strategy": "top", "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "disk"}},
      "active_path_ids": []
    }
  ]
}