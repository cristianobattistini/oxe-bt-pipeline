{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_083",
  "task_summary": "Pick up the red apple from the shelf using the robot arm, following perception, approach, grasp, and lift phases as observed in all nine frames.",
  "task_long_description": {
    "overview": "A robot arm operates in a tabletop environment with multiple objects, including a red apple. The scene progresses from perception to approach, alignment, grasping, and lifting of the red apple. The robot must ensure object detection, precise approach, stable grasp, and a final lifting movement. Constraints involve correct object identification, reliable grasp stability, and avoidance of collision with surrounding items.",
    "preconditions": [
      "The red apple is present and accessible on the shelf.",
      "The robot arm is powered, homed, and unobstructed.",
      "The gripper is functional and empty."
    ],
    "stepwise_plan": [
      "Detect visibility of the red apple or scan the area to acquire it.",
      "Localize the red apple precisely.",
      "Open the gripper to the desired width.",
      "Move above the red apple at a safe offset.",
      "Approach and align with the apple using fine tolerance.",
      "Close gripper to grasp the red apple with moderate force.",
      "Verify grasp stability.",
      "Lift (raise) the grasped apple upwards for transfer or further manipulation."
    ],
    "success_criteria": [
      "The red apple is securely held by the robot gripper.",
      "No collision or dropping occurs during manipulation.",
      "Apple position is elevated from the start location as shown in frame_8.",
      "Grasp is stable according to internal sensors."
    ],
    "failure_and_recovery": [
      "Apple not detected: try up to 3 scan attempts.",
      "Grasp fails or is unstable: restart approach and alignment phases.",
      "Collision or slippage: abort and restart manipulation."
    ],
    "termination": "Task terminates when the red apple is stably grasped and elevated, as in the final frame."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the red apple",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_apple", "green_apple", "white_cube_1", "white_cube_2", "table", "shelf", "vase", "robot_gripper"],
  "objects_from_instruction": ["red_apple"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_apple"},
      "description": "Checks if red apple is in view."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_apple", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans scene for red apple if not initially visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_apple", "timeout_ms": 800},
      "description": "Precise localization of the red apple."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper to fit the red apple."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_apple", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves gripper above the red apple at a safe height."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_apple", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns with red apple using fine tolerance."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes gripper with binned moderate force on apple."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Verifies grasp stability on the apple."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"target": "red_apple", "distance": 0.10, "timeout_ms": 1200},
      "description": "Lifts the grasped apple upward."
    }
  ],
  "tree_stats": {"nodes_total": 13, "actions": 8, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Target object not detected within scan attempts",
    "Apple obstructed by other items",
    "Gripper fails to close or slips",
    "Grasp stability check fails"
  ],
  "recovery_strategy": [
    "Retry scanning and perception up to 3 times",
    "Re-attempt alignment and grasp if unstable",
    "Abort and reset manipulation sequence if severe failure"
  ],
  "assumptions": [
    "The contact sheet definitively identifies the red apple on the lower shelf; no ambiguity with the green apple.",
    "No placement or transfer occursâ€”raising apple is the final phase as per frames.",
    "Instruction does not mention transfer or place, so BT omits placement action despite nearby plate."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red apple detected and securely held.",
      "Arm has raised apple from shelf surface.",
      "No visible collision or object loss."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible", "attrs":{"target":"red_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget", "attrs":{"target":"red_apple","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject", "attrs":{"target":"red_apple","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper", "attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove", "attrs":{"target":"red_apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign", "attrs":{"target":"red_apple","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper", "attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"IsGraspStable", "attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld", "attrs":{"target":"red_apple","distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}