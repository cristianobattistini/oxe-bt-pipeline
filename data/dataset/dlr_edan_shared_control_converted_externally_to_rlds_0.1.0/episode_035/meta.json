{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_035",
  "task_summary": "Pick the die from the shelf using the robot arm with robust perception and grasp verification.",
  "task_long_description": {
    "overview": "The task requires a robot arm to locate and pick up a die placed on a shelf. The arm detects the die with fallbacks for visibility, moves above it, aligns precisely, opens the gripper, computes a top grasp, and executes the pick. Successful grasp is verified. The environment appears uncluttered, and the die is on the top shelf, with the robot starting from a distance.",
    "preconditions": [
      "Robot is powered on and calibrated",
      "Die is present and unobstructed on the shelf",
      "Gripper is empty and functional"
    ],
    "stepwise_plan": [
      "Check if the die is visible; if not, scan until found",
      "Detect the die's precise location",
      "Move the end-effector above the die with suitable offset",
      "Align with the die with fine tolerance",
      "Open the gripper to a width ready for grasping",
      "Compute a suitable top grasp pose",
      "Execute the pick by grasping at the computed pose",
      "Verify the die is held in the gripper"
    ],
    "success_criteria": [
      "Die is firmly held in the gripper at task end",
      "No collisions or unexpected movements occurred"
    ],
    "failure_and_recovery": [
      "If the die is not visible after retries, task fails",
      "If the pick fails or the object is not grasped, abort and signal failure"
    ],
    "termination": "Tree terminates when the die is securely detected inside the gripper."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the die",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["die", "shelf", "robot_gripper", "robot_arm"],
  "objects_from_instruction": ["die"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "die"},
      "description": "Checks whether the die is in the robot's field of view."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "die", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the scene using a raster pattern to locate the die, retrying up to 3 times."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "die", "timeout_ms": 800},
      "description": "Processes sensor data to localize the die with higher precision."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "die", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the end-effector to a position above the die with 5cm clearance."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "die", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns the gripper to the die with a tight tolerance."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.04, "timeout_ms": 500},
      "description": "Opens the gripper to 4cm in preparation for grasping the die."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "die", "strategy": "top", "result_key": "std_top"},
      "description": "Computes an optimal top-down grasp pose for the die and stores it as 'std_top'."
    },
    {
      "id": "Pick",
      "type": "Action",
      "ports": {"grasp_key": "std_top", "timeout_ms": 1500},
      "description": "Executes the grasp at the computed pose to pick the die."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "die"},
      "description": "Verifies the die is currently being held by the gripper."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Die not detected after maximum scan retries",
    "Die localization failure",
    "Approach or alignment failure (die unreachable)",
    "Grasping fails or object slips",
    "Unstable or failed grasp verification"
  ],
  "recovery_strategy": [
    "Retry scan if die is not visible",
    "Abort and report task failure if persistent failures occur"
  ],
  "assumptions": [
    "Instruction 'pick the die' clearly maps to the observed manipulation sequence in all frames.",
    "The object to be picked is the white die visible on the shelf in all frames.",
    "No force/tolerance/timeout explicitly specified in the instruction; defaults used based on observation and task type."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Die is stably held in the robot gripper at episode end"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "die"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "die", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "die", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "die", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "die", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.04, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target": "die", "strategy": "top", "result_key": "std_top"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "Pick",
        "attrs": {"grasp_key": "std_top", "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": {"target": "die"}
      },
      "active_path_ids": []
    }
  ]
}