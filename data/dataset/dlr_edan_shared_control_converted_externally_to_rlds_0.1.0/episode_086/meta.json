{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_086",
  "task_summary": "The robot is instructed to pick the mug from the tabletop, following a sequential perception and manipulation plan as evidenced in all 9 contact sheet frames.",
  "task_long_description": {
    "overview": "This episode documents a robot arm tasked to locate and pick a single red mug from a tabletop shelving unit. The workspace also includes two white cubes and a vase for context. The robot uses visual search, approach, alignment, grasp, and retreat actions, tightly grounded in the contact sheet's visual sequence. Key constraints involve stable grasp and task completion without collision.",
    "preconditions": [
      "Mug is on tabletop and within reachable workspace.",
      "Gripper is empty and ready to actuate.",
      "Visual system operational."
    ],
    "stepwise_plan": [
      "Verify mug is visually located; scan if not.",
      "Detect and confirm mug position.",
      "Open gripper to proper width.",
      "Move above the mug at safe offset.",
      "Approach and align for grasp.",
      "Close gripper with low force and initiate grasp.",
      "Verify mug is in the gripper.",
      "Retreat with the mug."
    ],
    "success_criteria": [
      "Mug is picked up in the gripper.",
      "No collision with other objects.",
      "Grasp is stable and mug is retained post-retreat."
    ],
    "failure_and_recovery": [
      "If mug not found, retry scan up to 3 times.",
      "If grasp fails (ObjectInGripper condition false), abort or optionally retry full sequence.",
      "If collision detected (not evident in current frames), stop and replan."
    ],
    "termination": "Sequence terminates when mug is stably gripped and arm has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the mug",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["mug", "cube_1", "cube_2", "table", "vase"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"mug"}, "description":"Checks if mug is visible to vision system."},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"mug","pattern":"grid","max_attempts":3,"timeout_ms":1200}, "description":"Attempts grid-pattern search for mug, up to 3 times."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"mug","timeout_ms":800}, "description":"Localizes mug position and pose."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.06,"timeout_ms":500}, "description":"Opens gripper to allow mug grasp."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"mug","offset_z":0.05,"timeout_ms":1500}, "description":"Moves end-effector safely above mug."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"mug","tolerance":0.005,"timeout_ms":1500}, "description":"Approaches and aligns with mug for successful grasp."},
    {"id":"CloseGripper", "type":"Action", "ports":{"force":5,"timeout_ms":800}, "description":"Closes gripper with minimum force, grasping mug."},
    {"id":"ObjectInGripper", "type":"Condition", "ports":{"target":"mug"}, "description":"Checks if mug is gripped and retained."},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.10,"timeout_ms":1200}, "description":"Retreats arm away after picking mug."}
  ],
  "tree_stats": {"nodes_total": 9, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Mug not detected in initial scan.",
    "Pose estimation error for mug location.",
    "Gripper fails to close or object slips.",
    "Unintentional collision with adjacent objects."
  ],
  "recovery_strategy": [
    "Retry visual scan up to 3 times.",
    "Abort pick if mug not found or not gripped, alert operator."
  ],
  "assumptions": [
    "Instruction 'pick the mug' aligns with observed robot picking a red mug in every frame.",
    "No evidence of multi-object handling, placement, or non-mug targets.",
    "No evidence of adverse events; mug always accessible, gripper operational in all frames.",
    "No explicit cues about additional recovery beyond scan retries; grasp is assumed single-attempt."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot retreats holding mug firmly in gripper (frame_6 and on)",
      "No collision or accidental drop during retreat phase"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible", "attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget", "attrs":{"target":"mug","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject", "attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove", "attrs":{"target":"mug","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign", "attrs":{"target":"mug","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper", "attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"ObjectInGripper", "attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat", "attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat", "attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}