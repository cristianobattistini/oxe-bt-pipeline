{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_099",
  "task_summary": "Pick up the red apple from the table using the robot arm, following robust visual and physical confirmation steps.",
  "task_long_description": {
    "overview": "The robot arm is instructed to locate, approach, and pick up a red apple from a tabletop. The workspace contains several objects, but the target is the apple identified by its color and position. The BT ensures robust perception, safe grasping, and initial post-lift confirmation, avoiding false triggers and ensuring a stable grasp. Constraints include visibility, collision avoidance with nearby items, and secure lifting.",
    "preconditions": [
      "Red apple is present on the table.",
      "Robot arm power and gripper operational.",
      "Workspace is clear from obstructions."
    ],
    "stepwise_plan": [
      "Check visibility of the red apple, retry up to 3 times with scan if needed.",
      "Detect precise pose of the red apple.",
      "Open gripper to pre-grasp width.",
      "Move above the apple with safe offset.",
      "Approach and align end-effector with precise tolerance.",
      "Grasp apple from top with minimal force.",
      "Verify apple is secured in gripper.",
      "Lift apple slightly to clear table.",
      "Retreat with picked apple."
    ],
    "success_criteria": [
      "Red apple is securely grasped and lifted from table.",
      "No collisions with environment or other objects.",
      "BT phases completed in correct order."
    ],
    "failure_and_recovery": [
      "Apple not visible: repeat scan up to 3 times.",
      "Grasp unsuccessful: retry after reposition.",
      "Object slips: abort or retry approach and grasp."
    ],
    "termination": "BT terminates when apple is held and robot has retreated from initial grasp location."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the red apple",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "red_apple",
    "yellow_apple",
    "table",
    "robot_gripper",
    "white_mug",
    "white_cylinder",
    "vase",
    "shelf"
  ],
  "objects_from_instruction": [
    "red_apple"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_apple"},
      "description": "Checks if the red apple is currently visible to perception system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_apple", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Executes raster scan to search for the red apple, max 3 attempts."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_apple", "timeout_ms": 800},
      "description": "Precisely detects pose of the red apple."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Prepares gripper to pre-grasp width for apple."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_apple", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves gripper above apple with safety offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_apple", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns end-effector precisely to apple."
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {"target": "red_apple", "strategy": "top", "force": 5, "timeout_ms": 800},
      "description": "Executes top grasp of apple with minimal force."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_apple"},
      "description": "Checks if red apple is currently held by gripper."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"target": "red_apple", "distance": 0.05, "timeout_ms": 1200},
      "description": "Raises the gripped apple off the table."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves arm and apple away from picked location."
    }
  ],
  "tree_stats": {
    "nodes_total": 11,
    "actions": 8,
    "conditions": 2,
    "depth": 2
  },
  "failure_modes": [
    "Apple lost or never detected.",
    "Grasp slips during lift.",
    "Collision with other objects."
  ],
  "recovery_strategy": [
    "Rescan for apple up to 3 times.",
    "Retry approach/alignment and grasp after slip.",
    "Abort if obstacles detected, alert user."
  ],
  "assumptions": [
    "Instruction and frames agree: target apple is visually red.",
    "No specific placement required; task ends after pick and retreat.",
    "Timeouts and force bins chosen from allowed minimums for gentle grasp.",
    "No environmental change detected during episode; only picking (not placing) is required."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red apple is gripped and lifted off table.",
      "No interference with non-target objects.",
      "Correct perception and grasp confirmed."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "red_apple"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "red_apple", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "red_apple", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "red_apple", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {
        "id": "Grasp",
        "attrs": {"target": "red_apple", "strategy": "top", "force": 5, "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": {"target": "red_apple"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {
        "id": "RaiseHeld",
        "attrs": {"target": "red_apple", "distance": 0.05, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}