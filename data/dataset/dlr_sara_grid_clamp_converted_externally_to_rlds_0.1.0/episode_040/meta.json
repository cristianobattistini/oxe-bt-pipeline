{
  "dataset_id": "dlr_sara_grid_clamp_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_040",
  "task_summary": "Approach the grid board and place the grid clamp, then release and retreat.",
  "task_long_description": {
    "overview": "The robot arm holds a grid clamp and must place it precisely onto the grid board on the worktable. The scene shows a tabletop fixture with parallel rails and a UR-like manipulator with a parallel gripper. The behavior opens by perceiving and aligning above the board, establishes gentle contact to verify the surface, places with modest force, releases the clamp, and retreats to clear the workspace. Timing and tolerances are chosen to reflect careful placement in a constrained jig.",
    "preconditions": [
      "Clamp already grasped by the gripper",
      "Board area is clear",
      "Robot within workspace limits",
      "Calibration between camera and robot is valid"
    ],
    "stepwise_plan": [
      "Detect board area",
      "Set tool yaw to align with rails",
      "Move above board",
      "Approach and align with small tolerance",
      "Lower until contact is detected",
      "Place clamp on surface with low press force",
      "Open gripper to release",
      "Wait briefly to ensure stability",
      "Retreat to a safe distance"
    ],
    "success_criteria": [
      "Clamp resting on board aligned with rails",
      "No slippage after release",
      "Robot ends clear of the clamp and board",
      "No collisions during approach or retreat"
    ],
    "failure_and_recovery": [
      "If perception fails, re-detect board",
      "If contact not detected within depth, retry approach",
      "If placement unstable, re-open and re-place with adjusted yaw or force",
      "If retreat blocked, raise further and retry"
    ],
    "termination": "Tree succeeds once the clamp is released on the board and the robot has retreated to a safe distance."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place grid clamp",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "grid_clamp",
    "board",
    "table",
    "robot_arm",
    "parallel_gripper",
    "rails"
  ],
  "objects_from_instruction": [
    "grid clamp"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "board",
        "timeout_ms": 1500
      },
      "description": "Find the board/placement area."
    },
    {
      "id": "SetTCPYaw",
      "type": "Action",
      "ports": {
        "yaw_deg": 90
      },
      "description": "Align tool yaw with grid rails."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "board",
        "offset_z": 0.1,
        "timeout_ms": 2000
      },
      "description": "Move to a safe height above board."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "board",
        "tolerance": 0.01,
        "timeout_ms": 3000
      },
      "description": "Refine pose and alignment before placement."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {
        "speed": "slow",
        "max_depth": 0.05,
        "force_threshold": 5,
        "timeout_ms": 2000
      },
      "description": "Descend gently until contact sensed."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "area_id": "board",
        "yaw_deg": 90,
        "press_force": 10,
        "timeout_ms": 2000
      },
      "description": "Place the clamp on the board with modest press."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.06,
        "timeout_ms": 1000
      },
      "description": "Release the clamp."
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {
        "timeout_ms": 500
      },
      "description": "Stabilization dwell after release."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {
        "distance": 0.1,
        "timeout_ms": 1500
      },
      "description": "Back off to a safe distance."
    }
  ],
  "tree_stats": {
    "nodes_total": 10,
    "actions": 9,
    "conditions": 0,
    "depth": 2
  },
  "failure_modes": [
    "Board not detected",
    "Yaw misalignment with rails",
    "No contact within max depth",
    "Clamp slips after release",
    "Collision during retreat"
  ],
  "recovery_strategy": [
    "Re-run DetectObject",
    "Adjust yaw and re-approach",
    "Raise then repeat LowerUntilContact with slightly greater depth",
    "Re-grasp and re-place",
    "Increase retreat distance"
  ],
  "assumptions": [
    "Frames indicate the clamp is already grasped; thus no pick phase included.",
    "The placement target is the grid board area rather than inserting into a slot."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Clamp lies flat and aligned on board",
      "Robot retreats without interference"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "board",
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "board",
          "offset_z": 0.1,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "board",
          "tolerance": 0.01,
          "timeout_ms": 3000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 5,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {
          "target": "grid_clamp",
          "area_id": "board",
          "yaw_deg": 90,
          "press_force": 10,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.06,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "Wait",
        "attrs": {
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    }
  ]
}