{
  "dataset_id": "dlr_sara_grid_clamp_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_047",
  "task_summary": "Align above the grid fixture and place the clamp onto it, then release and retreat.",
  "task_long_description": {
    "overview": "A stationary manipulator with a parallel gripper must place a small clamp onto a grid/jig on a wooden board. The scene shows several clamps on the table and a fixture area near the SARA box. The robot is assumed to already hold a clamp. The plan detects and verifies the fixture location, approaches from above, aligns yaw, lowers until contact to find the surface, places the clamp, opens the gripper, and retreats safely. Tolerances are tight to avoid misalignment with the grid.",
    "preconditions": [
      "Clamp already in gripper",
      "Grid fixture visible in camera view",
      "Workspace clear above fixture",
      "Robot within reachable workspace"
    ],
    "stepwise_plan": [
      "Detect and confirm the grid fixture",
      "Verify clamp is held",
      "Move above target with clearance",
      "Set tool yaw to align to grid",
      "Approach and fine-align to fixture",
      "Lower until contact at low force",
      "Place down onto fixture",
      "Open gripper to release clamp",
      "Retreat vertically to safe height"
    ],
    "success_criteria": [
      "Clamp released on fixture area",
      "No slip during release",
      "End-effector retreats without collision"
    ],
    "failure_and_recovery": [
      "Fixture not detected → rescan or adjust pose",
      "No contact detected within depth → abort place and retry approach",
      "Object not in gripper → stop and request pick routine"
    ],
    "termination": "Terminate when clamp is placed and the arm has retreated to a safe distance."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Arm aligned over fixture with yaw orientation visible.",
        "predicts_next": "Suggests imminent descent and contact search.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place grid clamp",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 2000,
    "tolerance": 0.01,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "clamp",
    "grid_fixture",
    "board",
    "robot_gripper"
  ],
  "objects_from_instruction": [
    "grid clamp"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "timeout_ms": 1500
      },
      "description": "Find the grid fixture on the board."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {
        "target": "grid_fixture"
      },
      "description": "Confirm fixture is visible before approach."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {
        "target": "clamp"
      },
      "description": "Ensure a clamp is already held for placement."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "offset_z": 0.08,
        "timeout_ms": 2000
      },
      "description": "Move above the fixture with clearance."
    },
    {
      "id": "SetTCPYaw",
      "type": "Action",
      "ports": {
        "yaw_deg": 90
      },
      "description": "Align gripper yaw to grid orientation."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "tolerance": 0.01,
        "timeout_ms": 2000
      },
      "description": "Refine position and orientation over the fixture."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {
        "speed": "slow",
        "max_depth": 0.05,
        "force_threshold": 5,
        "timeout_ms": 2000
      },
      "description": "Search downward until contact is detected."
    },
    {
      "id": "ContactDetected",
      "type": "Condition",
      "ports": {
        "force_threshold": 5
      },
      "description": "Verify contact was achieved."
    },
    {
      "id": "PlaceDown",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "timeout_ms": 2000
      },
      "description": "Place the clamp onto the fixture."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.06,
        "timeout_ms": 800
      },
      "description": "Release the clamp."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {
        "distance": 0.1,
        "timeout_ms": 1500
      },
      "description": "Back off to a safe distance."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 8,
    "conditions": 3,
    "depth": 2
  },
  "failure_modes": [
    "Fixture not detected",
    "Clamp not present in gripper",
    "Misalignment causing no contact",
    "Release failure leading to carried object"
  ],
  "recovery_strategy": [
    "Rescan area and reattempt alignment",
    "Abort to pick routine if no clamp",
    "Increase clearance then re-approach",
    "Retry place after minor yaw adjustment"
  ],
  "assumptions": [
    "Frames suggest the robot is already holding a clamp; instruction does not specify pick step. If not true, a preceding pick subtree is required."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Clamp rests on grid, gripper empty, no collisions"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "grid_fixture",
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {
          "target": "grid_fixture"
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "grid_fixture",
          "offset_z": 0.08,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "SetTCPYaw",
        "attrs": {
          "yaw_deg": 90
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "grid_fixture",
          "tolerance": 0.01,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 5,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "ContactDetected",
        "attrs": {
          "force_threshold": 5
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.06,
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    }
  ]
}