{
  "dataset_id": "dlr_sara_grid_clamp_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_041",
  "task_summary": "Align above the grid clamp fixture, lower until contact, place the clamp, open the gripper, and retreat.",
  "task_long_description": {
    "overview": "The scene shows a UR-style arm over a wooden board with a row of dark grid clamps near the camera. The task is to place a clamp onto the grid fixture on the workboard. The robot first verifies the clamp is held, localizes the grid clamp fixture, approaches from above, aligns, then lowers until contact to ensure seated placement. It releases the clamp and retreats to a safe height. Timing and force thresholds are modest to avoid excessive pressing.",
    "preconditions": [
      "Clamp already in the gripper",
      "Workspace clear around fixture",
      "Camera/pose estimation available for the grid clamp fixture"
    ],
    "stepwise_plan": [
      "Verify the clamp is in the gripper",
      "Detect/confirm the grid clamp fixture",
      "Move above the fixture",
      "Approach and align precisely",
      "Lower until contact is detected",
      "Place down and release",
      "Retreat from the placement area"
    ],
    "success_criteria": [
      "Clamp released at fixture location",
      "Contact detected before release",
      "Robot retreats without collision",
      "No displacement of nearby clamps"
    ],
    "failure_and_recovery": [
      "If fixture not detected: retry perception or adjust viewpoint",
      "If no contact detected within depth: abort and back off",
      "If object slips: stop and re-acquire"
    ],
    "termination": "Terminate after successful release and retreat or after a hard failure signal from perception/contact checks."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "TCP near the fixture with vertical alignment suggesting imminent contact.",
        "predicts_next": "Lower/press followed by release is expected.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place grid clamp",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "clamp",
    "grid_clamp_fixture",
    "board",
    "table"
  ],
  "objects_from_instruction": [
    "grid clamp"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {
        "target": "clamp"
      },
      "description": "Ensure the clamp is currently held before placing."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "grid_clamp_fixture",
        "timeout_ms": 1500
      },
      "description": "Detect/confirm the placement fixture."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "grid_clamp_fixture",
        "offset_z": 0.05,
        "timeout_ms": 2000
      },
      "description": "Move to a pre-place height above the fixture."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "grid_clamp_fixture",
        "tolerance": 0.01,
        "timeout_ms": 2000
      },
      "description": "Refine pose and align over the fixture."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {
        "speed": "slow",
        "max_depth": 0.05,
        "force_threshold": 10,
        "timeout_ms": 1500
      },
      "description": "Lower vertically until a contact force threshold is reached."
    },
    {
      "id": "ContactDetected",
      "type": "Condition",
      "ports": {
        "force_threshold": 10
      },
      "description": "Verify contact before releasing."
    },
    {
      "id": "PlaceDown",
      "type": "Action",
      "ports": {
        "target": "grid_clamp_fixture",
        "timeout_ms": 1000
      },
      "description": "Execute the place-down action at the fixture."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.04,
        "timeout_ms": 500
      },
      "description": "Release the clamp."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {
        "distance": 0.1,
        "timeout_ms": 1000
      },
      "description": "Back off to a safe distance after placement."
    }
  ],
  "tree_stats": {
    "nodes_total": 10,
    "actions": 7,
    "conditions": 2,
    "depth": 2
  },
  "failure_modes": [
    "Fixture not detected",
    "Premature release",
    "Excessive force during lowering",
    "Collision with neighboring clamps"
  ],
  "recovery_strategy": [
    "Reattempt detection from slightly different height",
    "Abort and regrasp if object not in gripper",
    "Raise and retry with reduced force threshold",
    "Plan safe retreat and re-approach"
  ],
  "assumptions": [
    "Frames indicate the clamp is already in gripper; task interpreted as placement only.",
    "The term 'grid clamp' refers to the dark modular clamps visible near the camera and a corresponding fixture on the board."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Clamp seated at fixture, gripper open, robot clear of area"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "grid_clamp_fixture",
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "grid_clamp_fixture",
          "offset_z": 0.05,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "grid_clamp_fixture",
          "tolerance": 0.01,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ContactDetected",
        "attrs": {
          "force_threshold": 10
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceDown",
        "attrs": {
          "target": "grid_clamp_fixture",
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.04,
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    }
  ]
}