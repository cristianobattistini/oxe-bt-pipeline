{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_018",
  "task_summary": "Pour the contents from the source box into the mug using the manipulator.",
  "task_long_description": {
    "overview": "A robot arm is tasked with pouring the contents of a box into a mug situated on a wooden table. The sequence involves perceiving and aligning to the mug, moving the box into the correct pouring position, executing a controlled pour motion, and then retreating. Accurate object location, consistent approach, and proper alignment are vital. The arm must avoid spilling and ensure the pour is complete inside the mug.",
    "preconditions": [
      "Mug and box present in workspace",
      "Manipulator initialized and holding the box",
      "Mug not obstructed, visible on the table"
    ],
    "stepwise_plan": [
      "Verify the mug is visible or scan to find it",
      "Localize the mug for precise approach",
      "Move above the mug with the box",
      "Align the box above the mug for pouring",
      "Pour the box contents into the mug with controlled tilt",
      "Raise the box after pouring",
      "Retreat from the mug area",
      "Brief wait to confirm stability"
    ],
    "success_criteria": [
      "Contents transferred into mug with minimal spillage",
      "Mug remains upright and stationary",
      "Robot retreats safely and resets"
    ],
    "failure_and_recovery": [
      "Failure to detect mug: re-scan area up to 3 times",
      "Alignment or pour interruption: pause and retry",
      "Pour fails to start: repeat approach or pattern"
    ],
    "termination": "Task terminates when contents have been poured and the box has retreated from above the mug."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["mug","box","table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"mug"},
      "description":"Checks if the mug is visible in the workspace."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"mug","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Scans for the mug in the workspace using a raster pattern."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"mug","timeout_ms":800},
      "description":"Attempts to detect and localize the mug."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"mug","offset_z":0.10,"timeout_ms":1500},
      "description":"Moves the end effector above the mug at a 10cm offset."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"mug","tolerance":0.005,"timeout_ms":1500},
      "description":"Precisely aligns above mug before pouring."
    },
    {
      "id":"Pour",
      "type":"Action",
      "ports":{"source":"box","target":"mug","amount":"all","tilt_angle":45,"pour_rate":"normal","timeout_ms":1500},
      "description":"Pours contents from the box into the mug."
    },
    {
      "id":"RaiseHeld",
      "type":"Action",
      "ports":{"target":"box","distance":0.10,"timeout_ms":1200},
      "description":"Raises the box vertically after pouring."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":1200},
      "description":"Retracts the end effector from above the mug."
    },
    {
      "id":"Wait",
      "type":"Action",
      "ports":{"timeout_ms":500},
      "description":"Waits briefly after retreating for task stabilization."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 7,
    "conditions": 1,
    "depth": 4
  },
  "failure_modes": [
    "Mug not found by visual sensors",
    "Imprecise alignment above the mug",
    "Pour blocked (incorrect tilt or misalignment)",
    "Premature stop or spillage",
    "Mechanical fault (arm or gripper failure)"
  ],
  "recovery_strategy": [
    "Re-scan for mug position (up to 3 times)",
    "Retry approach and alignment",
    "Pause and repeat pour if motion interrupted"
  ],
  "assumptions": [
    "Instruction lacks explicit source: inferred as 'box' from frames.",
    "No mention of amount/rate in instruction; using defaults.",
    "Frame sequence indicates no object pickup requiredâ€”box already grasped.",
    "No explicit force/tolerance required for pour in instruction or visible in frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "All contents successfully poured into mug.",
      "No excessive spillage during transfer.",
      "Robot arm detaches and retreats without disturbing mug."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"mug","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"mug","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"mug","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"box","target":"mug","amount":"all","tilt_angle":45,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"RaiseHeld","attrs":{"target":"box","distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}