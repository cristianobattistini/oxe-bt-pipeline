{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_063",
  "task_summary": "The robot pours liquid from a mug into a cup in a controlled sequence, ensuring both source and target are located and properly aligned.",
  "task_long_description": {
    "overview": "A robot arm equipped with a mug is tasked to pour its contents into a cup positioned on a table. The behavior initiates with visual detection and localization of both mug (source) and cup (target), followed by precise approach, alignment, and execution of the pour. After pouring, the robot retreats to avoid contact or spillage. The sequence prioritizes object recognition and safe handling. No explicit feedback about pouring completion is available, but physical cues are inferred from the episode frames.",
    "preconditions": [
      "Mug is grasped or positioned in robot's end-effector",
      "Cup is placed on workspace",
      "Robot arm is unimpeded",
      "Visual sensors active for localization"
    ],
    "stepwise_plan": [
      "Ensure mug (source) is visible and localized",
      "Move above the mug for initial alignment",
      "Ensure cup (target) is visible and localized",
      "Move above the cup for pouring alignment",
      "Execute pouring action from mug into cup with a tilt angle",
      "Retract arm to safe location"
    ],
    "success_criteria": [
      "Mug contents enter cup without spillage",
      "Robot avoids collision during movement",
      "All steps complete without failure"
    ],
    "failure_and_recovery": [
      "Objects not detected: Retry detection up to 3 times",
      "Pour misalignment: task fails, no explicit recovery in BT"
    ],
    "termination": "Tree ends when pouring and retreat actions complete."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm","mug","cup","table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"mug"},
      "description": "Checks if the mug (source container) is currently visible"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"mug","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description": "Scans for mug using grid search pattern"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"mug","timeout_ms":800},
      "description": "Detects mug pose after scan"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"mug","offset_z":0.10,"timeout_ms":1500},
      "description": "Moves above the mug to align for picking or pouring"
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"cup"},
      "description": "Checks if the cup (target) is currently visible"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"cup","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description": "Scans for cup using grid search pattern"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"cup","timeout_ms":800},
      "description": "Detects cup pose after scan"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"cup","offset_z":0.10,"timeout_ms":1500},
      "description": "Moves above the cup to align for pouring"
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source":"mug","target":"cup","amount":"null","tilt_angle":60,"pour_rate":"normal","timeout_ms":1500},
      "description": "Executes pouring the mug's contents into the cup"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.10,"timeout_ms":1200},
      "description": "Retracts arm to safe position after pouring"
    }
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 2, "depth": 6},
  "failure_modes": [
    "Object visibility or detection failure",
    "Pour misalignment causing spillage",
    "Physical obstruction during approach or retreat"
  ],
  "recovery_strategy": [
    "Retry detection up to 3 times",
    "Abort on repeated failures; manual intervention required"
  ],
  "assumptions": [
    "Instruction says 'Pour into the mug', but the frames show pouring from a mug into a cup. BT design follows the evidence from frames, prioritizing mug as source and cup as target.",
    "Amount to pour is not defined; set as null.",
    "No gripper or grasping actions shown in episode.",
    "Tilt angle chosen as 60 as direct correspondence from visual tilt in pouring frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Liquid visible in mug is poured into cup in workspace",
      "Pouring completes without overflow or spill"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"mug","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cup","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cup","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cup","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"mug","target":"cup","amount":"null","tilt_angle":60,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"mug","target":"cup","amount":"null","tilt_angle":60,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}