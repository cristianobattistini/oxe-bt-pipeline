{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_010",
  "task_summary": "A robot arm pours liquid from a cup into a mug through structured sequential actions, including perception, approach, pouring, and retreat.",
  "task_long_description": {
    "overview": "This episode depicts a stationary robotic arm performing a pouring task. The robot detects both the mug (target) and the cup (source), aligns the cup over the mug, executes a pour by tilting the cup, and finally retreats to avoid collision. The main constraints are precise perception and safe actuation. The sequence matches the visual evidence from the frames, confirming start, approach, pour, and removal phases.",
    "preconditions": [
      "The mug and cup are both present and visible on the table within reachable workspace.",
      "Cup contains pourable content.",
      "No obstructions between robot gripper and target objects."
    ],
    "stepwise_plan": [
      "Verify mug is visible or attempt to find it.",
      "Verify cup is visible or attempt to find it.",
      "Move to a position above the cup.",
      "Align the cup above the mug.",
      "Pour from the cup into the mug by tilting cup 90 degrees.",
      "Retract the arm to a safe position."
    ],
    "success_criteria": [
      "Cup is brought above the mug.",
      "Pour action is executed with cup tilted over mug.",
      "No spillage or collision occurs.",
      "Robot retreats safely."
    ],
    "failure_and_recovery": [
      "If object detection fails, scanning attempts are retried.",
      "If approach is blocked or inaccurate, action is retried.",
      "If pour fails (e.g., tilt exceeds limits), system halts and alerts."
    ],
    "termination": "Episode terminates after a successful pour and safe retreat, or after unrecoverable failures."
  },
  "frame_ranking": {
    "order": ["frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["mug", "cup"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"mug"},
      "description": "Checks if the mug is visible to the perception system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"mug","pattern":"grid","max_attempts":2,"timeout_ms":800},
      "description": "Scans workspace with a grid pattern to find the mug if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"mug","timeout_ms":800},
      "description": "Runs direct object detection for the mug."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"cup"},
      "description": "Checks if the cup is visible to the perception system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"cup","pattern":"grid","max_attempts":2,"timeout_ms":800},
      "description": "Scans workspace with a grid pattern to find the cup if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"cup","timeout_ms":800},
      "description": "Runs direct object detection for the cup."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"cup","offset_z":0.10,"timeout_ms":1500},
      "description": "Moves robot above the cup at 10cm offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"cup","tolerance":0.005,"timeout_ms":1000},
      "description": "Approaches and aligns with the cup, within a fine tolerance."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":1200},
      "description": "Pours contents from the cup into the mug with a tilt of 90 degrees."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.15,"timeout_ms":1200},
      "description": "Retracts arm 15cm away from the pour site."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 2, "depth": 1},
  "failure_modes": [
    "Mug or cup not detected",
    "Failed to align above mug/cup",
    "Pour misaligned resulting in spill",
    "Robot collision during pour or retreat"
  ],
  "recovery_strategy": [
    "Retry object scanning if not visible",
    "Retry approach if collision risk detected",
    "Abort pour and generate alert if error persists"
  ],
  "assumptions": [
    "Frames confirm that the source is a cup and target is a mug, matching instruction.",
    "Exact amount poured is not visible, so amount is set to null.",
    "The cup is already grasped by the robot at episode start.",
    "No explicit force or tolerance stated in instruction; defaults used."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup brought above the mug",
      "Pour commanded with 90 degree tilt",
      "No collisions, successful retreat"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cup","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cup","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cup","tolerance":0.005,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.15,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.15,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.15,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}