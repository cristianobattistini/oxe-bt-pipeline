{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_060",
  "task_summary": "Robot pours liquid from a cup into a mug using a sequential pick and pour routine, guided by object detection and controlled actuation.",
  "task_long_description": {
    "overview": "This task involves a robotic manipulator tasked with transferring liquid from a cup into a mug placed on a workbench. The episode displays sequential stages, starting with perception and localization of both cup and mug, executing a grasp of the cup, positioning above the mug, and performing the pour. Sensor feedback is utilized to ensure the reliability of the grasp before actuating the pouring motion. The episode is strictly constrained to visual evidence and robot actions depicted in the frames.",
    "preconditions": ["Cup and mug are both visible and accessible on the table.", "Robot gripper is empty before grasp.", "No obstacles between robot and target objects."],
    "stepwise_plan": ["Detect and confirm visibility of mug.", "Detect and confirm visibility of cup.", "Move above the cup.", "Compute the grasp pose for the cup.", "Grasp the cup using top strategy.", "Verify grasp stability.", "Move above the mug.", "Pour from the cup into the mug.", "Retreat arm from mug."],
    "success_criteria": ["Liquid transferred from cup to mug.", "No spillage onto workspace.", "Cup and mug remain stable and undamaged.", "Robot returns to safe pose after pour."],
    "failure_and_recovery": ["Cup or mug not detected: retry scan.", "Failed grasp: retry grasp pose computation and actuation.", "Incorrect alignment: reposition and verify.", "Partial pour: repeat pour or abort."],
    "termination": "Task ends upon successful pour and robot retreat, or upon detection of unrecoverable error."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm","cup","mug","workbench"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": ["grasp_cup"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "mug"},
      "description": "Check if the mug is visible to perception module."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "mug", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Actively scan for mug if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "mug", "timeout_ms": 800},
      "description": "Confirm and localize mug."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "cup"},
      "description": "Check if the cup is visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "cup", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scan for cup if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "cup", "timeout_ms": 800},
      "description": "Localize cup."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "cup", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Move gripper above cup for grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "cup", "strategy": "top", "result_key": "grasp_cup"},
      "description": "Compute grasp pose for cup with top-down strategy."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_cup", "strategy": "top", "timeout_ms": 1200},
      "description": "Execute grasp at computed pose."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Verify the grasp is secure."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Position gripper above mug."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source": "cup", "target": "mug", "amount": null, "tilt_angle": 90, "pour_rate": "normal", "timeout_ms": 1500},
      "description": "Pour contents of cup into mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retract arm after pouring."
    }
  ],
  "tree_stats": {"nodes_total": 14, "actions": 10, "conditions": 4, "depth": 2},
  "failure_modes": [
    "Object (cup/mug) not detected by perception", 
    "Unsuccessful grasp (object slips or not secured)", 
    "Misalignment above mug during pour", 
    "Unstable pour motion causing spillage"
  ],
  "recovery_strategy": [
    "Retry scanning and detection up to 3 times for targets",
    "Recompute and retry grasp up to initiation threshold",
    "Reposition above mug and verify pose before pour"
  ],
  "assumptions": [
    "Frames clearly indicate presence of a cup being poured into a mug by the robot arm.",
    "Instruction requests arbitrary pouring; frames show robot picks up a cup and pours into mug.",
    "Liquid presence is presumed though not explicitly visible; the episode focuses on the transfer, not the contents.",
    "No explicit force or tolerance parameter required based on instruction or visual evidence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup held securely in gripper.", 
      "Mug positioned to receive pour.",
      "Pour action executed such that mug receives transferred contents.",
      "Robot retreats after pour without collision."
    ],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cup","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cup","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"cup","strategy":"top","result_key":"grasp_cup"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_cup","strategy":"top","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"mug","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":null,"tilt_angle":90,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}