{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_035",
  "task_summary": "The robot pours liquid from a cup into a mug, using robust perception and motion planning to ensure accurate transfer.",
  "task_long_description": {
    "overview": "A stationary manipulator (SARA) picks up a cup, aligns it over a mug, then executes a controlled tilting motion to pour the cup's contents into the mug on a lab table. The process relies on visual perception of both vessels, precise approach to minimize spillage, and a safe retreat post-pour.",
    "preconditions": ["Cup contains pourable material", "Mug is present and upright on table", "Robot starts clear of workspace", "Work area is unobstructed"],
    "stepwise_plan": [
      "Detect the mug using vision. Retry if not visible.",
      "Move the cup above the mug to a safe pouring height.",
      "Detect and confirm the presence of the cup above the mug.",
      "Align the cup over the mug with precise tolerance.",
      "Execute a 90-degree tilt to pour contents from cup to mug.",
      "Retreat from above mug to prevent collision or dripping."
    ],
    "success_criteria": [
      "Cup is positioned and poured directly over the mug.",
      "Majority of contents successfully transferred to mug.",
      "No collision or spillage outside mug.",
      "Robot arm returns to a neutral position after pouring."
    ],
    "failure_and_recovery": [
      "If mug or cup not detected, retry detection routine.",
      "If pouring is blocked or fails, abort and retreat.",
      "If unexpected contact or spillage, pause and alert operator."
    ],
    "termination": "Tree terminates after pour and successful retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 2000,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4",
    "frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["mug", "cup"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"mug"},
      "description":"True if the mug is visible to the arm's sensors"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"mug", "timeout_ms":800},
      "description":"Actively scan to detect the mug"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"mug", "offset_z":0.10, "timeout_ms":1500},
      "description":"Position the cup aligned vertically above the mug"
    },
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"cup"},
      "description":"True if the cup is visible"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"cup", "timeout_ms":800},
      "description":"Detect presence of the cup using sensors"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"cup", "offset_z":0.10, "timeout_ms":1500},
      "description":"Move the end effector directly above the cup"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"cup", "tolerance":0.005, "timeout_ms":1500},
      "description":"Approach the cup and align for pouring with tight tolerance"
    },
    {
      "id":"Pour",
      "type":"Action",
      "ports":{
        "source":"cup",
        "target":"mug",
        "amount":"null",
        "tilt_angle":90,
        "pour_rate":"null",
        "timeout_ms":2000
      },
      "description":"Pour from cup to mug by tilting 90 degrees"
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports": {"distance":0.10, "timeout_ms":1200},
      "description":"Move away after pouring to avoid collision or drops"
    }
  ],
  "tree_stats": {"nodes_total": 12, "actions": 7, "conditions": 2, "depth": 9},
  "failure_modes": [
    "Object not detected",
    "Misalignment over mug",
    "Pour motion fails (block or spillage)",
    "Premature retreat"
  ],
  "recovery_strategy": [
    "Retry detection if target object not found",
    "Abort pour if collision detected",
    "Pause execution and alert if anomalous force/spillage observed"
  ],
  "assumptions": [
    "Instruction uses 'pour into the mug', but frames clearly show the cup is the pouring vessel—not stated in the instruction. This has been resolved in ports.",
    "Pour amount and rate are not inferable from visuals—set to null as per BT library and justify in evaluation_notes.",
    "Mug acts as target, cup as source, based on visual evidence (2 objects explicitly present).",
    "Frames do not show grasp, only pour; grasp phase is omitted."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup contents transferred to mug",
      "No significant spillage",
      "Objects remain upright"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame":"frame_0",
      "phase":"perceive",
      "active_leaf":{"id":"IsObjectVisible","attrs":{"target":"mug"}},
      "active_path_ids":["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame":"frame_1",
      "phase":"perceive",
      "active_leaf":{"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids":["Sequence","Fallback","DetectObject"]
    },
    {
      "frame":"frame_2",
      "phase":"approach",
      "active_leaf":{"id":"MoveAbove","attrs":{"target":"mug","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids":["Sequence","MoveAbove"]
    },
    {
      "frame":"frame_3",
      "phase":"perceive",
      "active_leaf":{"id":"IsObjectVisible","attrs":{"target":"cup"}},
      "active_path_ids":["Sequence","Fallback_2","IsObjectVisible"]
    },
    {
      "frame":"frame_4",
      "phase":"perceive",
      "active_leaf":{"id":"DetectObject","attrs":{"target":"cup","timeout_ms":800}},
      "active_path_ids":["Sequence","Fallback_2","DetectObject"]
    },
    {
      "frame":"frame_5",
      "phase":"approach",
      "active_leaf":{"id":"MoveAbove","attrs":{"target":"cup","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids":["Sequence","MoveAbove_2"]
    },
    {
      "frame":"frame_6",
      "phase":"verify",
      "active_leaf":{"id":"ApproachAndAlign","attrs":{"target":"cup","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids":["Sequence","ApproachAndAlign"]
    },
    {
      "frame":"frame_7",
      "phase":"transfer",
      "active_leaf":{"id":"Pour","attrs":{"source":"cup","target":"mug","tilt_angle":90,"timeout_ms":2000}},
      "active_path_ids":["Sequence","Pour"]
    },
    {
      "frame":"frame_8",
      "phase":"retreat",
      "active_leaf":{"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids":["Sequence","Retreat"]
    }
  ]
}