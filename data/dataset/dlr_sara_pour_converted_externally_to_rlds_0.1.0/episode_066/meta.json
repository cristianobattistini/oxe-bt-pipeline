{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_066",
  "task_summary": "Robot arm pours the contents of a cup into a mug, using a grasp and pour behavior.",
  "task_long_description": {
    "overview": "This episode involves a collaborative robot arm equipped with a gripper, performing a pouring task whereby the arm grasps a cup and pours its contents into a mug positioned on a table. The workspace is structured and visually well-lit, with objects placed for clear reachability. The robot must reliably detect both the mug and cup, approach with precision to avoid spillage, and execute a controlled tilt for the pour. Safety and accuracy are prioritized; robust perception and grasp stability are assumed. No human intervention occurs during the episode.",
    "preconditions": [
      "Mug is present and visible on the table.",
      "Cup is present within reachable workspace.",
      "Robot gripper is initialized and empty.",
      "Collision-free environment."
    ],
    "stepwise_plan": [
      "Locate the mug with vision and verify its visibility.",
      "Detect and grasp the cup using a side grasp.",
      "Move the held cup above the mug with safe vertical offset.",
      "Align the cup's pouring edge over the mug center.",
      "Tilt the cup at the defined angle to pour into the mug.",
      "Retreat the arm away from the mug after pouring."
    ],
    "success_criteria": [
      "Cup is successfully grasped.",
      "Pour is executed with controlled tilt and aim.",
      "Liquid (if present) transfers into the mug.",
      "No significant spillage, collisions, or drop events."
    ],
    "failure_and_recovery": [
      "Object detection failure — retry scan up to 3 times.",
      "Grasp failure — reattempt grasp for the cup.",
      "Spillage or pour misalignment — abort pour, retreat, and reset.",
      "Collision detection — halt and retract arm safely."
    ],
    "termination": "Task ends when the retreat action is completed after pouring."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4",
    "frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["robot_arm","gripper","cup","mug","table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": ["grasp_cup"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "mug"},
      "description": "Checks if the mug is visible in the workspace."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "mug", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Actively scans for the mug using a grid pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "mug", "timeout_ms": 800},
      "description": "Performs precise detection of the mug."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "cup"},
      "description": "Checks if the cup is currently held by the gripper."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "cup", "timeout_ms": 800},
      "description": "Performs precise detection of the cup."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "cup", "strategy": "side", "result_key": "grasp_cup"},
      "description": "Computes the grasp pose for the cup using a side approach."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_cup", "strategy": "side", "timeout_ms": 1200},
      "description": "Executes a grasp on the cup using the computed pose."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "mug", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the held cup above the mug with an offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns the cup precisely over the mug with tight tolerance."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source": "cup", "target": "mug", "amount": null, "tilt_angle": 45, "pour_rate": "normal", "timeout_ms": 1500},
      "description": "Tilts and pours contents from the cup into the mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retracts the robot arm after pouring."
    }
  ],
  "tree_stats": {"nodes_total": 14, "actions": 9, "conditions": 3, "depth": 6},
  "failure_modes": [
    "Object not detected (mug/cup)",
    "Grasp fail (cup)",
    "Pour misalignment/spillage",
    "Collision with table or mug"
  ],
  "recovery_strategy": [
    "Scan again for missing objects.",
    "Retry grasp with alternate pose.",
    "Abort and retreat on collision or spillage.",
    "Retry approach/alignment if tolerance exceeded."
  ],
  "assumptions": [
    "Visual inspection confirms the object being grasped and poured is a cup, not a bottle.",
    "The mug is used as the target vessel (frames confirm presence of both cup and mug).",
    "No liquid visibly present, but pouring motion performed.",
    "Instruction lacks object details; frames clarify cup→mug mapping.",
    "Tilt angle for pour chosen as 45 to match visible pouring gesture."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup is grasped and held above mug.",
      "Pour action executed toward mug.",
      "Retreat performed after pouring."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cup","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"cup","strategy":"side","result_key":"grasp_cup"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_cup","strategy":"side","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"mug","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"mug","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":null,"tilt_angle":45,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}