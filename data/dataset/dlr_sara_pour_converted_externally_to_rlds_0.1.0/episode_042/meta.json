{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_042",
  "task_summary": "A robot arm pours from a cup into a mug positioned on a table. The arm identifies the mug, approaches it from above, aligns, and performs a controlled pour, then retreats.",
  "task_long_description": {
    "overview": "This task involves a robot arm equipped with a gripper and a cup (source) performing a precise pouring operation into a mug (target) placed on a table. The scene is static, with both objects on the workspace. The main constraints are accurate object localization (especially the mug), approach with the source above target, controlled tilt for pouring without spills, and sufficient retreat after completion.",
    "preconditions": [
      "Cup is gripped by the robot",
      "Cup contains pourable contents",
      "Mug is present and visible on table",
      "Workspace is clear of obstacles"
    ],
    "stepwise_plan": [
      "Detect/confirm mug",
      "Move above the mug",
      "Align robot for pour",
      "Perform pouring with appropriate tilt",
      "Retreat safely"
    ],
    "success_criteria": [
      "Contents of cup transferred to mug",
      "No spillage",
      "Robot arm does not collide with mug"
    ],
    "failure_and_recovery": [
      "If mug is not visible: rescan and retry detection up to three times",
      "If alignment fails: repeat approach step",
      "If pour is missed: task is aborted"
    ],
    "termination": "Task ends when pour is complete and robot has retreated from mug"
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 2000,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["robot_arm", "cup", "mug", "table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "mug"},
      "description": "Checks if mug is visible before proceeding."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "mug", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans workspace to find mug when not immediately visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "mug", "timeout_ms": 800},
      "description": "Performs detection of the mug for localization."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves the cup (held) above the mug for pouring."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns the cup spout with mug opening."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source": "cup", "target": "mug", "amount": "full", "tilt_angle": 90, "pour_rate": "normal", "timeout_ms": 2000},
      "description": "Performs the actual pouring from cup into mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retracts the arm away from the mug after pouring."
    }
  ],
  "tree_stats": {"nodes_total": 9, "actions": 6, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Mug not visible",
    "Detection fails",
    "Incorrect alignment",
    "Spillage",
    "Retreat blocked"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times if mug is not visible",
    "Re-attempt alignment if approach fails"
  ],
  "assumptions": [
    "The cup is the correct source (held in gripper at start as seen in frames)",
    "The 'pour_rate'='normal' and 'amount'='full' are inferred, as not explicit in instruction or frames",
    "The mug may require perceptual reacquisition"
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Mug receives poured liquid", "No spillage", "Robot arm does not strike mug"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "mug"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "mug",
          "pattern": "raster",
          "max_attempts": 3,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "mug", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "Pour",
        "attrs": {
          "source": "cup",
          "target": "mug",
          "amount": "full",
          "tilt_angle": 90,
          "pour_rate": "normal",
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {
        "id": "Pour",
        "attrs": {
          "source": "cup",
          "target": "mug",
          "amount": "full",
          "tilt_angle": 90,
          "pour_rate": "normal",
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}