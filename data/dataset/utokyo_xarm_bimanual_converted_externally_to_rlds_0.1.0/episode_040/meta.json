{
  "dataset_id": "utokyo_xarm_bimanual_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_040",
  "task_summary": "Robot arm unfolds a wrinkled towel placed on a table, following a sequential plan of perception, grasp, unfolding, placement, and retreat.",
  "task_long_description": {
    "overview": "This episode shows a dual-armed robot on an artificial grass workspace, tasked with unfolding a wrinkled towel that is initially bunched and disordered. The robot systematically detects the towel, approaches above it, computes and executes a top-down grasp, performs unfolding by pulling to spread out the fabric, then places it flat onto the table surface before releasing grip and retreating. The robot must manipulate a deformable, non-rigid object and maintain a careful grip to ensure full unfolding.",
    "preconditions": [
      "Towel located on center table",
      "Robot arms in home position; grippers empty",
      "Workspace clear except for towel"
    ],
    "stepwise_plan": [
      "Detect the towel using vision",
      "Move arm above the towel to approach",
      "Compute suitable top grasp pose",
      "Execute grasp at computed pose",
      "Unfold the towel by pulling apart, targeting at least two main folds",
      "Place the towel flat on table",
      "Open gripper to release towel",
      "Retreat arm from the workspace"
    ],
    "success_criteria": [
      "Towel visibly unfolded and flat on table",
      "No major wrinkles remain",
      "Robot arm has released towel and retreated"
    ],
    "failure_and_recovery": [
      "Towel not detected: Attempt repeat detection",
      "Grasp fails/slips: Retry grasp",
      "Unfold unsuccessful: Repeat unfolding or adjust grasp strategy",
      "Collision or excessive force: Abort action and retreat"
    ],
    "termination": "Task terminates when the towel is flat and unfolded on the table, and the robot has retreated."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Unfold a wrinkled towel.",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 2000,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["towel", "table", "robot_gripper"],
  "objects_from_instruction": ["towel"],
  "blackboard_keys": ["grasp_towel"],
  "node_specs": [
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "towel", "timeout_ms": 800},
      "description": "Detect the towel in the workspace using vision."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "towel", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Move the end-effector above the towel at a safe offset."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "towel", "strategy": "top", "result_key": "grasp_towel"},
      "description": "Compute a top-down grasp pose for the towel."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_towel", "strategy": "top", "timeout_ms": 1500},
      "description": "Execute grasp at the computed pose."
    },
    {
      "id": "Unfold",
      "type": "Action",
      "ports": {"target": "towel", "strategy": "pull", "num_folds": 2, "timeout_ms": 2000},
      "description": "Unfold the towel by pulling, targeting two major folds."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {"target": "towel", "area_id": "table", "yaw_deg": 0, "press_force": 5, "timeout_ms": 1200},
      "description": "Place the unfolded towel flat on the table surface."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Open gripper to release the towel."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Move the end-effector away from the workspace."
    }
  ],
  "tree_stats": {
    "nodes_total": 8,
    "actions": 8,
    "conditions": 0,
    "depth": 8
  },
  "failure_modes": [
    "Vision fails to detect towel",
    "Grasp not stable",
    "Unfold action incomplete",
    "Towel not placed flat"
  ],
  "recovery_strategy": [
    "Retry perception for detection",
    "Retry grasp, change approach angle if needed",
    "Repeat unfold or use alternate strategy",
    "Adjust placement/gripper opening"
  ],
  "assumptions": [
    "Contact-sheet frames indicate a sequential plan with no evidence of bimanual folding; only top grasp and pulling observed",
    "Instruction matches visual evidence; the number of folds set to 2 in Unfold as typical for a wrinkled towel",
    "Towel is the only deformable object present"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Towel fully unfolded and laid flat on the table",
      "Robot arm released and retreated"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "towel", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "towel", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target": "towel", "strategy": "top", "result_key": "grasp_towel"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {"pose_key": "grasp_towel", "strategy": "top", "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {
        "id": "Unfold",
        "attrs": {"target": "towel", "strategy": "pull", "num_folds": 2, "timeout_ms": 2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "Unfold",
        "attrs": {"target": "towel", "strategy": "pull", "num_folds": 2, "timeout_ms": 2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {"target": "towel", "area_id": "table", "yaw_deg": 0, "press_force": 5, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.08, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}