{
  "dataset_id": "utokyo_xarm_bimanual_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_044",
  "task_summary": "Robot locates, grasps, and unfolds a wrinkled towel on a table, using a staged perception→approach→grasp→unfold→release sequence.",
  "task_long_description": {
    "overview": "This episode demonstrates a dual-arm robot carrying out a towel unfolding task. The main object is a wrinkled pink towel positioned on artificial grass. The robot must visually identify the towel, move into grasping position, calculate a top grasp, lift a portion to begin unfolding, and perform a coordinated unfolding action, finishing by releasing the towel and retreating. The sequence relies on robust perception, stable grasping, and compliant manipulation to gently and successfully unfold the towel.",
    "preconditions": [
      "Towel is visible on the workspace.",
      "Robot gripper is ready and unobstructed.",
      "Workspace is free of obstacles."
    ],
    "stepwise_plan": [
      "Visually scan and confirm detection of the towel using perception.",
      "Move above the towel to an approach position.",
      "Compute a top grasp pose for the target grasp point.",
      "Move to and grasp the towel.",
      "Apply an unfolding action by pulling the towel.",
      "Release the towel by opening the gripper.",
      "Retreat from the workspace."
    ],
    "success_criteria": [
      "Towel lies flat with minimal visible wrinkles.",
      "Robot gripper is opened and retracted away from unfolded towel."
    ],
    "failure_and_recovery": [
      "Towel not detected: retry scanning up to 3 times.",
      "Unstable grasp or slip: abort and retry sequence.",
      "If unfold fails (towel remains creased), incrementally reattempt or adjust strategy."
    ],
    "termination": "Terminate when the towel is unfolded and robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Unfold a wrinkled towel.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["towel", "table", "robot_gripper"],
  "objects_from_instruction": ["towel"],
  "blackboard_keys": ["grasp_towel"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "towel" },
      "description": "Check if towel is visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": { "target": "towel", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200 },
      "description": "Visually scan for the towel with a raster pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "towel", "timeout_ms": 800 },
      "description": "Detect the towel and update its pose."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": { "target": "towel", "offset_z": 0.10, "timeout_ms": 1500 },
      "description": "Move the gripper above the towel in preparation for grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": { "target": "towel", "strategy": "top", "result_key": "grasp_towel" },
      "description": "Compute a top-down grasp pose for the towel."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": { "pose_key": "grasp_towel", "strategy": "top", "timeout_ms": 1500 },
      "description": "Execute the precomputed grasp at the towel location."
    },
    {
      "id": "Unfold",
      "type": "Action",
      "ports": { "target": "towel", "strategy": "pull", "num_folds": 1, "timeout_ms": 3000 },
      "description": "Perform an unfolding motion by pulling out one fold in the towel."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": { "width": 0.08, "timeout_ms": 500 },
      "description": "Release the towel by opening the gripper."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": { "distance": 0.10, "timeout_ms": 1200 },
      "description": "Move the gripper away from work area to finalize the task."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 8,
    "conditions": 1,
    "depth": 3
  },
  "failure_modes": [
    "Towel not detected due to occlusion or poor lighting",
    "Unstable or failed grasp",
    "Towel does not unfold (motion ineffective, slippage)"
  ],
  "recovery_strategy": [
    "Retry scanning for towel if not detected, up to 3 times",
    "Abort and restart from perception if grasp fails",
    "Adjust grasp pose or unfolding parameters if towel still wrinkled"
  ],
  "assumptions": [
    "Frames indicate a single unfold action with one grasp; multistep, multi-folded towels not apparent",
    "No explicit force or tolerance constraints evident in vision; BT relies on default values",
    "Instruction maps directly to available Unfold action with pull strategy and one fold"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Towel is unfolded and flat on the workspace",
      "Robot is safely retracted"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "towel"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "towel", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "towel", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "towel", "offset_z": 0.10, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target": "towel", "strategy": "top", "result_key": "grasp_towel"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {"pose_key": "grasp_towel", "strategy": "top", "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {
        "id": "Unfold",
        "attrs": {"target": "towel", "strategy": "pull", "num_folds": 1, "timeout_ms": 3000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.08, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}