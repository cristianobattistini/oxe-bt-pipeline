{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_074",
  "task_summary": "Pick up the red object from the table using visual perception and grasping action.",
  "task_long_description": {
    "overview": "A robotic arm is tasked with picking up a red cylindrical object located on a table covered by a distinct blue pattern. The behavior tree coordinates perception (object detection), approach, grasp planning, alignment, and actuation phases in order to robustly secure the red object with the gripper. The sequence contains conditional retries for perception failures and validates a stable grasp before declaring completion. All steps are visually confirmed with the contact sheet for accurate action mapping.",
    "preconditions": [
      "Red object is present and clearly visible on the table.",
      "Robot is powered on, gripper is accessible.",
      "Workspace is unobstructed and within arm reach."
    ],
    "stepwise_plan": [
      "Check if the red object is visible; retry scanning up to three times if needed.",
      "Detect and localize the red object on the table.",
      "Open the gripper to an appropriate width.",
      "Move the gripper above the red object at a safe height.",
      "Compute a grasp pose with a top-down strategy.",
      "Approach and align the gripper with precise tolerance.",
      "Lower gripper until gentle contact is detected.",
      "Close gripper with sufficient force to grasp.",
      "Confirm the object is securely held in the gripper."
    ],
    "success_criteria": [
      "Red object is detected and picked up from the table.",
      "Gripper holds the object securely (object-in-gripper condition satisfied)."
    ],
    "failure_and_recovery": [
      "Object detection fails: retry scanning three times.",
      "Grasp is unstable or fails: repeat approach and grasp after re-aligning.",
      "Non-contact or collision detected: retry lowering or alignment.",
      "Gripper unable to close: check width and re-open."
    ],
    "termination": "Terminate when the red object is detected inside the gripper and lifted from the table."
  },
  "frame_ranking": {
    "order": ["frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_object", "table", "gripper", "robot_arm", "blue_pattern"],
  "objects_from_instruction": ["red_object", "table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Checks if the red object is visible to the system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_object", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Performs a grid scanning pattern up to three times to detect the red object."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_object", "timeout_ms": 800},
      "description": "Detects and localizes the red object."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper to 6 cm width."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_object", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the gripper to 5 cm above the red object."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "red_object", "strategy": "top", "result_key": "std_top"},
      "description": "Computes a top-down grasp pose for the red object."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_object", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns with the object using precise tolerance."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "normal", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lowers until contact with normal speed and threshold."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes the gripper with 10 units of force."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Verifies red object is securely held in the gripper."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 2, "depth": 2},
  "failure_modes": [
    "Perception error: red object not visible.",
    "Approach misalignment.",
    "Contact not detected at correct depth.",
    "Gripper closure fails or grasps with insufficient force."
  ],
  "recovery_strategy": [
    "Retry scanning for perception up to three times.",
    "Re-attempt approach and alignment procedures.",
    "If contact missed, reset and lower again.",
    "Open and close gripper for re-grasp if stability check fails."
  ],
  "assumptions": [
    "Frame sequence shows the robot approaching and grasping the red object as per instruction.",
    "Contact sheet frames do not show any transfer or placement â€” stopping at pick only.",
    "Red object is a cylinder; table surface is clear.",
    "Task instruction and visual evidence are consistent."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object is in gripper at end of episode.",
      "No collision or lost contact during approach.",
      "Object is raised from table surface."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_object","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_object","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"normal","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}