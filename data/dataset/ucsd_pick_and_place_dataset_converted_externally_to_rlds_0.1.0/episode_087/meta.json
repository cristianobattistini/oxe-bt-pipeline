{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_087",
  "task_summary": "Pick up the red cylindrical object from the table using a robot arm; steps include perception, approach, grasp synthesis, controlled actuation, and verification.",
  "task_long_description": {
    "overview": "A robot arm must identify and pick up a red cylindrical object placed on a black tabletop marked with blue tape. The environment is structured, and the robot must perform a sequence of perception, approach, grasp planning, and execution steps. There is no explicit instruction to place the object elsewhere; the scope is only pickup. The sequence relies on visual feedback and physical contact to ensure robust grasping. Constraints include gentle force and spatial accuracy due to small object size.",
    "preconditions": [
      "Red cylinder is present and unobstructed on tabletop",
      "Robot arm and gripper are powered and calibrated",
      "Table area is free of clutter except blue markers"
    ],
    "stepwise_plan": [
      "Confirm red cylinder is visible",
      "If not visible, scan the table in a grid pattern (max 3 retries)",
      "Detect and localize the object",
      "Open gripper to appropriate width",
      "Move arm above the object's top (offset z = 0.05m)",
      "Compute grasp pose (top strategy)",
      "Approach and align with tight tolerance",
      "Lower until physical contact detected (gentle force)",
      "Close gripper with low force",
      "Verify if the object is now in the gripper"
    ],
    "success_criteria": [
      "Red cylinder is securely held in gripper",
      "No collision with environment or mis-grasps",
      "All sub-tasks completed without timeouts or errors"
    ],
    "failure_and_recovery": [
      "Object not visible: scan table again, up to 3 times",
      "Missed grasp: retry from approach stage",
      "Contact not detected: adjust lowering trajectory",
      "Gripper fails to close: re-open and retry"
    ],
    "termination": "Tree halts once object is detected as grasped by gripper."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_cylinder", "table", "blue_tape_markers"],
  "objects_from_instruction": ["red_object"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_cylinder"},
      "description": "Checks if red cylinder is visible in robot's camera frame."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_cylinder", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the table using grid pattern to locate the object; max 3 attempts."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_cylinder", "timeout_ms": 800},
      "description": "Final visual perception and localization of the red object."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens gripper to the optimal width for pickup."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_cylinder", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves arm above the object at a safe height."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "red_cylinder", "strategy": "top", "result_key": "std_top"},
      "description": "Calculates grasp pose from above using 'top' strategy."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_cylinder", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns with object, using tight tolerance."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lowers gripper until gentle contact detected."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 5, "timeout_ms": 800},
      "description": "Gently closes gripper to grasp object."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_cylinder"},
      "description": "Checks if the object is securely held in the gripper."
    }
  ],
  "tree_stats": {
    "nodes_total": 10,
    "actions": 8,
    "conditions": 2,
    "depth": 4
  },
  "failure_modes": [
    "Object occluded or out of view",
    "Scan fails to localize object",
    "Grasp planning fails",
    "Contact not detected on approach",
    "Gripper closure fails",
    "Object slips in gripper"
  ],
  "recovery_strategy": [
    "Retry scanning and perception if not found",
    "Re-compute grasp or widen gripper if planning fails",
    "Adjust lowering depth if no contact",
    "Open and close gripper with lower force if slip detected"
  ],
  "assumptions": [
    "Instruction requests pickup but does not specify placement; frames confirm only pickup of red cylinder",
    "Frames show robot approaching and grasping red cylinder, no evidence for placement",
    "Object name chosen as 'red_cylinder' from visual confirmation; not explicit in instruction",
    "Blue objects present but not relevant for this episode"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red cylinder is reliably grasped and lifted",
      "Gripper holds object without dropping or collision"
    ],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "red_cylinder"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "red_cylinder", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "red_cylinder", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "red_cylinder", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "ComputeGraspPose", "attrs": {"target": "red_cylinder", "strategy": "top", "result_key": "std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "red_cylinder", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id": "LowerUntilContact", "attrs": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id": "CloseGripper", "attrs": {"force": 5, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "red_cylinder"}},
      "active_path_ids": []
    }
  ]
}