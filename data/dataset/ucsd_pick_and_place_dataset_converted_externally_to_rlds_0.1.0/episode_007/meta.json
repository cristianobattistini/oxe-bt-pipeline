{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_007",
  "task_summary": "Robot arm picks up the red object from the table using a grasp-and-lift primitive.",
  "task_long_description": {
    "overview": "This episode depicts a robot arm tasked with picking up a single red object from a blue-marked spot on a table. The robot perceives, approaches, aligns, makes contact, grasps, verifies, and finally lifts the object. The main constraint is to ensure a stable grasp; precise vertical alignment is required. The table and object are well-separated, and the robot starts with the gripper open and above the workspace.",
    "preconditions": [
      "The red object is located on the table within reachable workspace.",
      "Robot is at the home position with an open gripper.",
      "No obstructions between the gripper and the red object."
    ],
    "stepwise_plan": [
      "Check red object visibility; retry scan if not visible.",
      "Detect and localize red object.",
      "Open the gripper to pre-grasp width.",
      "Move above the red object at a safe offset.",
      "Approach and align precisely over the red object.",
      "Lower until gentle contact with object or table is detected.",
      "Close gripper with sufficient force to secure object.",
      "Verify stable grasp.",
      "Lift object vertically off the table."
    ],
    "success_criteria": [
      "Red object is securely held by the gripper.",
      "Object has been lifted clear of the table with no visible slip.",
      "Grasp is stable post-lift (no drop)."
    ],
    "failure_and_recovery": [
      "Object not visible: rescan area (up to 3 attempts).",
      "Grasp unstable: do not proceed with lift; abort.",
      "No contact detected: abort after timeout."
    ],
    "termination": "Episode ends after successful lift and verification or on unrecoverable failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_object","table"],
  "objects_from_instruction": ["red object","table"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"red_object"},
      "description": "Checks whether the red object is currently visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"red_object", "pattern":"grid", "max_attempts":3, "timeout_ms":1200},
      "description": "Scans for the red object using grid pattern, up to 3 times."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"red_object", "timeout_ms":800},
      "description": "Localizes the red object precisely in the workspace."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06, "timeout_ms":500},
      "description": "Opens the gripper to pre-grasp aperture."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"red_object", "offset_z":0.05, "timeout_ms":1500},
      "description": "Moves to a position above the red object by 5 cm."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"red_object", "tolerance":0.005, "timeout_ms":1500},
      "description": "Aligns the gripper precisely over the red object."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed":"slow", "max_depth":0.05, "force_threshold":5, "timeout_ms":1200},
      "description": "Lowers gripper until contact detected or depth limit reached."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force":10, "timeout_ms":800},
      "description": "Closes the gripper with minimal allowed force to grasp the object."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks if the object is stably held after grasping."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"distance":0.05, "timeout_ms":800},
      "description": "Lifts the grasped object 5cm above the table."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Red object not visible in initial observation.",
    "Failed to detect object after retries.",
    "Contact with table/object not detected in lowering phase.",
    "Unstable or failed grasp.",
    "Mechanical or perception failure mid-sequence."
  ],
  "recovery_strategy": [
    "Rescan area for object up to 3 times if not visible.",
    "Abort or retry grasp if stability test fails.",
    "Abort episode if all recovery attempts exhausted."
  ],
  "assumptions": [
    "Red object in frames corresponds to instruction intent; visual match confirmed.",
    "No placement action is performed (instruction says 'pick up', not 'place').",
    "All actions stay within allowed workspace and motion limits per images.",
    "No conflicts between instruction and visual sequence detected."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object leaves table and remains in gripper after execution.",
      "No visible slip or drop after lift.",
      "Grasp is stable."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible", "attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget", "attrs":{"target":"red_object", "pattern":"grid", "max_attempts":3, "timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject", "attrs":{"target":"red_object", "timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper", "attrs":{"width":0.06, "timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove", "attrs":{"target":"red_object", "offset_z":0.05, "timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign", "attrs":{"target":"red_object", "tolerance":0.005, "timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact", "attrs":{"speed":"slow", "max_depth":0.05, "force_threshold":5, "timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper", "attrs":{"force":10, "timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld", "attrs":{"distance":0.05, "timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}