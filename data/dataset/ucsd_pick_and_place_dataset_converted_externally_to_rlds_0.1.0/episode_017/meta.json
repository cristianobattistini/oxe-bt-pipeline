{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_017",
  "task_summary": "Robot locates, approaches, grasps, and lifts the red cylinder object from the table, following a structured perception-to-retreat plan.",
  "task_long_description": {
    "overview": "This episode involves a robot arm tasked with picking up a red cylinder from a flat table marked with blue fiducials. The robot sequentially perceives the object, opens its gripper, moves above and aligns, then grasps and lifts the object. Visual feedback and retries are used to ensure object detection and a stable grasp. The goal is to safely remove the red object from the table surface.",
    "preconditions": [
      "Red cylinder is on the table surface.",
      "Table workspace is clear of other obstructions near the goal.",
      "Robot gripper is unoccupied at start."
    ],
    "stepwise_plan": [
      "Check if the red cylinder is visible.",
      "Scan for the red cylinder if not visible, up to 3 attempts.",
      "Detect the red cylinder precisely.",
      "Open the gripper to ready width.",
      "Move above the red cylinder with safe vertical offset.",
      "Approach and align to the red cylinder for grasp.",
      "Close the gripper with 10N force to grasp object.",
      "Verify the red cylinder is now in the gripper.",
      "Retreat vertically after grasping."
    ],
    "success_criteria": [
      "Red cylinder is firmly grasped by the gripper.",
      "Red cylinder is lifted off the table without dropping.",
      "No collisions with other objects."
    ],
    "failure_and_recovery": [
      "Failure to detect object: retry scan up to 3 times.",
      "Grasp not stable/object not picked: task fails, require human intervention.",
      "Collision or misalignment: task aborts; log incident."
    ],
    "termination": "Task ends after object is lifted and gripper retreats with red cylinder."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["red_cylinder","table"],
  "objects_from_instruction": ["red object","table"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"red_cylinder"},
      "description":"Checks if the red cylinder is currently detectable by sensors."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"red_cylinder","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description":"Active scanning of the scene for the red cylinder, grid pattern, up to 3 attempts."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"red_cylinder","timeout_ms":800},
      "description":"Refines detection of the red cylinder to localize its pose."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens gripper to 6cm in preparation for grasp."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"red_cylinder","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves gripper above the red cylinder at 5cm height."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"red_cylinder","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches and aligns for grasp with 5mm precision."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":10,"timeout_ms":800},
      "description":"Closes gripper with 10N force to secure the red cylinder."
    },
    {
      "id":"ObjectInGripper",
      "type":"Condition",
      "ports":{"target":"red_cylinder"},
      "description":"Verifies red cylinder is grasped by the gripper."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.1,"timeout_ms":1200},
      "description":"Lifts object up (10cm) to clear the table."
    }
  ],
  "tree_stats": {
    "nodes_total": 11,
    "actions": 6,
    "conditions": 3,
    "depth": 4
  },
  "failure_modes": [
    "Object not visible or occluded",
    "Scan fails - object not found after 3 attempts",
    "Gripper fails to close or jams",
    "Object not securely grasped",
    "Collision with table or environment during motion"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times if red cylinder is not visible",
    "Abort and report if object not in gripper after grasp",
    "Abort on hardware fault or unexpected collision"
  ],
  "assumptions": [
    "Frames show a distinct red cylinder as the only red object; mapped as target.",
    "Table marker patterns (blue squares) are not objects of interest.",
    "No intermediate place step is present or visible; only pick/lift.",
    "Instruction and frames are consistentâ€”no significant conflicts."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red cylinder is no longer on table surface after sequence.",
      "Cylinder is visible in gripper after retreat."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id":"IsObjectVisible",
        "attrs":{"target":"red_cylinder"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id":"ScanForTarget",
        "attrs":{"target":"red_cylinder","pattern":"grid","max_attempts":3,"timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id":"DetectObject",
        "attrs":{"target":"red_cylinder","timeout_ms":800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id":"OpenGripper",
        "attrs":{"width":0.06,"timeout_ms":500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id":"MoveAbove",
        "attrs":{"target":"red_cylinder","offset_z":0.05,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id":"ApproachAndAlign",
        "attrs":{"target":"red_cylinder","tolerance":0.005,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id":"CloseGripper",
        "attrs":{"force":10,"timeout_ms":800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id":"ObjectInGripper",
        "attrs":{"target":"red_cylinder"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id":"Retreat",
        "attrs":{"distance":0.1,"timeout_ms":1200}
      },
      "active_path_ids": []
    }
  ]
}