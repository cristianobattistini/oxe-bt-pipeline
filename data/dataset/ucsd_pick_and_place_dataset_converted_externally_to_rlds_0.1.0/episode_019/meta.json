{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_019",
  "task_summary": "Pick up the red object (block) from the table using a robotic manipulator, as observed across the 9 contact-sheet frames.",
  "task_long_description": {
    "overview": "This task involves a robot arm picking up a red block from a table. The workspace includes various blue fiducial markers and at least one red object resting on the surface. The robot must locate the red block, approach it, grasp it from the top, lift it clear of the table, and verify a successful, stable grasp. The task unfolds through distinct perceive, approach, verify, grasp, and lift phases, as evidenced by the frame sequence.",
    "preconditions": [
      "Red block is present and rests on the table.",
      "Robot gripper is unoccupied and operational.",
      "Workspace is unobstructed, allowing safe approach."
    ],
    "stepwise_plan": [
      "Check visibility of the red block; scan if not visible.",
      "Detect and localize the red block precisely.",
      "Open gripper to appropriate width.",
      "Move the end-effector above the red block.",
      "Compute top grasp pose and approach with tight alignment.",
      "Lower until gentle contact and close gripper with minimal force.",
      "Verify grasp stability and ensure the object is in gripper.",
      "Raise the object clear from the table."
    ],
    "success_criteria": [
      "Red block is securely held in the gripper.",
      "Block is fully elevated off the table surface."
    ],
    "failure_and_recovery": [
      "If object not detected, retry scan (up to 3 times).",
      "If grasp is unstable/failed (object not in gripper), abort or retry.",
      "If obstacle encountered during approach, recover by re-planning."
    ],
    "termination": "Tree terminates when the red block is lifted from the table and grasp is stable."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper lowering towards block, contact imminent.",
        "predicts_next": "Closing gripper and lift expected.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_block", "robot_gripper", "table"],
  "objects_from_instruction": ["red object"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_block"},
      "description": "Returns true if the red block is detected in the workspace."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_block", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1000},
      "description": "Scans workspace in a grid pattern to find the red block if not initially visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_block", "timeout_ms": 800},
      "description": "Performs object detection to precisely localize the red block."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 800},
      "description": "Opens gripper to 0.06m to allow approaching the block."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_block", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves end-effector above red block, offset 5cm in z."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "red_block", "strategy": "top", "result_key": "std_top"},
      "description": "Computes a top-down grasp pose for the red block."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_block", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns end-effector over block with tight tolerance."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "normal", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lowers gripper until contact is detected with 5N force threshold or 5cm depth."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes gripper around block using 10N force."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks if grasp on block is stable."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_block"},
      "description": "Verifies red block is held in gripper."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1000},
      "description": "Lifts the block 10cm above the table surface."
    }
  ],
  "tree_stats": {
    "nodes_total": 13,
    "actions": 9,
    "conditions": 4,
    "depth": 3
  },
  "failure_modes": [
    "Red block not detected",
    "Gripper fails to grasp (block slips/out of reach)",
    "Contact not established with table",
    "Object not in gripper after closure"
  ],
  "recovery_strategy": [
    "Retry scanning for block up to three times",
    "Abort if grasp stability cannot be verified"
  ],
  "assumptions": [
    "Mapped 'red object' in instruction to 'red_block' visible in all frames.",
    "No placement action observed in frames; placing not part of this subtask.",
    "Instruction requests a pick, not a relocation or place; the BT terminates after lifting."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red block lifted off table and retained in gripper after the final frame."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_block","pattern":"grid","max_attempts":3,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_block","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_block","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_block","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"normal","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld","attrs":{"distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    }
  ]
}