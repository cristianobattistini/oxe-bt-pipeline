{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_096",
  "task_summary": "Pick up the red object from the table using the robot arm, monitored over 9 sequential contact-sheet frames.",
  "task_long_description": {
    "overview": "The episode depicts a robot arm tasked with picking up a small red block-shaped object from a black-surfaced table. The robot visually locates the red object, opens its gripper, aligns and approaches from above, computes the top grasp pose, grasps the object, verifies it is held, and retreats slightly to complete the pickup. There are no other distractor objects, but a blue area on the table is visible, possibly a landmark or unrelated item. The object must be removed cleanly, without collision.",
    "preconditions": [
      "Red object is present and unobstructed on the table",
      "Robot arm is positioned away from the object at episode start",
      "Gripper initially open"
    ],
    "stepwise_plan": [
      "Check for visibility of the red object and rescan if missing",
      "Detect and localize the red object",
      "Open the gripper to specified width",
      "Move above the red object with a safe Z offset",
      "Approach and align over the object (precise positioning)",
      "Compute top-down grasp pose for the red object",
      "Move to computed grasp pose and close gripper",
      "Verify object is held",
      "Retract slightly to complete grasp"
    ],
    "success_criteria": [
      "Red object is securely in the gripper by final frame",
      "No collision with blue table landmark or failures"
    ],
    "failure_and_recovery": [
      "If red object not visible: retry scan up to 3 times",
      "If grasp fails: episode terminates with failure (no regrasp implemented)"
    ],
    "termination": "Task ends after successful grasp and retreat, or non-recoverable failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["red_object","table","blue_area"],
  "objects_from_instruction": ["red_object","table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"red_object"},
      "description":"Checks if the red object is visible to the system"
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"red_object","pattern":"raster","max_attempts":3,"timeout_ms":1000},
      "description":"Scans workspace for the red object using raster pattern; up to 3 attempts"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"red_object","timeout_ms":800},
      "description":"Runs detection/localization of the red object"
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens gripper to accept the red object"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"red_object","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves above the red object (5cm offset in Z)"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"red_object","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches with precise alignment (tolerance 5mm)"
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"red_object","strategy":"top","result_key":"std_top"},
      "description":"Computes grasp pose for top-down grasp; stores in 'std_top'"
    },
    {
      "id":"GraspAtPose",
      "type":"Action",
      "ports":{"pose_key":"std_top","strategy":"top","timeout_ms":1000},
      "description":"Executes close gripper at computed pose"
    },
    {
      "id":"ObjectInGripper",
      "type":"Condition",
      "ports":{"target":"red_object"},
      "description":"Checks if the red object is now held by the gripper"
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.05,"timeout_ms":800},
      "description":"Moves the gripper and red object 5cm upward/backward to clear area"
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Red object out of field of view",
    "Detection fails or noise causes misidentification",
    "Gripper fails to close or slips",
    "Robot collides with table or other object",
    "Grasp pose invalid or unreachable"
  ],
  "recovery_strategy": [
    "Rescan up to 3 times if object not visible",
    "Abort if after 3 scans object not found",
    "No retry for failed grasp (single attempt in this episode's span)"
  ],
  "assumptions": [
    "Red object corresponds to the only red block present in all frames and matches the instruction.",
    "No other target objects on table; the blue structure is not the subject for pickup.",
    "No place phase is visible in the given frames; task is strictly pick-up.",
    "No force or speed constraints are specified; default bins are used.",
    "Frame phases inferred based on gripper/object pose sequence, not on explicit cues."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object is grasped and lifted from table by episode end",
      "Robot arm does not make unintended contact with other items"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_object","pattern":"raster","max_attempts":3,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_object","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"red_object"}},
      "active_path_ids": []
    }
  ]
}