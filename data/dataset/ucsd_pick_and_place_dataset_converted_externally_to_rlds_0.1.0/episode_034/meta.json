{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_034",
  "task_summary": "The robot arm is tasked to pick up the red object from the table using top grasping. The behavior tree controls sequential perception, approach, grasp, and lift, as evidenced in the 9 contact-sheet frames.",
  "task_long_description": {
    "overview": "This episode shows a robot arm performing a sequential pick-up of a red cylindrical object from a black table. The task comprises perception to locate the object, gripper preparation, approaching from above, precise alignment, top grasp computation, and secure grasp execution. No placement actions are observableâ€”focus remains on detaching and lifting the red object from the table. Frame sequence confirms object presence, robotic arm closure over the red object, and successful elevation post-grasp. The scene includes blue reference markers and a single main object; no containers or transfer actions are present.",
    "preconditions": [
      "Red object is present on the table.",
      "Robot arm is initialized and within reach.",
      "Gripper is unobstructed.",
      "Object is visually distinguishable."
    ],
    "stepwise_plan": [
      "Check if the red object is visible; if not, detect it.",
      "Open the gripper to appropriate width.",
      "Move above the red object with safe offset.",
      "Approach and align with high spatial precision.",
      "Compute a top grasp pose.",
      "Perform grasp at computed pose.",
      "Verify red object is held in gripper.",
      "Retreat with object."
    ],
    "success_criteria": [
      "Red object is securely held by gripper.",
      "Object is visibly lifted off the table.",
      "No collision with adjacent items.",
      "Robot completes the retreat motion."
    ],
    "failure_and_recovery": [
      "Object not detected: retry perception.",
      "Grasp unsuccessful: recompute grasp pose and retry.",
      "Object slips: reattempt grasp.",
      "Mechanical or localization error: abort and log."
    ],
    "termination": "Robot successfully retreats with red object held in gripper or encounters unrecoverable failure."
  },
  "frame_ranking": {
    "order": [
      "frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0", "frame_1", "frame_2", "frame_3", "frame_4", "frame_5", "frame_6", "frame_7", "frame_8"
  ],
  "objects": [
    "red_object", "table", "blue_marker"
  ],
  "objects_from_instruction": [
    "red_object"
  ],
  "blackboard_keys": [
    "std_top"
  ],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "red_object" },
      "description": "Checks if red object is visible before proceeding."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "red_object", "timeout_ms": 800 },
      "description": "Actively detects the red object on the table."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": { "width": 0.06, "timeout_ms": 500 },
      "description": "Opens gripper to 6cm (suitable for red object)."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": { "target": "red_object", "offset_z": 0.05, "timeout_ms": 1500 },
      "description": "Moves the arm above the red object with a 5cm vertical offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": { "target": "red_object", "tolerance": 0.005, "timeout_ms": 1500 },
      "description": "Approaches and aligns with high precision."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": { "target": "red_object", "strategy": "top", "result_key": "std_top" },
      "description": "Computes the grasp pose for top grasp."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": { "pose_key": "std_top", "strategy": "top", "timeout_ms": 1000 },
      "description": "Executes a grasp at the computed pose."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": { "target": "red_object" },
      "description": "Confirms the red object is held."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": { "distance": 0.10, "timeout_ms": 1200 },
      "description": "Retreats with held object."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 7,
    "conditions": 2,
    "depth": 2
  },
  "failure_modes": [
    "Red object missing or undetectable",
    "Grasp slip/failure",
    "Alignment error",
    "Mechanical fault"
  ],
  "recovery_strategy": [
    "Retry perception and detection",
    "Recompute grasp pose and retry",
    "Abort on persistent error"
  ],
  "assumptions": [
    "Instruction mentions pick-and-place, but frames show only pick-up; no placement phase visible. BT does not include placement, in alignment with frame evidence.",
    "Object size estimated from gripper aperture in images; grasp width set to 0.06 as closest bin.",
    "Blue markers are not manipulated.",
    "The table is static and used only as a support surface; no area_id needed."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object removed from table and held in gripper at episode end."
    ],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": { "id": "IsObjectVisible", "attrs": { "target": "red_object" } },
      "active_path_ids": ["Sequence", "Fallback", "IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": { "id": "DetectObject", "attrs": { "target": "red_object", "timeout_ms": 800 } },
      "active_path_ids": ["Sequence", "Fallback", "DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": { "id": "OpenGripper", "attrs": { "width": 0.06, "timeout_ms": 500 } },
      "active_path_ids": ["Sequence", "OpenGripper"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": { "id": "MoveAbove", "attrs": { "target": "red_object", "offset_z": 0.05, "timeout_ms": 1500 } },
      "active_path_ids": ["Sequence", "MoveAbove"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": { "id": "ApproachAndAlign", "attrs": { "target": "red_object", "tolerance": 0.005, "timeout_ms": 1500 } },
      "active_path_ids": ["Sequence", "ApproachAndAlign"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": { "id": "ComputeGraspPose", "attrs": { "target": "red_object", "strategy": "top", "result_key": "std_top" } },
      "active_path_ids": ["Sequence", "ComputeGraspPose"]
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": { "id": "GraspAtPose", "attrs": { "pose_key": "std_top", "strategy": "top", "timeout_ms": 1000 } },
      "active_path_ids": ["Sequence", "GraspAtPose"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": { "id": "ObjectInGripper", "attrs": { "target": "red_object" } },
      "active_path_ids": ["Sequence", "ObjectInGripper"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": { "id": "Retreat", "attrs": { "distance": 0.10, "timeout_ms": 1200 } },
      "active_path_ids": ["Sequence", "Retreat"]
    }
  ]
}