{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_078",
  "task_summary": "Robot arm locates, grasps, and lifts a red block from a table, using visual perception and coordinated manipulation steps.",
  "task_long_description": {
    "overview": "The scenario involves a robotic arm operating on a black table with colored tape markers and a distinctive red block as the target object. The robot must perceive the block, approach closely, execute a precisely aligned grasp, and safely lift and retreat, demonstrating basic pick-up capabilities. Visual re-acquisition and attempts to recover from occlusion or perception errors are integrated. The scene is free from major obstructions, supporting straightforward execution.",
    "preconditions": [
      "Red block is present and accessible on the table surface.",
      "Robot gripper is functional and open at start.",
      "Workspace is clear; perceptual cues (tape markers) visible."
    ],
    "stepwise_plan": [
      "Check if red block is visible; scan grid pattern if not.",
      "Detect target object (red block).",
      "Open gripper to a suitable width.",
      "Move above the block with a safe vertical offset.",
      "Approach and finely align to block position.",
      "Close gripper with moderate force to grasp block.",
      "Verify block is held in the gripper.",
      "Retreat with the block lifted off the table surface."
    ],
    "success_criteria": [
      "Red block is securely held in gripper.",
      "Block is lifted clear of table surface.",
      "No collision with other objects during execution."
    ],
    "failure_and_recovery": [
      "Failure: Block not visible. Recovery: Re-scan grid up to 3 times.",
      "Failure: Grasp unsuccessful. Recovery: Return gripper to open and retry approach.",
      "Failure: Object slips after lift. Recovery: Abort and place arm at safe position."
    ],
    "termination": "Task terminates when the red block is detected in the gripper and robot retreats from workspace."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_block", "blue_tape", "table"],
  "objects_from_instruction": ["red_block"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_block"},
      "description": "Checks if the red block can be perceived by vision system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_block", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the workspace using a grid pattern up to 3 times to find the red block."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_block", "timeout_ms": 800},
      "description": "Detects and localizes the red block on the table."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens gripper to 6 cm width, suitable for picking up the block."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_block", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves end effector directly above the block, maintaining a 5 cm vertical offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_block", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns to the block with 5 mm precision."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes gripper with 10N force to grasp the block."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_block"},
      "description": "Confirms that the red block is currently held by the gripper."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves the gripper away from the workspace, lifting the block."
    }
  ],
  "tree_stats": {
    "nodes_total": 11,
    "actions": 7,
    "conditions": 2,
    "depth": 4
  },
  "failure_modes": [
    "Red block not visible due to occlusion.",
    "Detection or segmentation error.",
    "Grasp misalignment or slippage.",
    "Block contact not registered.",
    "Retreat path blocked."
  ],
  "recovery_strategy": [
    "Re-scan up to 3 times if block not perceived.",
    "If grasp fails, open gripper and repeat approach.",
    "Move to safe position on persistent errors."
  ],
  "assumptions": [
    "Frames show a pick-and-lift only; no subsequent place phase.",
    "Red block is unambiguously the object referenced by the instruction.",
    "No end placement or transfer, despite potential ambiguity in 'pick up' wording.",
    "Timeout, approach tolerance, grid scan pattern are mapped from standard protocol.",
    "Frame evidence strictly guides phase definition and leaf selection."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Block is removed from table and held.",
      "No collision or loss during lift."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "red_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "red_block", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.06, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "red_block", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "red_block", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "CloseGripper", "attrs": {"force": 10, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "red_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}