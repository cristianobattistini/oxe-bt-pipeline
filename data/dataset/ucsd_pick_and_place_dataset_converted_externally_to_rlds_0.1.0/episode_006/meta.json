{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_006",
  "task_summary": "Pick up the red object from the table using a robot arm by perceiving, approaching, aligning, and grasping.",
  "task_long_description": {
    "overview": "This episode shows a robot arm tasked to pick up a small red cylindrical object from a black table surrounded by blue markers and a blue card. The robot first searches and verifies the presence of the object. It then opens its gripper, approaches precisely above the red object, computes the best grasp position, aligns, and grasps from the top. After grasping, it verifies that the object is in the gripper. No place or transfer occurs, as confirmed by the frames.",
    "preconditions": [
      "Red object is on the table and visible.",
      "Robot gripper is empty and at a safe home position.",
      "Scene is clear of obstructions."
    ],
    "stepwise_plan": [
      "Visually locate the red object with fallback search.",
      "Open the gripper to an appropriate width.",
      "Move above the red object with a controlled offset.",
      "Align the gripper with the object precisely.",
      "Compute the top grasp pose for the red object.",
      "Execute the grasp motion at the computed pose.",
      "Confirm the red object is held by the gripper."
    ],
    "success_criteria": [
      "Red object is securely in the robot's gripper.",
      "No unintended displacement of other objects.",
      "No collision events."
    ],
    "failure_and_recovery": [
      "Object not detected: retry search up to 3 times.",
      "Grasp not detected: abort or retry after repositioning.",
      "Collision encountered: stop and retract."
    ],
    "termination": "Episode ends once the red object is confirmed inside the gripper or on failed perception attempts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first close alignment above object; pre-grasp configuration aligns with gripper over red object",
        "predicts_next": "ready to execute grasp motion",
        "uncertainty_reduction": "high â€“ alignment prior to grasp"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_object","table","blue_card","blue_markers"],
  "objects_from_instruction": ["red object","table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Checks if the red object is visible to the robot's sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_object", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1000},
      "description": "Performs a grid scan to find the red object if not immediately visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_object", "timeout_ms": 800},
      "description": "Runs object detection for the red object with a moderate timeout."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper to 0.06m, suitable for picking up the cylinder."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_object", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves gripper above the red object with a 0.05m vertical offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_object", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns carefully to the red object (tightest allowed tolerance)."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "red_object", "strategy": "top", "result_key": "std_top"},
      "description": "Computes a top-down grasp pose for the red object and stores it as 'std_top'."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "std_top", "strategy": "top", "timeout_ms": 1500},
      "description": "Executes the grasp at the computed pose using top strategy."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Confirms that the red object has been successfully grasped and is in the gripper."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Red object not visible",
    "Failed to grasp due to misalignment",
    "Gripper does not close on object",
    "Object slips after grasp"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget up to 3 times on perception failure",
    "Abort or reposition on grasp/align failure"
  ],
  "assumptions": [
    "The instruction requests a pick up and no place; this is confirmed: no frames show transfer or placement. If the red object is not visible or absent, the BT retries detection. Frame evidence does not show post-grasp transfer/placement."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object is inside the robot's gripper at the sequence end"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "red_object"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "red_object", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "red_object", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.06, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "red_object", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "red_object", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {"target": "red_object", "strategy": "top", "result_key": "std_top"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {"pose_key": "std_top", "strategy": "top", "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": {"target": "red_object"}
      },
      "active_path_ids": []
    }
  ]
}