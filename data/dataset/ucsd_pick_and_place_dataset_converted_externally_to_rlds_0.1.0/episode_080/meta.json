{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_080",
  "task_summary": "Pick up the red object from the table using the robot arm. The BT covers perception, approach, grasp planning, execution, verification, and lift.",
  "task_long_description": {
    "overview": "A robot arm is tasked to pick up a cylindrical red object placed on a flat black table. The scene contains the arm, the red object, and a blue object. The BT manages visual detection of the red object, prepares the gripper, approaches from above, aligns, computes and executes a top grasp, verifies possession, and lifts the object. The process emphasizes sequential reliability using fallback and retry for perception.",
    "preconditions": [
      "Robot arm is initialized and ready.",
      "Red object present and unobstructed on table.",
      "Gripper is operational.",
      "Workspace is clear of major obstructions."
    ],
    "stepwise_plan": [
      "Check visibility of red object; scan if needed.",
      "Detect the red object with vision.",
      "Open the gripper to proper width.",
      "Move the gripper above the red object.",
      "Approach and align to grasp pose with low tolerance.",
      "Compute top grasp pose for the red object.",
      "Execute grasp at computed pose.",
      "Verify the red object is securely in the gripper.",
      "Raise the held object vertically above the table."
    ],
    "success_criteria": [
      "Red object detected and grasp planned.",
      "Gripper closes on red object and secures it.",
      "Object is verified as held and lifted off table."
    ],
    "failure_and_recovery": [
      "Perception failure: fallback to scanning.",
      "Grasp failure: could retry sequence.",
      "Object slips: reattempt approach/grasp after verification."
    ],
    "termination": "Tree ends when the red object is correctly lifted and detected in the gripper."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_object", "table", "blue_object", "robot_gripper"],
  "objects_from_instruction": ["red_object", "table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"red_object"},"description":"Checks if red object is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_object","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Scans workspace to locate red object with grid pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_object","timeout_ms":800},"description":"Detects red object using vision."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper to suitable width."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_object","offset_z":0.05,"timeout_ms":800},"description":"Moves gripper above red object."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_object","tolerance":0.005,"timeout_ms":800},"description":"Approaches and aligns to red object with tight tolerance."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"red_object","strategy":"top","result_key":"std_top"},"description":"Computes top grasp pose."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"std_top","strategy":"top","timeout_ms":800},"description":"Executes grasp at computed top pose."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"red_object"},"description":"Checks object is held in gripper."},
    {"id":"RaiseHeld","type":"Action","ports":{"target":"red_object","distance":0.05,"timeout_ms":800},"description":"Lifts held object off table."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 3, "depth": 2},
  "failure_modes": [
    "Red object not visible; perception fails.",
    "Gripper fails to open or align.",
    "Grasp execution does not secure object.",
    "Object slips while raising."
  ],
  "recovery_strategy": [
    "Fallback scanning for perception.",
    "Retry align and grasp after failure.",
    "Check gripper; reattempt if object not held."
  ],
  "assumptions": [
    "Red object is the cylinder at front right of workspace based on frames.",
    "Instruction matches frames; no major conflicts.",
    "No explicit force/velocity request in instruction, so defaults used.",
    "Frames show no other pickable objects in sequence.",
    "No 'place' requested in instruction or shown in frames; tree ends at lift."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object is detected and held in gripper, and is raised above table surface."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": ["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_object","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Fallback","RetryUntilSuccessful","ScanForTarget"]
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": ["Sequence","OpenGripper"]
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":800}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.005,"timeout_ms":800}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_object","strategy":"top","result_key":"std_top"}},
      "active_path_ids": ["Sequence","ComputeGraspPose"]
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":800}},
      "active_path_ids": ["Sequence","GraspAtPose"]
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld","attrs":{"target":"red_object","distance":0.05,"timeout_ms":800}},
      "active_path_ids": ["Sequence","RaiseHeld"]
    }
  ]
}