{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_070",
  "task_summary": "Pick up the red object from the table using a robot arm, based on the observed process in 9 frames.",
  "task_long_description": {
    "overview": "A robotic arm is tasked to locate, approach, grasp, and lift a small red object (cylindrical block) from a black tabletop workspace identified by markers. The robot observes, localizes, and confirms the red object, opens its gripper, approaches from above, aligns, lowers until contact, and closes the gripper to securely grasp the object before retreating. The setup takes place on a cleared table with blue fixtures. Main constraints include object visibility and stable grasp.",
    "preconditions": [
      "Red object is placed on the table",
      "Tabletop is clear except for blue markers",
      "Robot arm is initialized and homed",
      "Gripper is empty/open"
    ],
    "stepwise_plan": [
      "Ensure red object is visible; scan if not",
      "Detect and confirm red object location",
      "Open gripper to appropriate width",
      "Move above object at safe offset",
      "Align with precise tolerance",
      "Lower until gentle contact with table or object",
      "Close gripper gently to grasp the object",
      "Verify grasp stability",
      "Lift/retreat the object from the table"
    ],
    "success_criteria": [
      "Red object is securely held in gripper",
      "Object is lifted clear off the table",
      "No collision with table or environment"
    ],
    "failure_and_recovery": [
      "If object not visible, perform scan sequence",
      "If grasp fails or is unstable, attempt re-grasp",
      "If contact not detected, retry lowering or alignment"
    ],
    "termination": "Tree completes after object is grasped and lifted from the table surface."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_object", "table"],
  "objects_from_instruction": ["red object", "table"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"red_object"},
      "description":"Checks if the red object is visible in the camera/view."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"red_object", "pattern":"grid", "max_attempts":3, "timeout_ms":1200},
      "description":"Scans for the red object using a grid pattern if not initially visible."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"red_object","timeout_ms":800},
      "description":"Detects the red object and refines its pose estimate."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens the gripper to 0.06m, ready for grasping."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"red_object","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves end-effector to 5cm above the red object."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"red_object","tolerance":0.005,"timeout_ms":1500},
      "description":"Aligns the end-effector with the red object with 5mm tolerance."
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},
      "description":"Lowers gripper at slow speed until 5N contact or max 5cm depth."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":5,"timeout_ms":800},
      "description":"Closes gripper with 5N force to grasp the red object."
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Checks if the grasp on the red object is stable."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":1200},
      "description":"Retreats/raises gripper with object by 10cm."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 8,
    "conditions": 2,
    "depth": 4
  },
  "failure_modes": [
    "Red object not visible initially",
    "Perception error/false detection",
    "Failure to grasp (misalignment or slippage)",
    "Contact not detected (object too small/soft)"
  ],
  "recovery_strategy": [
    "Repeat scan if object missing",
    "Retry alignment/lowering if no contact",
    "Retry grasp if not stable"
  ],
  "assumptions": [
    "Red object is the only pick target present",
    "No major occlusions or objects interfering",
    "Instruction and frames are matched in terms of target (red cylindrical block), no evidence of place (only pick up executed in observed sequence)."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object securely in gripper and lifted off table"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame":"frame_0",
      "phase":"perceive",
      "active_leaf":{"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame":"frame_1",
      "phase":"perceive",
      "active_leaf":{"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame":"frame_2",
      "phase":"approach",
      "active_leaf":{"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame":"frame_3",
      "phase":"approach",
      "active_leaf":{"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame":"frame_4",
      "phase":"verify",
      "active_leaf":{"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame":"frame_5",
      "phase":"grasp",
      "active_leaf":{"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame":"frame_6",
      "phase":"grasp",
      "active_leaf":{"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame":"frame_7",
      "phase":"verify",
      "active_leaf":{"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame":"frame_8",
      "phase":"retreat",
      "active_leaf":{"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}