{
  "dataset_id": "dlr_sara_grid_clamp_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_079",
  "task_summary": "Pick (if needed), align, and place a grid clamp onto the grid board, then retreat.",
  "task_long_description": {
    "overview": "A 6-DoF robot arm with a parallel gripper must place a small black grid clamp onto a wooden grid board in a lab cell. The contact sheet shows the tool approaching the board, making contact, releasing, and retreating. The behavior ensures the clamp is in-hand (or performs a pickup), aligns to the grid, lowers until contact, presses with controlled force, opens the gripper, and retreats to a safe height. Precision alignment and gentle contact are emphasized to avoid shifting nearby clamps or scuffing the board.",
    "preconditions": [
      "Workcell powered and cleared",
      "Grid board visible to camera",
      "Clamp available on table or already in gripper",
      "Gripper calibrated and functional"
    ],
    "stepwise_plan": [
      "Verify clamp is already held or execute a top grasp",
      "Orient end-effector yaw to match grid orientation",
      "Perceive grid board and move above target cell",
      "Align precisely to the grid features",
      "Lower until contact and press with light force",
      "Open gripper to release clamp",
      "Retreat to a safe distance and pause briefly"
    ],
    "success_criteria": [
      "Clamp lies flat in intended grid cell",
      "No slip during release",
      "Robot retreats without contacting surrounding objects"
    ],
    "failure_and_recovery": [
      "If perception fails, rescan with grid pattern",
      "If grasp unstable, regrasp with top strategy",
      "If contact not detected within depth limit, re-approach and realign"
    ],
    "termination": "Tree succeeds after release and short wait following a safe retreat."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place grid clamp",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "robot arm",
    "parallel gripper",
    "grid clamp",
    "grid board",
    "table surface",
    "SARA base",
    "monitor",
    "cable chain"
  ],
  "objects_from_instruction": [
    "grid clamp"
  ],
  "blackboard_keys": [
    "std_top"
  ],
  "node_specs": [
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {
        "target": "grid_clamp"
      },
      "description": "Checks whether the clamp is already held to skip the pick."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "pattern": "grid",
        "max_attempts": 3,
        "timeout_ms": 2000
      },
      "description": "Broad scan for the clamp using a grid-pattern sweep."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "timeout_ms": 1500
      },
      "description": "Localize the clamp precisely for grasp planning."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "offset_z": 0.05,
        "timeout_ms": 2000
      },
      "description": "Move to a safe pre-grasp height above the clamp."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.06,
        "timeout_ms": 500
      },
      "description": "Set opening to fit the clamp before grasp or for release."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "strategy": "top",
        "result_key": "std_top"
      },
      "description": "Compute a top-grasp pose and store to blackboard."
    },
    {
      "id": "Pick",
      "type": "Action",
      "ports": {
        "grasp_key": "std_top",
        "timeout_ms": 1500
      },
      "description": "Execute the grasp using the computed key."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Validate that the grasp is secure."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "distance": 0.1,
        "timeout_ms": 1000
      },
      "description": "Lift the grasped clamp to a transit height."
    },
    {
      "id": "SetTCPYaw",
      "type": "Action",
      "ports": {
        "yaw_deg": 90
      },
      "description": "Orient tool yaw to match grid alignment."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "grid_board",
        "pattern": "grid",
        "max_attempts": 3,
        "timeout_ms": 2000
      },
      "description": "Scan to find the grid board and target cell."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "grid_board",
        "timeout_ms": 1500
      },
      "description": "Detect and localize the grid board."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "grid_board",
        "offset_z": 0.05,
        "timeout_ms": 2000
      },
      "description": "Move to pre-place height above the grid cell."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "grid_board",
        "tolerance": 0.005,
        "timeout_ms": 2000
      },
      "description": "Refine alignment using grid features."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {
        "speed": "slow",
        "max_depth": 0.05,
        "force_threshold": 5,
        "timeout_ms": 1500
      },
      "description": "Lower gently until contact is detected."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "area_id": "board",
        "yaw_deg": 90,
        "press_force": 10,
        "timeout_ms": 1500
      },
      "description": "Place and press clamp onto the grid board."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.06,
        "timeout_ms": 500
      },
      "description": "Release the clamp."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {
        "distance": 0.1,
        "timeout_ms": 1000
      },
      "description": "Back away safely."
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {
        "timeout_ms": 500
      },
      "description": "Short pause to ensure stability after release."
    }
  ],
  "tree_stats": {
    "nodes_total": 22,
    "actions": 17,
    "conditions": 2,
    "depth": 4
  },
  "failure_modes": [
    "Clamp not detected",
    "Grasp slips during lift",
    "Misalignment with grid cell",
    "No contact detected within max depth",
    "Clamp sticks to fingers after opening"
  ],
  "recovery_strategy": [
    "Rescan with grid pattern and re-detect",
    "Regrasp using top strategy and verify stability",
    "Re-run alignment then lower again",
    "Abort lowering, re-approach from pre-place height",
    "Slightly increase press_force then open and micro-retreat"
  ],
  "assumptions": [
    "Frames show clamp already in gripper during approach and placement; the tree still includes a fallback pick if not in hand",
    "The target surface is a grid board; exact cell not specified by instruction"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Clamp placed flat inside the grid; gripper empty; robot at safe standoff"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "grid_board",
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "grid_board",
          "offset_z": 0.05,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "grid_board",
          "tolerance": 0.005,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "place",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 5,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {
          "target": "grid_clamp",
          "area_id": "board",
          "yaw_deg": 90,
          "press_force": 10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.06,
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Wait",
        "attrs": {
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    }
  ]
}