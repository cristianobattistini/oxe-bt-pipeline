{
  "dataset_id": "dlr_sara_grid_clamp_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_088",
  "task_summary": "Robot places a grid clamp precisely on the board fixture, following detection and alignment steps.",
  "task_long_description": {
    "overview": "A robotic manipulator equipped with a parallel gripper must place a small grid clamp onto a designated board fixture. The operation starts with verifying if the clamp is already held, otherwise the robot detects and grasps it. The arm then moves to the board area, aligns the clamp with the target fixture, lowers until gentle contact is detected, and places it accurately before releasing the clamp and retreating.",
    "preconditions": [
      "Robot initialized at safe pose",
      "Grid clamp accessible within workspace",
      "Board fixture visible",
      "Gripper operational"
    ],
    "stepwise_plan": [
      "Check if clamp is already grasped.",
      "If not, detect and grasp the grid clamp using top grasp.",
      "Raise the clamp to a safe height.",
      "Orient end-effector yaw to 90 degrees.",
      "Detect the grid fixture area.",
      "Move above fixture and align with tolerance 0.005.",
      "Lower until contact with gentle force threshold 5.",
      "Place clamp on board with press force 10.",
      "Release gripper and retreat to safe height."
    ],
    "success_criteria": [
      "Clamp rests stably on board fixture",
      "No slip or tilt observed post-release",
      "Contact detected within expected depth",
      "Gripper successfully opens without collision"
    ],
    "failure_and_recovery": [
      "Clamp not detected → retry detection up to 3 times",
      "Grasp unstable → reattempt grasp sequence",
      "Contact not detected → abort and retreat to safe pose"
    ],
    "termination": "Behavior terminates when clamp is placed and robot has retreated safely."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.8,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "press and release sequence follows",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place grid clamp",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "robot_arm",
    "grid_clamp",
    "board_fixture"
  ],
  "objects_from_instruction": [
    "grid_clamp"
  ],
  "blackboard_keys": [
    "std_top"
  ],
  "node_specs": [
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {
        "target": "grid_clamp"
      },
      "description": "Checks whether grid clamp is already held."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "pattern": "grid",
        "max_attempts": 3,
        "timeout_ms": 2000
      },
      "description": "Scans workspace for grid clamp using grid pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "timeout_ms": 1500
      },
      "description": "Detects clamp position for grasping."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "offset_z": 0.05,
        "timeout_ms": 2000
      },
      "description": "Moves above the detected clamp."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.06,
        "timeout_ms": 500
      },
      "description": "Opens gripper for grasping."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "strategy": "top",
        "result_key": "std_top"
      },
      "description": "Computes grasp pose using top strategy."
    },
    {
      "id": "Pick",
      "type": "Action",
      "ports": {
        "grasp_key": "std_top",
        "timeout_ms": 1500
      },
      "description": "Executes grasp of the clamp."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks grasp stability."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "distance": 0.1,
        "timeout_ms": 1000
      },
      "description": "Raises held clamp to safe height."
    },
    {
      "id": "SetTCPYaw",
      "type": "Action",
      "ports": {
        "yaw_deg": 90
      },
      "description": "Sets end-effector yaw orientation."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "pattern": "grid",
        "max_attempts": 3,
        "timeout_ms": 2000
      },
      "description": "Scans for grid fixture area on board."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "timeout_ms": 1500
      },
      "description": "Detects fixture pose for placement."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "offset_z": 0.05,
        "timeout_ms": 2000
      },
      "description": "Moves above fixture for alignment."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "grid_fixture",
        "tolerance": 0.005,
        "timeout_ms": 2000
      },
      "description": "Approaches and aligns with fixture."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {
        "speed": "slow",
        "max_depth": 0.05,
        "force_threshold": 5,
        "timeout_ms": 1500
      },
      "description": "Lowers clamp until contact detected."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {
        "target": "grid_clamp",
        "area_id": "board",
        "yaw_deg": 90,
        "press_force": 10,
        "timeout_ms": 1500
      },
      "description": "Places clamp on board surface with gentle press."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.06,
        "timeout_ms": 500
      },
      "description": "Releases the clamp."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {
        "distance": 0.1,
        "timeout_ms": 1000
      },
      "description": "Retracts to safe distance."
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {
        "timeout_ms": 500
      },
      "description": "Short stabilization wait after placement."
    }
  ],
  "tree_stats": {
    "nodes_total": 19,
    "actions": 15,
    "conditions": 2,
    "depth": 3
  },
  "failure_modes": [
    "Clamp not detected",
    "Grasp unstable",
    "Contact not achieved",
    "Placement misaligned"
  ],
  "recovery_strategy": [
    "Retry detection sequence",
    "Re-grasp with same pose",
    "Abort and reset to safe pose"
  ],
  "assumptions": [
    "Instruction and frames consistent; clamp already in grasp not visible but inferred from stable placement motion.",
    "Board fixture corresponds to the area directly below clamp path."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Clamp placed flush on board with no visible offset",
      "Gripper releases smoothly and retracts"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "grid_clamp",
          "offset_z": 0.05,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "verify",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "grid_clamp",
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {
        "id": "Pick",
        "attrs": {
          "grasp_key": "std_top",
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {
        "id": "RaiseHeld",
        "attrs": {
          "target": "grid_clamp",
          "distance": 0.1,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {
        "id": "SetTCPYaw",
        "attrs": {
          "yaw_deg": 90
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "grid_fixture",
          "tolerance": 0.005,
          "timeout_ms": 2000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 5,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {
          "target": "grid_clamp",
          "area_id": "board",
          "yaw_deg": 90,
          "press_force": 10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    }
  ]
}