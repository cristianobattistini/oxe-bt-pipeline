{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_073",
  "task_summary": "Detect and grasp the white plate, then transport and place it onto the red plate, finally retreating.",
  "task_long_description": {
    "overview": "A table-top xArm manipulator must pick up a white plate visible in the lower field of view, transport it, and place it onto a nearby red plate. The scene shows both plates on a green mat with the arm approaching from above. The behavior emphasizes reliable perception, a top grasp, cautious approach with tight alignment, and a controlled placement using a gentle touchdown before releasing. The gripper opens to the maximum allowed width to fit the plate rim, then verifies the grasp before moving over the red plate for placement and a safe retreat.",
    "preconditions": ["Robot powered and homed", "Workspace clear except for plates", "White plate and red plate present within reachable area", "Gripper functioning and calibrated"],
    "stepwise_plan": [
      "Search/confirm visibility of the white plate.",
      "Detect the white plate and compute a top grasp pose.",
      "Open gripper and align precisely over the plate.",
      "Execute pick and verify the object is in the gripper.",
      "Move to the red plate location.",
      "Lower until contact is detected on the red plate area.",
      "Open gripper to release the white plate onto the red plate.",
      "Retreat to a safe height."
    ],
    "success_criteria": ["White plate stably rests on top of the red plate", "No collisions with table or robot", "Gripper releases cleanly", "Robot ends in a safe pose"],
    "failure_and_recovery": [
      "Plate not detected: perform spiral scan and retry detection.",
      "Misalignment causes failed grasp: re-align and recompute grasp pose.",
      "Slip during transfer: re-grasp if ObjectInGripper fails.",
      "No contact during placement: extend approach or adjust touchdown."
    ],
    "termination": "Terminate after successful release on the red plate and retreat completed."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper close to the plate with clear approach vector; contact/grasp moment likely.",
        "predicts_next": "Transition to lift and transfer is expected immediately after grasp.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate", "red_plate", "robot_arm", "gripper", "table"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_plate"},"description":"Quick visibility gate before scanning."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Spiral search for the white plate if not immediately visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Run detector to localize the white plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Prepare gripper aperture for plate rim (also used to release)."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Compute a top-down grasp pose for the plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align tightly above the target before grasping."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute grasp using computed pose."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Verify successful grasp."},
    {"id":"MoveTo","type":"Action","ports":{"target":"red_plate","timeout_ms":1500},"description":"Transport the grasped plate above the red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Controlled descent to touch the red plate surface."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Release the white plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance after placement."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 10, "conditions": 2, "depth": 3},
  "failure_modes": [
    "White plate not detected due to glare or occlusion",
    "Insufficient gripper width causing failed grasp",
    "Object slips during transfer",
    "No contact detected during placement due to pose error"
  ],
  "recovery_strategy": [
    "Use ScanForTarget then re-run DetectObject",
    "Re-open gripper and recompute grasp pose",
    "If ObjectInGripper fails, reattempt Pick",
    "Repeat LowerUntilContact with extended depth, then place"
  ],
  "assumptions": [
    "Frames suggest the white plate is grasped and moved toward the red plate; final stable placement is not perfectly visible in the last frames, assumed successful based on trajectory.",
    "Red plate position is approximately fixed and reachable."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Plate centered on red plate with no slip", "Robot retreats safely"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"red_plate","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
