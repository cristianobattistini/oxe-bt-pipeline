{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_091",
  "task_summary": "Detect the white plate, grasp it reliably, then move and place it onto the red plate before retreating.",
  "task_long_description": {
    "overview": "A tabletop manipulator must pick a white plate and place it onto a visible red plate. The scene shows both plates within reach and a parallel-jaw gripper approaching, aligning, grasping, and relocating the item. The plan emphasizes prior detection of both targets, precise alignment over the white plate, safe contact over the red plate, gentle release, and retreat to clear the workspace. No container operations or complex reorientation are required, and placement uses contact-based lowering to ensure stable support.",
    "preconditions": ["Robot and gripper are operational", "Workspace is clear around the plates", "White and red plates are within reachable workspace", "Camera provides sufficient visibility of targets"],
    "stepwise_plan": ["Open gripper", "Detect white and red plates", "Move above white plate and compute grasp", "Approach and align precisely", "Execute pick and secure the grasp", "Transfer above red plate", "Lower until contact with red plate", "Open to release and retreat"],
    "success_criteria": ["White plate is released stably centered on red plate", "No collisions or spills occur", "Robot retreats to a safe clearance pose"],
    "failure_and_recovery": ["If detection fails, re-perceive or adjust view", "If grasp fails or slips, reopen and retry compute-and-pick", "If contact not detected at place, reattempt lowering with small offsets", "On timeouts, safely retreat and replan"],
    "termination": "End when the plate is placed on the red plate and the arm has retreated to a safe distance."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","table_surface"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Open gripper to maximum suitable width for thin plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"1200"},"description":"Detect the white plate in the scene."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":"1200"},"description":"Detect the red plate as the placement target."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":"0.05","timeout_ms":"1500"},"description":"Move to a pregrasp pose above the white plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Compute top-down grasp pose for the plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.005","timeout_ms":"1200"},"description":"Refine approach to meet tight alignment tolerance."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":"1500"},"description":"Execute grasp using computed pose."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":"0.05","timeout_ms":"1500"},"description":"Carry the grasped plate above the red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.02","force_threshold":"5.0","timeout_ms":"1200"},"description":"Lower gently until contact with the red plate is detected."},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Release the white plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"800"},"description":"Back away to clear the placement area."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 11, "conditions": 0, "depth": 2},
  "failure_modes": ["Target not detected", "Grasp slips due to low friction", "Contact not detected during place", "Timeouts or minor collisions"],
  "recovery_strategy": ["Re-run detection or adjust view", "Recompute grasp and retry pick", "Retry lowering with small lateral offset", "Abort to safe retreat on persistent failure"],
  "assumptions": ["Targets named 'white_plate' and 'red_plate' match the plates visible in frames", "Top-down grasp is feasible without occlusions", "Contact sensing is reliable enough for gentle placement"],
  "evaluation_notes": {
    "expected_success_criteria": ["Plate ends centered and stable on red plate", "No drops or collisions", "Final retreat completed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":5.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
