{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_002",
  "task_summary": "Detect and grasp the white plate, lift it, move to the red plate area, lower until contact, release, and retreat.",
  "task_long_description": {
    "overview": "A robot arm must pick a white plate from the tabletop and place it onto a nearby red plate. The contact sheet shows approach to the white plate, a successful grasp and lift, transfer toward the left-bottom region where the red plate is visible, and end-effector retreat. The behavior emphasizes reliable perception, gentle contact during grasp and place, and short, safe motions suitable for flat objects likely handled with a suction or light-force pinch.",
    "preconditions": ["Workspace clear of obstacles in motion corridor", "White plate visible and reachable", "Red plate present and reachable", "Gripper operational"],
    "stepwise_plan": ["Detect white plate", "Prepare gripper", "Compute grasp pose (suction-like)", "Approach above and align", "Lower until contact", "Execute pick and validate grasp", "Lift slightly", "Detect red plate", "Move above red plate and align", "Lower until contact", "Open gripper to release", "Retreat"],
    "success_criteria": ["White plate leaves original spot", "White plate released in contact with red plate surface", "End-effector safely retreats"],
    "failure_and_recovery": ["Perception failure: re-detect target", "Grasp slip: re-approach and retry pick", "Placement misalignment: re-align and lower again", "Unexpected contact: retreat and replan"],
    "termination": "Terminate when the plate is released over the red plate and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_4","frame_6","frame_7","frame_1","frame_0","frame_5","frame_2","frame_8"],
    "scores": {
      "frame_0": 0.48,
      "frame_1": 0.55,
      "frame_2": 0.35,
      "frame_3": 0.92,
      "frame_4": 0.88,
      "frame_5": 0.42,
      "frame_6": 0.75,
      "frame_7": 0.70,
      "frame_8": 0.10
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper at the rim of the white plate with first clear grasp event.",
        "predicts_next": "Object should lift from the table, initiating transfer.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","tabletop"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["grasp_white_plate"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Find white plate in scene."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"suction","result_key":"grasp_white_plate"},"description":"Compute grasp pose for a flat plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200},"description":"Pregrasp pose above plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align end-effector to grasp pose."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Descend gently until contact."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_white_plate","timeout_ms":1200},"description":"Execute grasp using computed pose."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm object is secured."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":800},"description":"Lift the object."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Locate red plate for placement."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.08,"timeout_ms":1500},"description":"Move above red plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":0.02,"timeout_ms":1500},"description":"Align for placement."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Lower object until contact with red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off safely."}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 14, "conditions": 1, "depth": 2},
  "failure_modes": ["Target not detected", "Misalignment causes failed grasp", "Slip after lift", "Placement misaligned or premature release"],
  "recovery_strategy": ["Re-run DetectObject and re-approach", "Re-align and repeat LowerUntilContact+Pick", "If slip detected, lower and re-grasp", "If place fails, lift slightly, re-align, and re-place"],
  "assumptions": ["End-effector uses suction/light-force grasp suitable for a flat plate.", "Final placement on the red plate is partly off-screen; inferred from frames showing motion toward red region bottom-left.", "No explicit retries specified; single-pass sequence used."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate no longer at original spot", "Plate released onto red plate area", "Robot retreats without collision"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white_plate","timeout_ms":1200}},
      "active_path_ids": ["Sequence","Pick"]
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","MoveDelta"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.08,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": ["Sequence","OpenGripper"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
