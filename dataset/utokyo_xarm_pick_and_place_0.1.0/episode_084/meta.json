{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_084",
  "task_summary": "Detect and pick the white plate, then place it centered onto the red plate and retreat.",
  "task_long_description": {
    "overview": "A stationary manipulator must locate a white plate and a nearby red plate on a tabletop, grasp the white plate from above, transport it over the red plate, gently lower until contact, release, and back away safely. The sequence favors reliable perception before action and stable grasp verification. Motion planning uses a top grasp strategy suitable for flat dishes. Placement is contact-driven to avoid sliding, and retreat ensures the scene is cleared after the release.",
    "preconditions": ["Robot homed and gripper functional", "Workspace contains a white_plate and a red_plate", "No obstacles between objects and robot reachable space"],
    "stepwise_plan": ["Perceive white_plate", "Open gripper and compute top grasp", "Approach and align to grasp pose", "Execute pick and verify stability", "Perceive red_plate and move above it", "Lower until contact and release", "Retreat upward/back to clear the stack"],
    "success_criteria": ["White plate firmly grasped without slip", "White plate placed in contact with red plate", "Gripper open and robot clear of plates"],
    "failure_and_recovery": ["If target not visible, re-detect before proceeding", "If grasp unstable, reattempt pick after re-align", "If contact not detected during placement, lower further within limits and retry release"],
    "termination": "Terminate after retreat once the white plate is released onto the red plate."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","table_surface"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_grasp"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_plate"},"description":"Check if white plate is visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Run perception for white plate"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for grasp"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_grasp"},"description":"Plan top grasp on plate"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Align end-effector to grasp pose"},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_grasp","timeout_ms":1200},"description":"Close and lift to pick"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify grasp stability"},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"red_plate"},"description":"Check if red plate is visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":800},"description":"Run perception for red plate"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.03,"timeout_ms":1200},"description":"Move above red plate"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"normal","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200},"description":"Lower plate until contact sensed"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Release plate"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away after placement"}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 10, "conditions": 3, "depth": 3},
  "failure_modes": ["Object not detected", "Misalignment leads to failed grasp", "Slip during lift", "Premature release or no contact during place"],
  "recovery_strategy": ["Re-run DetectObject via Fallback", "Re-approach with tighter tolerance and retry pick", "If unstable, reopen and regrasp", "If no contact, continue lowering within limits before release"],
  "assumptions": ["White plate is graspable with a top strategy and is the movable item; red plate is static and the placement target", "Frames show the white plate near the red plate and the arm approaching then releasing over red"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends up on top of red plate", "Robot retreats with gripper open"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"white_plate","strategy":"top","result_key":"white_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"normal","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
