{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_066",
  "task_summary": "Detect the white plate, grasp it, move to the red plate, gently lower until contact, release, and retreat.",
  "task_long_description": {
    "overview": "An xArm with a parallel gripper must pick up a white plate and place it onto a nearby red plate. The scene shows both plates on a tabletop workspace with moderate clutter and limited clearance. The robot first perceives the white plate, approaches from above, aligns, and executes a grasp. After verifying the grasp, it transfers the plate toward the red plate, descends slowly until contact, opens the gripper to place, and retreats to a safe pose. Timing is moderate; accuracy is sufficient to align the plate within the red plateâ€™s rim.",
    "preconditions": [
      "Robot powered and homed; workspace clear of obstacles above plates",
      "Gripper functional and initially open",
      "White plate and red plate both visible on the table"
    ],
    "stepwise_plan": [
      "Open gripper and detect the white plate.",
      "Move above the white plate, compute grasp, align, and pick.",
      "Verify object in gripper.",
      "Detect red plate and move above it.",
      "Lower slowly until contact with the red plate surface.",
      "Open gripper to release and retreat."
    ],
    "success_criteria": [
      "White plate lifted stably without slipping",
      "White plate placed centered on the red plate without tipping",
      "Arm retreats without collision"
    ],
    "failure_and_recovery": [
      "Perception miss: re-detect target and re-approach.",
      "Misalignment: re-run ApproachAndAlign and retry pick.",
      "Early contact while placing: retreat slightly and re-lower slowly."
    ],
    "termination": "End after releasing the white plate on the red plate and retreating to a safe distance."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","xarm_gripper","table_surface"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"float","timeout_ms":"int"},"description":"Open gripper to specified width."},
    {"id":"DetectObject","type":"Action","ports":{"target":"string","timeout_ms":"int"},"description":"Perception of a named target object."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"string","offset_z":"float","timeout_ms":"int"},"description":"Move above target at offset in Z."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"string","strategy":"string","result_key":"string"},"description":"Compute grasp pose and store in blackboard."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"string","tolerance":"float","timeout_ms":"int"},"description":"Refine alignment before grasp."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"string","timeout_ms":"int"},"description":"Execute grasp using precomputed key."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"string"},"description":"Verify the specified object is held."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"string","max_depth":"float","force_threshold":"float","timeout_ms":"int"},"description":"Descend slowly until contact is detected."},
    {"id":"Retreat","type":"Action","ports":{"distance":"float","timeout_ms":"int"},"description":"Back off to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 11, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Object not detected due to occlusion or glare",
    "Grasp slips due to poor alignment",
    "Collision with red plate rim during placement"
  ],
  "recovery_strategy": [
    "Re-run DetectObject and re-approach",
    "Re-execute ApproachAndAlign then Pick",
    "Slight Retreat followed by another LowerUntilContact"
  ],
  "assumptions": [
    "Frames suggest successful pick near the white plate and approach to the red plate; exact final placement moment is partially occluded.",
    "Yaw/orientation not critical for plates; default gripper yaw used."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Plate is visibly centered on red plate after release",
      "No collisions with workspace or plates during motion"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.03,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
