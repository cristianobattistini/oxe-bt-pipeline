{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_054",
  "task_summary": "Pick the white plate and place it centered on the red plate.",
  "task_long_description": {
    "overview": "A stationary xArm manipulator operates on a tabletop with two plates: a white plate and a red plate. The goal is to grasp the white plate and place it onto the red plate. The tree performs perception for both targets, computes a top grasp for the white plate, executes a careful approach and pick, then moves above the red plate, lowers until contact, and releases. Simple verification checks ensure object possession before transfer. Movements use conservative timeouts and precise alignment.",
    "preconditions": ["Workspace is clear around plates", "Robot is homed and reachable positions are collision-free", "Gripper functional and calibrated", "Camera provides visibility of plates"],
    "stepwise_plan": ["Open gripper", "Find white plate", "Compute top grasp", "Approach and align", "Pick white plate", "Verify grasp", "Find red plate", "Move above red plate", "Lower until contact", "Place and release", "Retreat"],
    "success_criteria": ["White plate securely grasped", "White plate released on top of red plate", "No collisions or drops", "Robot retreats to a safe height"],
    "failure_and_recovery": ["If plate not visible: scan again", "If grasp unstable: reattempt grasp", "If no contact detected at place: retry lowering", "If timeouts occur: rescan and replan"],
    "termination": "Terminate after successful release on the red plate and retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate","red_plate","xarm","table","workspace"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["task_goal","white_plate_grasp","place_pose"],
  "node_specs": [
    {"id":"SetBlackboard","type":"Action","ports":{"key":"task_goal","value":"place_white_plate_on_red_plate"},"description":"Record the high-level task goal."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Ensure gripper is open before approach and for release."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_plate"},"description":"Check immediate visibility of the white plate."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Active scan if the white plate is not visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Detect/locate the white plate precisely."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Compute a top grasp for the white plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500},"description":"Move to a pregrasp height above the white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align precisely before grasping."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1200},"description":"Execute grasp using precomputed pose."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm grasp stability."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Verify the white plate is held."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"red_plate"},"description":"Check visibility of red plate."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_plate","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Scan if red plate not visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Detect/locate the red plate."},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"place_pose","value":"red_plate_center"},"description":"Define place pose key associated to red plate center."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.06,"timeout_ms":1500},"description":"Move above the red plate for placement."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.03,"force_threshold":10.0,"timeout_ms":800},"description":"Lower gently until contact detected."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"place_pose","yaw_deg":0,"press_force":10.0,"timeout_ms":1200},"description":"Place the object using the computed pose."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe height."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to stabilize after placement."}
  ],
  "tree_stats": {"nodes_total": 25, "actions": 18, "conditions": 4, "depth": 4},
  "failure_modes": ["White plate not detected", "Grasp fails or is unstable", "Red plate not detected", "No contact during place", "Timeouts due to occlusions"],
  "recovery_strategy": ["Rescan with ScanForTarget", "Recompute grasp and retry Pick", "Adjust approach tolerance and re-align", "Retry LowerUntilContact then PlaceAt", "Fallback to higher vantage and rescan"],
  "assumptions": ["Place pose approximated as 'red_plate_center' via SetBlackboard", "Top grasp assumed suitable for a flat plate", "Frames suggest successful pick then place; no conflicts observed"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends on red plate", "Gripper opens and retreats", "No collisions noted"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.06,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.03,"force_threshold":10.0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"place_pose","yaw_deg":0,"press_force":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
