{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_009",
  "task_summary": "Detect the white plate, grasp it, move above the red plate, gently lower until contact, release, and retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a parallel-jaw gripper must pick up a white plate and place it onto a nearby red plate. The contact sheet shows approach, grasp, transfer over the red plate, and release. The plan emphasizes reliable perception of both plates, a precise approach with tight alignment, controlled contact when grasping and when setting the object down, and a short retreat to clear the workspace. Timeouts are moderate to allow stable motions; grasp force is limited to avoid slipping or damage.",
    "preconditions": [
      "Workspace clear and reachable",
      "White and red plates visible to the camera",
      "Gripper operational and calibrated",
      "Robot at safe starting pose"
    ],
    "stepwise_plan": [
      "Open gripper and detect white and red plates.",
      "Compute grasp pose for the white plate and approach from above.",
      "Align, descend until contact, and close the gripper.",
      "Verify grasp stability and lift slightly.",
      "Move above the red plate, descend until contact.",
      "Open gripper to place and retreat."
    ],
    "success_criteria": [
      "White plate released on top of the red plate",
      "No slip during transfer",
      "Gripper empty at end and robot safely clear"
    ],
    "failure_and_recovery": [
      "If perception fails, re-run detection with a broader scan.",
      "If grasp is unstable, reopen, re-approach, and attempt a new grasp pose.",
      "If contact is not detected during place, limit depth and retry.",
      "If collisions are predicted, abort and retreat."
    ],
    "termination": "Terminate after successful release on red plate and a short retreat, or after unrecoverable failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First firm grasp closing on the white plate is visible.",
        "predicts_next": "Lift and transfer expected immediately after grasp.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate", "red_plate", "robot_arm", "parallel_jaw_gripper", "table_surface"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Ensure jaws are fully open before approach."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Localize white plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Localize red plate for later placement."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Compute pinch grasp pose for plate rim."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200},"description":"Pregrasp position above the white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Tight alignment before contact."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.03,"force_threshold":10.0,"timeout_ms":1200},"description":"Controlled descent to touch the plate."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Grip the plate gently."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Check plate held securely."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":800},"description":"Lift the grasped plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200},"description":"Move above placement area."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200},"description":"Touch down on the red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Release the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back away safely."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief settle time after placement."}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 14, "conditions": 1, "depth": 2},
  "failure_modes": [
    "White plate not detected or occluded",
    "Misalignment leading to failed grasp",
    "Slip during transfer",
    "Insufficient contact during place",
    "Collision with table or plate edges"
  ],
  "recovery_strategy": [
    "Re-run detection and adjust view",
    "Recompute grasp pose and re-approach",
    "Reduce force and retry grasp",
    "Limit descent depth and try a new placement contact",
    "Retreat and replan path if obstacles detected"
  ],
  "assumptions": [
    "Parallel-jaw pinch on plate rim is feasible (inferred from frames).",
    "Red plate is the intended support surface; final frames suggest successful release.",
    "No explicit retries requested by instruction; single-attempt sequence used."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White plate rests on red plate without motion",
      "Gripper empty and above table after retreat"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
