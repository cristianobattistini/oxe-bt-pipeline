{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_020",
  "task_summary": "Detect the white plate, grasp it, move above the red plate, lower to contact, release, and retreat.",
  "task_long_description": {
    "overview": "An xArm manipulator operates over a green tabletop with a white plate and a larger red plate. The goal is to pick up the white plate and place it centered on the red plate. The behavior first ensures the white plate is visible, computes a top grasp, and approaches precisely. After grasping and confirming the object is held, the arm transfers above the red plate, descends until contact to ensure stable placement, opens the gripper to release, and retreats to a safe height. Timeouts and precise alignment support robustness.",
    "preconditions": ["Robot and gripper are powered and calibrated", "Workspace is clear except target plates", "Camera view of the white plate is not fully occluded"],
    "stepwise_plan": ["Perceive/confirm the white plate", "Compute a top grasp", "Move above and align to the white plate", "Pick the plate and verify it is held", "Move above the red plate", "Lower until contact with the red plate", "Open gripper to release", "Retreat to a safe pose"],
    "success_criteria": ["White plate ends stably on the red plate surface", "No collisions with table or arm", "Gripper released and not in contact at end"],
    "failure_and_recovery": ["If plate not visible, scan then detect again", "If alignment fails, re-run alignment", "If grasp fails or slip detected, reattempt pick", "If contact not detected over red plate, limit-depth stop and retry placement"],
    "termination": "Tree returns SUCCESS once the plate is released on the red plate and the arm retreats."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper is closing on and lifting the white plate; first clear grasp event.",
        "predicts_next": "Transfer toward the red plate is expected after confirming the grasp.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate", "red_plate", "table", "robot_arm", "gripper"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_plate"},"description":"Checks if the white plate is currently visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Actively scan to localize the white plate if not immediately visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Run detection to localize the white plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Compute a top grasp for the white plate and store it to the blackboard."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.07,"timeout_ms":1200},"description":"Move above the white plate with a vertical offset."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Open the gripper to the required width."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500},"description":"Approach and fine-align over the white plate before grasping."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute the stored grasp to pick the plate."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Verify the plate is held."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.08,"timeout_ms":1200},"description":"Move above the red plate at a safe height."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5.0,"timeout_ms":1500},"description":"Descend until contact with the red plate is detected."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Retreat upward to clear the placement area."}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 11, "conditions": 2, "depth": 4},
  "failure_modes": ["White plate not detected or occluded", "Misalignment causing failed grasp", "Plate slip after lift", "Premature release or no contact over red plate"],
  "recovery_strategy": ["Fallback perception: scan then detect", "Re-run alignment and attempt pick again", "If contact not detected within depth limit, retreat and retry placement"],
  "assumptions": ["White plate is graspable with a top strategy", "Red plate is stable and flat; placement area unobstructed", "Frames show successful lift then placement; instruction matches visuals"],
  "evaluation_notes": {
    "expected_success_criteria": ["Object is released on red plate center with no wobble", "End with arm safely retracted"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.07,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.08,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5.0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
