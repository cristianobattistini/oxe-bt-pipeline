{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_070",
  "task_summary": "Pick the white plate and place it neatly on top of the red plate.",
  "task_long_description": {
    "overview": "A fixed-base robot arm with a parallel gripper must find a white plate on a work surface and place it onto a red plate. The contact sheet shows approach, grasp, transfer toward the red plate, and a successful placement with the white plate centered on the red plate. The plan prioritizes reliable perception, a top grasp, gentle placement with contact sensing, and a short retreat. Timeouts, tolerances, and force values are snapped to the allowed bins where applicable.",
    "preconditions": [
      "Both plates are on the workspace and reachable",
      "Gripper is operational and starts open",
      "Scene lighting allows visual detection of plates",
      "No obstacles block a straight-line approach from above"
    ],
    "stepwise_plan": [
      "Open gripper and detect the white plate.",
      "Move above the white plate and compute a top grasp pose.",
      "Approach, align, and pick the white plate; verify grasp stability.",
      "Detect the red plate and move above it.",
      "Lower until contact over the red plate and execute placement with low press force.",
      "Open gripper to release and retreat from the stack."
    ],
    "success_criteria": [
      "White plate ends centered on and supported by the red plate",
      "No slip during transfer",
      "Robot retreats clear with gripper empty"
    ],
    "failure_and_recovery": [
      "If plate not detected, reattempt perception with a scan pattern and extended timeout",
      "If grasp unstable, recompute grasp pose and retry pick",
      "If contact not detected during lowering, re-approach with smaller offset and try again",
      "If misalignment on red plate, lift slightly and realign before placing"
    ],
    "termination": "Task ends after successful release and retreat or after configured retries/timeouts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first clear grasp and lift of the white plate visible, indicating successful pickup and start of transfer.",
        "predicts_next": "movement toward the red plate and placement sequence should follow.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","table"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp","red_plate_top"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"{400|500}"},"description":"Open gripper to requested width before/after manipulation."},
    {"id":"DetectObject","type":"Action","ports":{"target":"string","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Detects a target object in the scene."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"string","offset_z":"float","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Move to a pose above target with Z offset."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"string","strategy":"top","result_key":"string"},"description":"Compute grasp pose and store key."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"string","tolerance":"{0.0|0.005|0.01|0.02}","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Refine approach to align within tolerance."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"string","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Execute grasp using stored grasp key."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks whether the current grasp is stable."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow|normal|fast","max_depth":"float","force_threshold":"float","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Lower tool until contact or limits reached."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"string","yaw_deg":"{0|45|90|135|180|225|270}","press_force":"{10|20|30|40}","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Place object at target pose with optional press."},
    {"id":"Retreat","type":"Action","ports":{"distance":"{0.05|0.1|0.2}","timeout_ms":"{400|500|800|1200|1500|2000}"},"description":"Back off to a safe distance after placement."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 12, "conditions": 1, "depth": 2},
  "failure_modes": [
    "White plate not detected",
    "Grasp slip during lift",
    "Collision or misalignment when approaching red plate",
    "No contact sensed during lowering",
    "Early release leading to off-center placement"
  ],
  "recovery_strategy": [
    "Re-run detection with a scan pattern",
    "Recompute grasp and retry pick",
    "Re-approach with tighter tolerance",
    "Lift slightly, re-center above red plate, and place again"
  ],
  "assumptions": [
    "Top grasp of the white plate is feasible with the available gripper.",
    "Red plate is static and provides support for stacking.",
    "Pose key 'red_plate_top' is available or derived from detection.",
    "Frames show successful placement (frame_6 shows white on red), consistent with the instruction."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White plate stably stacked on the red plate",
      "Robot clear of the stack with open gripper"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.02,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_top","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
