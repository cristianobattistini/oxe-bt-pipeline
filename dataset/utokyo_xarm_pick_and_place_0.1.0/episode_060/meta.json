{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_060",
  "task_summary": "Detect and grasp the white plate, then move and place it centered on the red plate, release, and retreat.",
  "task_long_description": {
    "overview": "A fixed-base xArm manipulator operates on a benchtop with two dishes: a white plate and a red plate. The goal is to pick up the white plate and place it onto the red plate. The behavior emphasizes reliable perception, accurate alignment before grasping, a stable lift, and a gentle placement. Conditions confirm visibility, object capture, and grasp stability. Placement is executed above the red plate, followed by a controlled descent until contact, release, and a safe retreat to clear the workspace.",
    "preconditions": ["Robot powered and homed", "Workspace clear except the two plates", "Gripper operational and empty", "Camera view unobstructed"],
    "stepwise_plan": ["Open gripper", "Detect the white plate and verify visibility", "Move above and align precisely to the white plate", "Compute grasp pose and pick", "Verify object in gripper and stability", "Detect red plate and move above it", "Place at the red plate pose, lower until contact", "Open gripper to release", "Retreat and pause briefly"],
    "success_criteria": ["White plate is grasped securely", "White plate ends centered on the red plate", "No collisions or drops", "Robot retreats to a safe clearance"],
    "failure_and_recovery": ["If detection fails, rescan area", "If grasp fails, reopen gripper, re-align, and retry pick", "If placement contact not detected, lower again slowly", "If object slips, re-detect and reattempt grasp"],
    "termination": "Terminate when the white plate is released on the red plate and the arm has retreated safely."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First clear alignment over the white plate before grasp.",
        "predicts_next": "Suggests imminent grasp execution and lift.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate", "red_plate", "robot_arm", "gripper", "table"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["grasp_white_plate", "red_plate_pose"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"float","timeout_ms":"int"},"description":"Set gripper aperture to prepare for grasp or to release."},
    {"id":"DetectObject","type":"Action","ports":{"target":"string","timeout_ms":"int"},"description":"Perception to localize a named object and store its pose."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"string"},"description":"Checks if the object is in view and localized."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"string","offset_z":"float","timeout_ms":"int"},"description":"Move to a pre-grasp pose above the target."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"string","tolerance":"float","timeout_ms":"int"},"description":"Close the residual error to align for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"string","strategy":"string","result_key":"string"},"description":"Compute grasp pose using the chosen strategy and write it to the blackboard."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"string","timeout_ms":"int"},"description":"Execute approach, close gripper, and lift using the computed grasp."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"string"},"description":"Confirms that the specified object is currently held."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks that the grasp is stable (no slip)."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"string","yaw_deg":"int","press_force":"float","timeout_ms":"int"},"description":"Move to placement pose with given yaw and apply gentle press."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"string","max_depth":"float","force_threshold":"float","timeout_ms":"int"},"description":"Descend slowly until contact is sensed."},
    {"id":"Retreat","type":"Action","ports":{"distance":"float","timeout_ms":"int"},"description":"Back off to a safe clearance."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":"int"},"description":"Small dwell after retreat for stability."}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 13, "conditions": 4, "depth": 2},
  "failure_modes": ["White plate not detected", "Misalignment causes missed grasp", "Insufficient grip leading to slip", "Red plate pose not found", "Premature release before contact"],
  "recovery_strategy": ["Re-detect with a broader view pattern", "Re-open, re-align with tighter tolerance, and retry pick", "Lower more slowly and re-check contact", "If placement fails, lift slightly and re-center before release"],
  "assumptions": ["Contact sheet shows grasp of the white plate clearly; exact moment of placement onto the red plate is less explicit, so we assume red_plate_pose is available from detection."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends centered on red plate", "No collisions during approach or retreat", "Stable grasp until placement"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"white_plate"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white_plate","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_pose","yaw_deg":0,"press_force":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
