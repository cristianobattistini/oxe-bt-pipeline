{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_026",
  "task_summary": "Pick the white plate and place it on top of the red plate.",
  "task_long_description": {
    "overview": "A tabletop scene shows a red plate and a white plate. The robot arm must detect both objects, grasp the white plate at its rim, lift it, and accurately place it centered on the red plate. The plan emphasizes stable grasping and gentle placement with contact detection. The sequence includes perception, approach, grasp, transfer, placement, and retreat. Timeouts are moderate and retries are used for perception. The workspace is uncluttered, and the final pose leaves the white plate resting on the red plate with the gripper safely retracted.",
    "preconditions": ["Robot initialized and homed", "Workspace clear except two plates", "Gripper functional and empty", "Camera view of plates unobstructed"],
    "stepwise_plan": ["Detect white plate", "Detect red plate", "Open gripper", "Compute grasp pose for white plate (rim pinch)", "Verify pose available", "Move above white plate", "Approach and align", "Pick using computed grasp", "Verify grasp stability", "Move above red plate", "Lower until surface contact is detected", "Open gripper to release", "Retreat to a safe height"],
    "success_criteria": ["White plate ends resting on red plate", "No drop or slip", "Robot retreats to safe pose", "No collisions with table or objects"],
    "failure_and_recovery": ["If detection fails, retry up to 3 times", "If grasp unstable, reopen, recompute, and retry pick", "If contact not detected within depth, retreat slightly and try lowering again", "If placement obstructed, back off and re-approach"],
    "termination": "Terminate when the white plate is released on the red plate and the arm retreats."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper holding the white plate at the rim, confirming a successful grasp.",
        "predicts_next": "Robot will lift/transfer toward the red plate.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate","red_plate","table_surface","robot_arm"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Perceive white plate location."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Perceive red plate location."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Prepare for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Plan rim grasp for white plate."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"white_plate_grasp"},"description":"Verify grasp pose computed."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500},"description":"Pregrasp approach above white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align gripper to grasp pose."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1200},"description":"Close and lift the white plate."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm stable hold."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.06,"timeout_ms":1500},"description":"Transfer above red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.03,"force_threshold":5.0,"timeout_ms":1200},"description":"Lower for gentle placement."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Release plate onto red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 11, "conditions": 2, "depth": 3},
  "failure_modes": ["Object not detected", "Grasp slips", "Contact not detected during placement", "Collisions with plates/table"],
  "recovery_strategy": ["Retry detections", "Reopen and recompute grasp", "Raise slightly and lower again", "Abort and retreat if collision risk"],
  "assumptions": ["Grasp is a rim pinch; object poses remain static during execution", "Frames indicate successful place-on-top; instruction and frames agree"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate centered on red plate", "No visible slip after release", "Arm ends in safe pose"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.06,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.03,"force_threshold":5.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
