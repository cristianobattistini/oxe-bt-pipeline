{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_034",
  "task_summary": "Detect and grasp the white plate, then move and place it onto the red plate, releasing gently and retreating.",
  "task_long_description": {
    "overview": "A stationary manipulator must pick a white plate from the tabletop and place it onto a nearby red plate. The scene shows both plates visible and the gripper approaching from above. The behavior prioritizes reliable perception, safe vertical approach, and gentle placement. The robot opens its gripper, detects the white plate, computes a top grasp, picks it, then navigates above the red plate, lowers until contact, releases, and retreats to clear the workspace.",
    "preconditions": ["Robot and camera are calibrated", "White plate and red plate are on the table and reachable", "Gripper operational and empty"],
    "stepwise_plan": ["Open gripper", "Detect white plate", "Move above white plate", "Compute grasp pose (top)", "Pick using computed grasp", "Detect red plate", "Move above red plate", "Lower until contact", "Open gripper to release", "Retreat"],
    "success_criteria": ["White plate is centered and resting on the red plate", "No collisions or knocks to other objects", "Gripper released and robot safely retracted"],
    "failure_and_recovery": ["Perception miss: retry detection or scan", "Grasp unstable: regrasp using new pose", "Early contact when placing: retreat slightly and re-lower"],
    "termination": "Terminate after retreating to a safe height with no object in gripper."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_gripper","table"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for approach and grasp."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1500},"description":"Perceive and localize the white plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500},"description":"Move to a pre-grasp pose above the plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Compute a top grasp on the plate rim/surface."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute approach, close, and lift."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1500},"description":"Perceive and localize the red plate for placement."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.08,"timeout_ms":1500},"description":"Move to a pre-place pose above the red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200},"description":"Lower gently until contact with the red plate is detected."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the white plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Retract to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 10, "conditions": 0, "depth": 2},
  "failure_modes": ["White plate not detected", "Grasp slips during lift", "Misalignment over red plate", "Premature contact while placing"],
  "recovery_strategy": ["Retry detection or use a spiral ScanForTarget", "Recompute grasp and Pick again", "Re-approach MoveAbove with small offset adjustments", "Slight Retreat and re-LowerUntilContact"],
  "assumptions": ["Frames show a successful pick of the white plate and placement onto the red plate; top grasp is assumed appropriate.", "Placement is achieved via LowerUntilContact + OpenGripper rather than PlaceAt."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate is stable on red plate; gripper empty; robot retracted"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.08,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
