{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_074",
  "task_summary": "Detect and grasp the white plate, then transport and place it centered on the red plate, releasing and retreating safely.",
  "task_long_description": {
    "overview": "A fixed-base robotic arm with a parallel gripper must pick a thin white plate from the workspace and place it onto a red plate positioned nearby. The behavior emphasizes reliable perception, rim-aligned grasp planning, and gentle placement with contact detection to avoid impact. The tree uses fallbacks to recover from missed detections and verifies computed poses before acting. After placing, the gripper opens to release the plate and the arm retreats to clear the stack without disturbing the arrangement.",
    "preconditions": [
      "Workspace contains a visible white plate and a visible red plate",
      "Gripper is empty and capable of rim pinch on a plate",
      "Collision scene is free of obstacles along approach and transfer paths",
      "Camera provides sufficient view for object detection"
    ],
    "stepwise_plan": [
      "Open gripper and perceive the white plate; if not found, scan until detected",
      "Compute and verify a rim pinch grasp, align, and execute the pick",
      "Confirm the plate is in the gripper and locate the red plate (scan if needed)",
      "Prepare a placement pose above the red plate and move above it",
      "Lower slowly until contact, release the white plate, and retreat to a safe distance"
    ],
    "success_criteria": [
      "White plate is placed stably on top of the red plate with visible alignment",
      "No collisions or drops during pick, transfer, or placement",
      "Gripper is open and empty after placement, with arm safely clear"
    ],
    "failure_and_recovery": [
      "If the plate is not detected, perform a spiral scan and retry detection",
      "If the grasp pose is invalid or grasp fails, recompute grasp and retry pick",
      "If placement contact is not detected within depth, abort placement and re-approach",
      "If object slips, re-open gripper, re-detect, and attempt a new grasp"
    ],
    "termination": "Terminate after successful placement, gripper release, and retreat wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.22,
      "frame_1": 0.48,
      "frame_2": 0.62,
      "frame_3": 0.93,
      "frame_4": 0.40,
      "frame_5": 0.81,
      "frame_6": 0.66,
      "frame_7": 0.29,
      "frame_8": 0.12
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first grasp/engagement on the white plate rim appears imminent with aligned wrist",
        "predicts_next": "lift and transfer toward the red plate are expected after this interaction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","table_surface"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp","on_red_plate_pose"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Ensure gripper is open before approach and for final release."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Detect the white plate using the vision pipeline."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Spatial scan to find the white plate when direct detection fails."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Compute rim pinch grasp for plate."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"white_plate_grasp"},"description":"Verify grasp pose key exists."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500},"description":"Approach plate and align within tight tolerance."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute grasp and lift."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Confirm the white plate is grasped."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Detect the red plate for placement reference."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_plate","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Scan to re-acquire the red plate if occluded."},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"on_red_plate_pose","value":"red_plate_top"},"description":"Store placement pose above the red plate."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"on_red_plate_pose"},"description":"Verify placement pose key exists."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200},"description":"Move above red plate with safe vertical clearance."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":0},"description":"Align end-effector yaw for symmetric placement."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1500},"description":"Lower gently until contact sensed."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off to avoid disturbing the stack."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Brief settle time after retreat."}
  ],
  "tree_stats": {"nodes_total": 21, "actions": 15, "conditions": 3, "depth": 3},
  "failure_modes": ["White plate not detected due to glare or occlusion","Grasp fails because rim is too thin or misaligned","Collision risk during transfer near workspace edges","Placement misalignment causing slippage on red plate"],
  "recovery_strategy": ["Fallback scan to re-detect targets","Recompute grasp and reattempt pick","Abort and re-approach if no contact within allowed depth","Open gripper and reset if slip detected"],
  "assumptions": ["Frames show a white plate and a red plate in the same workspace; the red plate is the placement goal", "Gripper can successfully perform a rim pinch on the white plate", "Contact sheet suggests approach, grasp, transfer, and placement phases but exact timestamps are unknown"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate stably stacked on red plate with gripper released","No collisions and smooth motion throughout the sequence"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"PoseAvailable","attrs":{"key":"white_plate_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}