{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_007",
  "task_summary": "Detect the white plate, grasp it from above, transport it, and place/release it centered on the red plate, then retreat.",
  "task_long_description": {
    "overview": "An xArm manipulator must perform a short pick-and-place on a tabletop. Two circular dishes are visible: a white plate and a red plate used as the destination. The robot first ensures the gripper is open, detects and aligns to the white plate, computes a top grasp, and picks it. With a stable grasp confirmed, it localizes the red plate, moves above it, lowers until contact, places the white plate centered on the red plate, opens the gripper to release, and retreats to a safe height. Timing is moderate and alignment is precise to avoid sliding.",
    "preconditions": ["Workspace clear around plates", "Camera provides plate detections", "Gripper operational and calibrated", "Collision model loaded"],
    "stepwise_plan": [
      "Open gripper and detect white plate.",
      "Compute top grasp; move above and align.",
      "Pick the white plate and confirm grasp stability.",
      "Detect destination red plate and move above it.",
      "Lower until contact; place centered; release.",
      "Retreat to a safe offset."
    ],
    "success_criteria": ["White plate ends resting on top of red plate", "No collisions or drops", "Gripper released and robot clear of objects"],
    "failure_and_recovery": [
      "If detection fails, re-detect target.",
      "If grasp unstable, reopen and reattempt grasp.",
      "If contact not detected while lowering, abort and retry alignment.",
      "If placement misaligned, lift slightly and re-place."
    ],
    "termination": "Terminate after successful release on the red plate and retreat completed."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Initial secure engagement with the white plate; gripper near rim indicating grasp moment.",
        "predicts_next": "Object should be lifted and transported toward the destination.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate", "red_plate", "table", "robot_gripper"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["grasp_white_plate", "red_plate_center"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Ensure gripper is open."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Detect the white plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"grasp_white_plate"},"description":"Compute top grasp for the white plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200},"description":"Move above the white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Fine alignment before grasp."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_white_plate","timeout_ms":1200},"description":"Execute grasp and lift."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify grasp stability."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Detect destination red plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200},"description":"Move above the red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Lower until gentle contact."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":20,"timeout_ms":1200},"description":"Place centered on red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Retreat to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 12, "conditions": 1, "depth": 2},
  "failure_modes": ["White plate not detected", "Grasp slips or fails", "Collision with plates/table", "Red plate not localized", "Insufficient contact during placement"],
  "recovery_strategy": ["Re-run detection steps", "Reopen gripper and recompute grasp", "Re-align with tighter tolerance", "Reattempt lowering with adjusted depth"],
  "assumptions": [
    "Frames suggest some sliding during placement; we still model a standard lift-and-place per instruction.",
    "Pose key 'red_plate_center' is a symbolic blackboard entry resolved by perception.",
    "Contact threshold and press force chosen as nominal values due to unspecified requirements."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate sits on red plate after release", "No object displacement beyond minor tolerance"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":20,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
