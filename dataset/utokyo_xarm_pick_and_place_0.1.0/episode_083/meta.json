{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_083",
  "task_summary": "Detect and grasp the white plate, then move and place it onto the red plate with gentle contact and a clean retreat.",
  "task_long_description": {
    "overview": "A 6â€‘DOF xArm with a parallel gripper operates over a tabletop containing a white plate and a red plate. The behavior first ensures perception of the white plate, computes a safe top-down approach, establishes contact, grasps, verifies retention, and retreats. It then navigates above the red plate, descends until contact to ensure proper seating, releases, and retreats clear. Conservative approach tolerances and slow descent are used to avoid sliding the plates.",
    "preconditions": [
      "Robot is homed and gripper responsive",
      "Workspace is free of obstructive clutter aside from the plates",
      "Red plate is reachable and stable on the table",
      "Camera provides view of the white plate"
    ],
    "stepwise_plan": [
      "Open gripper and localize the white plate, scanning if not immediately visible",
      "Approach above the white plate, align precisely, descend until contact, and close the gripper",
      "Verify the object is in the gripper and retreat upward",
      "Transit above the red plate, descend until contact, open to release, and retreat"
    ],
    "success_criteria": [
      "White plate lifted with a stable grasp",
      "White plate placed concentrically on the red plate without visible slip",
      "End-effector retreats to a safe clearance height"
    ],
    "failure_and_recovery": [
      "If the white plate is not visible, perform spiral scan and retry detection",
      "If grasp fails or is unstable, reopen, re-align, lower again, and reattempt",
      "If placement contact is not detected, repeat gentle descent before releasing"
    ],
    "termination": "Terminate after successful release on the red plate followed by a safe retreat distance."
  },
  "frame_ranking": {
    "order": ["frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.22,
      "frame_1": 0.78,
      "frame_2": 0.81,
      "frame_3": 0.86,
      "frame_4": 0.74,
      "frame_5": 0.63,
      "frame_6": 0.59,
      "frame_7": 0.35,
      "frame_8": 0.18
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "End-effector is centered above the white plate at near-contact height indicating imminent grasp.",
        "predicts_next": "Closing action and lift are expected immediately after this alignment.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","tabletop","workspace"],
  "objects_from_instruction": ["white plate","red plate"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"800"},"description":"Ensure maximum aperture before approaching the white plate"},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_plate"},"description":"Quick visibility check for the white plate"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"spiral","max_attempts":"3","timeout_ms":"1500"},"description":"Active search routine to find the white plate if not immediately visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"1200"},"description":"Obtain updated perception of the white plate pose"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":"0.08","timeout_ms":"1200"},"description":"Move to pregrasp above the white plate"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.005","timeout_ms":"1200"},"description":"Refine alignment for a top-down grasp"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.04","force_threshold":"10","timeout_ms":"1200"},"description":"Descend gently until contact with the plate"},
    {"id":"CloseGripper","type":"Action","ports":{"force":"20","timeout_ms":"1200"},"description":"Close to secure the plate"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Confirm the plate is held"},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"1200"},"description":"Lift away from the table safely"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":"0.12","timeout_ms":"1500"},"description":"Move above the red plate for placement"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.05","force_threshold":"10","timeout_ms":"1500"},"description":"Descend until contact with the red plate"},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"800"},"description":"Release the white plate onto the red plate"},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"1200"},"description":"Retreat to a safe height after placement"}
  ],
  "tree_stats": {"nodes_total": 17, "actions": 12, "conditions": 2, "depth": 4},
  "failure_modes": [
    "White plate not detected due to occlusion or glare",
    "Misalignment causing edge collisions during descent",
    "Insufficient grip leading to slip during lift",
    "Placement misregistration on the red plate"
  ],
  "recovery_strategy": [
    "Spiral scan and redetect the plate",
    "Re-align with tighter tolerance and reattempt descent",
    "Reopen, re-approach, and increase contact confirmation before closing",
    "If placement fails, retreat slightly and repeat the contact descent"
  ],
  "assumptions": [
    "The circular white object is a shallow plate; the red circular object is the destination plate seen left in several frames.",
    "Final release is not fully visible in later tiles; the tree assumes a standard place-then-retreat sequence.",
    "Top-down grasp is assumed feasible; suction is not used."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White plate is securely lifted and then placed centered on the red plate with minimal lateral motion"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"white_plate","pattern":"spiral","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.08,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.04,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.12,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
