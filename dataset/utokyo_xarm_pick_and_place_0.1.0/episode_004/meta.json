{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_004",
  "task_summary": "Detect the white plate, grasp it, move to the red plate, gently make contact, release, and retreat.",
  "task_long_description": {
    "overview": "A tabletop manipulation scene with a white plate and a red plate on a green work surface. A 6-DoF arm with a parallel gripper must pick the white plate and place it onto the red plate. The behavior emphasizes reliable perception, careful alignment before grasping, and a controlled, low-speed placement onto the red plate surface. Timeouts are modest to avoid stalls, with precise alignment to minimize sliding of the plate during pickup and placement.",
    "preconditions": ["Robot is homed and within workspace limits", "Gripper operational and empty", "White and red plates are on the table within camera view", "Collision map loaded for table"],
    "stepwise_plan": ["Detect white plate and red plate", "Open the gripper", "Move above the white plate at a safe height", "Compute grasp and align precisely", "Execute pick and verify object in gripper", "Move above red plate and align", "Lower until contact on red plate", "Open gripper to release", "Retreat and wait briefly"],
    "success_criteria": ["White plate ends resting stably on the red plate", "No collisions with table or environment", "Grasp remains stable during transfer", "Final pose leaves robot clear of objects"],
    "failure_and_recovery": ["Perception miss: re-run detection or widen view", "Unstable grasp: re-open, re-align, recompute grasp", "Contact not detected: increase max depth slightly or retry alignment", "Placement slip: repeat lower-and-release with slower approach"],
    "termination": "Terminate after successful release and retreat, or after unrecoverable failure condition is reached."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm", "white_plate", "red_plate", "table_surface", "floor_mats"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1500},"description":"Perceive the white plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1500},"description":"Perceive the red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for approach."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500},"description":"Hover above the white plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Compute grasp for the plate rim."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500},"description":"Align end-effector precisely to grasp point."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute the grasp."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Verify plate is held."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.05,"timeout_ms":1500},"description":"Transit above red plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":0.005,"timeout_ms":1500},"description":"Center over red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.03,"force_threshold":10,"timeout_ms":1200},"description":"Controlled descent until contact."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the white plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off safely."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to ensure stability."}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 13, "conditions": 1, "depth": 2},
  "failure_modes": ["White plate not detected", "Grasp slips during lift", "Collision with plate edges", "No contact sensed over red plate", "Release occurs too high causing bounce"],
  "recovery_strategy": ["Re-run DetectObject with new view", "Re-open and recompute grasp pose", "Increase tolerance slightly then re-align", "Lower again with slightly larger max_depth", "Reattempt placement with slower approach"],
  "assumptions": ["Frames indicate the robot lifts the white plate and approaches the red plate; exact place pose key is implicit via alignment, not explicitly computed.", "Press force and yaw are not specified by instruction; chosen conservative defaults.", "Contact sheet indicates left-side red plate; offsets selected for safe clearance."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate lies fully supported by red plate", "Gripper opens only after contact", "Robot retreats without disturbing plates"],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1500}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":1500}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": ["Sequence","Pick"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.03,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": ["Sequence","OpenGripper"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
