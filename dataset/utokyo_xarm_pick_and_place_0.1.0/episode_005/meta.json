{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_005",
  "task_summary": "Detect the white plate, grasp it, and place it centered on the red plate, then retreat.",
  "task_long_description": {
    "overview": "A xArm manipulator must pick a white plate from the tabletop and place it onto a nearby red plate. The contact sheet shows approach to the white plate, grasp, transit toward the red plate, alignment above it, release, and retreat. The behavior emphasizes reliable perception of both plates, precise alignment before grasping and placing, and verification of a stable grasp before transfer. Timeouts and moderate widths/forces are chosen from the allowed bins.",
    "preconditions": ["Workspace clear except plates", "White and red plates visible to camera", "Gripper operational and initially open", "Robot within reachable workspace"],
    "stepwise_plan": ["Open gripper", "Detect white plate", "Compute grasp for white plate", "Move above and align to white plate", "Pick the plate", "Verify grasp stability", "Detect red plate", "Move above and align to red plate", "Place at center and release", "Retreat"],
    "success_criteria": ["White plate lifted without slip", "White plate released on top of red plate, roughly centered", "No collisions or drops", "Robot ends in a safe, retracted pose"],
    "failure_and_recovery": ["Perception failure of plate", "Grasp slip after lift", "Misalignment over red plate", "Obstruction during motion"],
    "termination": "Terminate when the plate is released on the red plate and the arm has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First secure grasp on the white plate appears established.",
        "predicts_next": "Transfer toward the red plate is expected immediately after.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","tabletop","green_mat"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["grasp_white_plate","red_plate_center"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"800"},"description":"Ensure gripper is open before approaching the object."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"1200"},"description":"Detect the white plate pose."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"grasp_white_plate"},"description":"Compute a grasp for the white plate and store it."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":"0","timeout_ms":"1200"},"description":"Move to a safe pre-grasp height above the plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.005","timeout_ms":"1200"},"description":"Precisely align before grasp."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_white_plate","timeout_ms":"1200"},"description":"Execute the grasp to lift the white plate."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify that the grasp is stable before moving."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":"1200"},"description":"Localize the red plate as the placement target."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":"0","timeout_ms":"1200"},"description":"Move to placement pre-pose above the red plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":"0.01","timeout_ms":"1200"},"description":"Align for placement."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_center","yaw_deg":"0","press_force":"10","timeout_ms":"1200"},"description":"Place the white plate centered on the red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.08","timeout_ms":"800"},"description":"Release the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"800"},"description":"Back off to a safe distance after placement."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 12, "conditions": 1, "depth": 2},
  "failure_modes": ["White plate not detected", "Grasp fails or slips", "Red plate pose inaccurate causing misplacement", "Collision with environment during transit"],
  "recovery_strategy": ["Re-detect object with another attempt", "Recompute grasp and retry pick", "Realign above red plate and reattempt place", "Retreat and choose alternative approach"],
  "assumptions": ["Frames show a successful pick of a white plate followed by placement near/on a red plate; yaw 0 and press_force 10 are heuristic defaults; offset_z set to 0 to comply with allowed values."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends resting on top of the red plate", "No drops, no collisions", "Arm retreats safely"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
