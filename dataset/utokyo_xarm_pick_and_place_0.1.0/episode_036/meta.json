{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_036",
  "task_summary": "Detect the white plate, grasp it with a top grasp, move above the red plate, gently lower until contact, place, release, and retreat.",
  "task_long_description": {
    "overview": "A fixed-base xArm with a parallel gripper must relocate a white plate onto a nearby red plate. The contact sheet shows approach from above, alignment near the white plate, grasping, transfer toward the red plate, and release. The behavior emphasizes reliable perception of both plates, careful approach with tight alignment, safe contact at the target surface, and a small retreat after placing to clear the workspace.",
    "preconditions": ["Workspace clear around plates", "Camera view available for both plates", "Gripper operational and initially open", "Known safe approach height above table"],
    "stepwise_plan": ["Detect white and red plates", "Open gripper and move above white plate", "Align precisely to grasp", "Compute grasp and pick the white plate", "Verify grasp stability", "Move above red plate", "Lower until contact and place at pose", "Open to release and retreat"],
    "success_criteria": ["White plate securely grasped", "White plate placed centered on red plate", "No collisions with table or robot", "Gripper released and arm retreated"],
    "failure_and_recovery": ["If detection fails, re-detect targets", "If grasp unstable, re-open and recompute grasp", "If contact not detected, reattempt lower with small offset", "If placement misaligned, lift and try again"],
    "termination": "Terminate when plate is released on the red plate and the arm has retreated and waited briefly."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate", "red_plate", "xarm", "gripper", "table"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["white_plate_grasp", "red_plate_pose"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Detect the white plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Detect the red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200},"description":"Pregrasp approach above white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500},"description":"Tight alignment for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Plan grasp for plate."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute pick."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Ensure object is held securely."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.06,"timeout_ms":1200},"description":"Move to placement area."},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"red_plate_pose","value":"center"},"description":"Define placement pose key."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.03,"force_threshold":10.0,"timeout_ms":1200},"description":"Controlled descent to surface contact."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_pose","yaw_deg":0,"press_force":10.0,"timeout_ms":1500},"description":"Place white plate on red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Release plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off from placement."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Brief pause for stability."}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 14, "conditions": 1, "depth": 2},
  "failure_modes": ["Target plates not detected", "Grasp slips during lift", "No contact sensed when lowering", "Placement misaligned due to pose error", "Collision with table edge"],
  "recovery_strategy": ["Re-run detection for both plates", "Open and recompute grasp, then retry pick", "Lift slightly and reattempt LowerUntilContact", "Recenter using MoveAbove and PlaceAt again", "Abort and retreat if collision risk detected"],
  "assumptions": ["Contact sheet indicates successful grasp then transfer toward the red plate; assumed the red plate is the intended placement target center accessed via key 'red_plate_pose'.", "ComputeGraspPose used for the white plate; placement pose is simplified via SetBlackboard because a dedicated placement pose computation node is not available."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends stacked on red plate", "Arm retreats clear of objects", "No forced errors triggered"],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.06,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_pose","yaw_deg":0,"press_force":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
