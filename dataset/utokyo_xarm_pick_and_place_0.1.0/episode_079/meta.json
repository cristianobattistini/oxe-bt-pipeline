{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_079",
  "task_summary": "Detect and grasp the white plate, then place it onto the red plate and retreat.",
  "task_long_description": {
    "overview": "A stationary manipulator with a parallel gripper must execute a pick-and-place using visual feedback. The target grasp object is a shallow white plate positioned on a green mat, and the destination is a nearby red plate or pad. Frames indicate a side approach and rim grasp, followed by a lift and lateral transfer toward the red area. The behavior emphasizes precise alignment before grasp, gentle contact during placement, and a short retreat to clear the workspace after release.",
    "preconditions": ["Robot initialized with free workspace", "Gripper operational and empty", "White plate and red plate within reachable workspace", "Camera providing sufficient visibility for both objects"],
    "stepwise_plan": ["Open gripper and localize the white plate", "Approach above the white plate at safe height", "Compute side grasp and align precisely", "Pick the white plate and verify grasp stability", "Localize red plate and get placement pose", "Move above red plate, lower until contact", "Place and release the white plate on red plate", "Retreat to a safe pose"],
    "success_criteria": ["White plate securely lifted without slip", "White plate placed centered on the red plate", "Gripper open and no collision after retreat"],
    "failure_and_recovery": ["If perception fails, repeat detection of target or destination", "If grasp unstable, re-open, recompute grasp, and retry", "If contact too early during placement, retreat slightly and retry lowering"],
    "termination": "Terminate after successful release on the red plate and completion of the retreat wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","table_surface"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["grasp_white_plate","place_on_red"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Prepare gripper for approach"},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"1200"},"description":"Locate the white plate"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":"0.05","timeout_ms":"1500"},"description":"Pre-grasp approach over plate"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"side","result_key":"grasp_white_plate"},"description":"Compute rim side grasp"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.005","timeout_ms":"1200"},"description":"Tight alignment before grasp"},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_white_plate","timeout_ms":"1500"},"description":"Execute grasp and lift"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify secure grasp"},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":"1200"},"description":"Locate placement surface"},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"place_on_red","value":"red_plate_top"},"description":"Record placement pose key"},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"place_on_red"},"description":"Ensure placement pose is set"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":"0.05","timeout_ms":"1500"},"description":"Move above destination"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.05","force_threshold":"10","timeout_ms":"1200"},"description":"Controlled descend to surface"},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"place_on_red","yaw_deg":"0","press_force":"10","timeout_ms":"1500"},"description":"Place plate at target pose"},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Release the plate"},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"800"},"description":"Back off from stack"},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":"500"},"description":"Stabilization pause after retreat"}
  ],
  "tree_stats": {"nodes_total": 17, "actions": 14, "conditions": 2, "depth": 2},
  "failure_modes": ["Object not detected or occluded", "Misalignment causing missed grasp", "Grasp slip during lift or transfer", "Premature contact with red plate during placement"],
  "recovery_strategy": ["Re-run DetectObject and re-approach", "Recompute grasp with side strategy and retry", "Open gripper and reattempt from pregrasp", "Slight retreat and re-lower with LowerUntilContact"],
  "assumptions": ["Frames suggest a side-rim grasp of the white plate; actual placement on the red plate is partially occluded, so the plan includes a gentle contact-based placement.", "Red circular object is treated as the intended red plate destination.", "No explicit speed/force instructions provided; defaults chosen from allowed bins."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends centered on red plate with no slip", "No collisions and stable retreat", "All actions complete without timeouts"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white_plate","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"place_on_red","yaw_deg":0,"press_force":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}
