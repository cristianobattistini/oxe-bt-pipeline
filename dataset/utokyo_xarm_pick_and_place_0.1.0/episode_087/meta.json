{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_087",
  "task_summary": "Pick the visible white plate, then place it centered on the red plate and retreat.",
  "task_long_description": {
    "overview": "A 6-DoF arm with a parallel gripper operates on a tabletop with a white plate and a nearby red plate. The robot must perceive the white plate, approach from above, compute a top grasp, and pick it securely. After lifting, it navigates to the red plate, performs a controlled descent until contact, then places the plate centered with a gentle press. Finally, it opens the gripper and retreats to clear the workspace.",
    "preconditions": ["Robot is homed and within reach of both plates", "Gripper functional and initially open", "Workspace free of unexpected obstacles", "Camera provides sufficient view of white plate"],
    "stepwise_plan": ["Scan and detect the white plate", "Move above and align precisely", "Compute top grasp and pick", "Verify grasp stability", "Move above the red plate", "Lower until contact", "Place at the center with neutral yaw", "Open gripper and retreat"],
    "success_criteria": ["White plate grasped without slip", "White plate placed centered on the red plate", "No collisions or plate tipping", "Arm retreats leaving plate stable"],
    "failure_and_recovery": ["If detection fails, rescan and retry", "If grasp is unstable, re-open and regrasp", "If contact not detected on red plate, adjust height and retry place", "On collision risk, retreat and re-approach"],
    "termination": "Terminate after a successful place and retreat or after exceeding retry budgets."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm", "white_plate", "red_plate", "table_surface", "mat_tiles"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["wp_grasp", "red_plate_center"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"800"},"description":"Ensure gripper is open before approach and release after placing"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"raster","max_attempts":"3","timeout_ms":"1500"},"description":"Active scan to localize the white plate"},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"1500"},"description":"Confirm detection and obtain pose estimate of white plate"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":"0.05","timeout_ms":"1500"},"description":"Move to a safe pregrasp position above the white plate"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"wp_grasp"},"description":"Compute a top-down grasp pose and store it"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.01","timeout_ms":"1500"},"description":"Refine alignment before grasp"},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"wp_grasp","timeout_ms":"1500"},"description":"Execute grasp motion and lift"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify grasp stability before transfer"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":"0.08","timeout_ms":"1500"},"description":"Move to a pre-place height above the red plate"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.05","force_threshold":"10","timeout_ms":"1500"},"description":"Controlled descent until surface contact is detected"},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_center","yaw_deg":"0","press_force":"10","timeout_ms":"1500"},"description":"Place plate centered on the red plate with neutral yaw"},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"1200"},"description":"Back away to clear the workspace"}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 11, "conditions": 1, "depth": 3},
  "failure_modes": ["White plate not detected", "Grasp slip during lift", "Collision with table or red plate rim", "No contact detected during place", "Pose estimate drift causing misalignment"],
  "recovery_strategy": ["Rescan with retry decorator", "Re-open and recompute grasp", "Increase approach height and re-align", "Micro-adjust Z and retry place", "Abort and retreat on repeated failures"],
  "assumptions": ["Frames show approach, grasp, and post-grasp motion; explicit placing onto the red plate is not clearly depicted, so the final place on the red plate is inferred to satisfy the instruction"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends up stably resting on the red plate center", "No slip observed after release", "Arm finishes at a safe retreat pose"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"white_plate","pattern":"raster","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"wp_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.08,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
