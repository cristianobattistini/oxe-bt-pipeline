{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_071",
  "task_summary": "Pick the white plate and place it onto the red plate using an xArm with a parallel gripper.",
  "task_long_description": {
    "overview": "A fixed-base xArm manipulator must locate a white plate on a tabletop, grasp it securely, and relocate it to rest on top of a red plate. The contact sheet shows approach, alignment, grasp, transfer, and placing motions near a red circular plate on a green work surface. The behavior emphasizes robust perception with scan-and-detect fallbacks, careful approach with tight alignment, gentle contact when placing, and a short retreat to avoid collisions after release.",
    "preconditions": [
      "Robot is homed and within workspace limits",
      "Gripper operational and empty",
      "White plate and red plate present on the table",
      "Camera viewpoint provides visibility of target areas"
    ],
    "stepwise_plan": [
      "Open gripper and detect the white plate (scan if needed).",
      "Compute a top grasp, move above, align precisely, and execute the pick.",
      "Lift slightly to clear obstacles and verify grasp stability.",
      "Detect the red plate (scan if needed), move above and align.",
      "Lower gently until contact is detected, open gripper to release.",
      "Retreat and briefly wait to ensure stability."
    ],
    "success_criteria": [
      "White plate is released stably over the center of the red plate",
      "No object slip or visible misalignment (> ~1â€“2 cm) after release",
      "Robot ends clear of the stack without contact"
    ],
    "failure_and_recovery": [
      "Perception failure: perform raster scan then re-detect.",
      "Grasp failure or slip: reopen, re-align, recompute grasp and retry.",
      "Misalignment during place: retreat slightly, re-approach and align.",
      "Premature contact while lowering: stop, re-lift, re-align and retry."
    ],
    "termination": "Terminate after successful release on the red plate and a safe retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper is closest to the white plate indicating grasp execution.",
        "predicts_next": "A lifting motion should follow to clear the surface.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","xarm_gripper","table","workcell_floor"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":800},"description":"Prepare gripper for grasp."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Initial detection of white plate."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"raster","max_attempts":3,"timeout_ms":1500},"description":"Fallback scan to improve visibility of white plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Re-detect after scan."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Plan a top grasp pose for the plate."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200},"description":"Position above the grasp point."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.01,"timeout_ms":1500},"description":"Tight alignment before grasp."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1200},"description":"Execute grasp using planned pose."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm secure grasp."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":800},"description":"Lift the plate safely."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Detect destination red plate."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_plate","pattern":"raster","max_attempts":3,"timeout_ms":1500},"description":"Fallback scan for red plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Re-detect after scan."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200},"description":"Move above the red plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":0.01,"timeout_ms":1500},"description":"Align over the red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Gently touch down on stack location."},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":800},"description":"Release the white plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back away from the stacked plates."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to ensure stability."}
  ],
  "tree_stats": {"nodes_total": 24, "actions": 18, "conditions": 1, "depth": 3},
  "failure_modes": [
    "White plate not detected due to glare/occlusion",
    "Grasp slip because of low friction",
    "Collision or misalignment during approach",
    "Premature contact while lowering to place"
  ],
  "recovery_strategy": [
    "Raster scan then re-detect target",
    "Recompute grasp and retry pick",
    "Retreat, re-approach with tighter tolerance",
    "Lift, realign, and attempt placement again"
  ],
  "assumptions": [
    "Contact sheet shows red circular plate clearly; white plate visibility is partial but implied by grasp frames.",
    "Top grasp is feasible; suction not used.",
    "Precise placement does not require specific yaw, so PlaceAt is replaced by controlled lowering + release."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White plate sits centered on red plate after release",
      "No residual contact with gripper",
      "Robot ends clear of objects"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
