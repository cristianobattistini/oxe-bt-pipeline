{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_011",
  "task_summary": "Pick the white plate, carry it, and place it centered on the red plate.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a parallel gripper must relocate a white plate onto a red plate on a tabletop. The robot first perceives both plates, approaches above the white plate, aligns precisely, and executes a pinch-style grasp. After lift-off, it navigates to the red plate area, descends until contact, and places the white plate with a light press before releasing and retreating. The scene shows clear visibility, modest clutter, and short reaches between pick and place sites.",
    "preconditions": [
      "White plate and red plate are visible and reachable",
      "Gripper starts empty and can open to 0.09 m",
      "Workspace free of blocking obstacles",
      "Robot has kinematic solutions for approach and retreat"
    ],
    "stepwise_plan": [
      "Open gripper and detect the white plate.",
      "Move above the white plate and align with tight tolerance.",
      "Compute grasp pose and perform the grasp.",
      "Verify the object is in the gripper and lift.",
      "Detect the red plate (target area).",
      "Move above the red plate.",
      "Lower until contact on the red plate area.",
      "Place at the target pose with gentle press, open gripper.",
      "Retreat to a safe height."
    ],
    "success_criteria": [
      "White plate is released stably centered on the red plate",
      "No slipping during transfer (stable grasp verified)",
      "End-effector retreats without collisions"
    ],
    "failure_and_recovery": [
      "If detection fails, re-run DetectObject then re-approach.",
      "If grasp fails, recompute grasp pose and retry Pick.",
      "If contact is not detected at place, re-lower or re-align above red plate."
    ],
    "termination": "Task ends after successful release and retreat or after unrecoverable failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_7","frame_5","frame_2","frame_6","frame_1","frame_4","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.20, "frame_1": 0.46, "frame_2": 0.62, "frame_3": 0.93,
      "frame_4": 0.40, "frame_5": 0.74, "frame_6": 0.58, "frame_7": 0.86, "frame_8": 0.18
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Clear grasp engagement with the white plate; end-effector aligned and contacting.",
        "predicts_next": "Lift/transfer motion expected immediately after grasp closure.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","table"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp","red_plate_center"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Open to wide aperture before perception and grasp."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"800"},"description":"Find white plate and publish pose."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":"0.05","timeout_ms":"1200"},"description":"Pregrasp approach along vertical."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.005","timeout_ms":"1200"},"description":"Tight alignment for reliable grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Plan pinch grasp on plate rim."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":"1500"},"description":"Execute grasp using planned pose."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Verify plate is secured."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":"800"},"description":"Find placement target area."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":"0.06","timeout_ms":"1200"},"description":"Move to pre-place height."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.05","force_threshold":"10.0","timeout_ms":"1200"},"description":"Gently descend until contact with red plate."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_center","yaw_deg":"0","press_force":"10.0","timeout_ms":"1500"},"description":"Place centered with light press."},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.06","timeout_ms":"500"},"description":"Release the white plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"800"},"description":"Back off to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 12, "conditions": 1, "depth": 2},
  "failure_modes": [
    "White plate not detected due to glare",
    "Misalignment causes missed grasp",
    "Plate slips during transfer",
    "Premature release or poor placement alignment"
  ],
  "recovery_strategy": [
    "Re-run detection and re-approach",
    "Recompute grasp and retry pick",
    "Re-align above red plate and re-lower",
    "Fallback to wider gripper open then reattempt"
  ],
  "assumptions": [
    "Pinch grasp on plate rim is feasible; suction not available.",
    "Exact place pose named 'red_plate_center' is a valid symbolic target.",
    "Frames suggest grasp then move left toward the red plate; minor blurs interpreted as lift/transfer."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Plate rests on the red plate without wobble",
      "No collisions with table or other items",
      "Robot retreats cleanly after release"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.06,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":10.0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
