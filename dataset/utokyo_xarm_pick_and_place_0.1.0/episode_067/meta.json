{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_067",
  "task_summary": "Pick the white plate and place it onto the red plate, then retreat.",
  "task_long_description": {
    "overview": "A fixed-base xArm manipulator must grasp a white ceramic plate lying on a tabletop and place it onto a nearby red plate/tray. The robot first ensures the gripper is open, perceives the white plate, computes a grasp, aligns precisely, and executes a stable pick. It then moves toward the red plate, lowers until contact, releases the plate, and retreats to clear the placement area. Movements should avoid collisions with the table and objects and maintain a gentle landing during placement.",
    "preconditions": ["Robot powered and homed", "Workspace clear except the two plates", "White plate within reach and visible", "Red plate on table and reachable", "Gripper operational"],
    "stepwise_plan": [
      "Open gripper",
      "Detect white plate",
      "Compute grasp pose (suction/pinch-like top grasp)",
      "Approach and align with tight tolerance",
      "Pick and verify stable grasp",
      "Lift slightly above table",
      "Detect red plate and move to its center",
      "Lower until contact is detected",
      "Open gripper to release on red plate",
      "Retreat a short distance"
    ],
    "success_criteria": [
      "White plate ends resting on the red plate",
      "No slip during transfer",
      "Final pose approximately centered on red plate",
      "Robot safely retreats without collision"
    ],
    "failure_and_recovery": [
      "Object not detected: re-run perception/scan",
      "Grasp failure or slip: reopen, recompute grasp, retry",
      "Contact not detected during place: increase max depth slightly then retry",
      "Misalignment over red plate: re-detect target and re-approach"
    ],
    "termination": "Terminate after successful release on the red plate and retreat completed."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","table","robot_arm"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Ensure gripper is open pre-grasp."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Perceive the white plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"suction","result_key":"white_plate_grasp"},"description":"Plan a top grasp for the plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500},"description":"Approach the grasp pose with tight tolerance."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1200},"description":"Execute the grasp based on computed pose."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify the grasp is stable before transport."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.1,"timeout_ms":800},"description":"Lift slightly to clear table."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":800},"description":"Perceive the red plate for placement."},
    {"id":"MoveTo","type":"Action","ports":{"target":"red_plate_center","timeout_ms":1500},"description":"Move above the red plate center."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":800},"description":"Descend gently until contact with red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back away to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 11, "conditions": 1, "depth": 2},
  "failure_modes": ["White plate not detected", "Misgrasp due to curvature/slippery surface", "Object slip during transport", "Incorrect alignment over red plate", "Premature release or no contact during place"],
  "recovery_strategy": ["Re-run detection/scan and re-localize targets", "Recompute grasp pose and retry pick", "If slip detected, stop, lower and regrasp", "Re-detect placement target and re-approach", "Increase allowed contact depth slightly and retry place"],
  "assumptions": ["The red circular tray in frames is treated as the 'red plate' placement target.", "A top suction-like grasp is feasible for the white plate; if suction is unavailable, a pinch grasp with similar approach would be used.", "Contact-sheet suggests successful pick then placement; mapping follows that progression."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate rests within the boundary of the red plate", "No collisions; stable release", "Robot retreats after release"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"red_plate_center","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"red_plate_center","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
