{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_000",
  "task_summary": "Pick the white plate and place it centered on the red plate.",
  "task_long_description": {
    "overview": "An xArm manipulator must pick up a white plate from a tabletop and place it onto a nearby red plate. The scene shows both plates on a green work surface with the gripper approaching from above. The plan requires reliable perception of both plates, a precise rim grasp of the white plate, a short lift/retreat, and a controlled placement over the red plate. Timing is moderate, tolerance is tight to avoid sliding, and forces are gentle to keep ceramic/plastic plates stable and undamaged.",
    "preconditions": ["Robot is homed with reachable workspace over both plates", "Gripper calibrated and functional", "White and red plates are on the table and not occluded", "TFs/camera extrinsics valid"],
    "stepwise_plan": ["Open gripper", "Detect white plate", "Move above white plate with vertical clearance", "Compute grasp pose and align", "Close gripper to grasp rim", "Verify grasp and lift slightly", "Detect red plate and move above it", "Place at the center of red plate with light press", "Open gripper to release", "Retreat vertically"],
    "success_criteria": ["White plate ends resting on red plate without slipping", "No collisions with table or environment", "Gripper releases plate cleanly"],
    "failure_and_recovery": ["If detection fails, re-detect and scan area", "If grasp unstable, reopen and recompute grasp", "If contact occurs prematurely, retreat and re-approach"],
    "termination": "Terminate when retreat completes after a successful release on the red plate."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate", "red_plate", "robot_gripper", "table"],
  "objects_from_instruction": ["white plate", "red plate"],
  "blackboard_keys": ["white_plate_grasp", "red_plate_center"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Open gripper to the maximum needed for plate rim."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Detect the white plate pose."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200},"description":"Move above the white plate with clearance."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Compute rim grasp for the plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Refine approach to grasp pose."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Close gripper to secure plate."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Check grasp stability before lifting."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Lift the plate off the table."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":800},"description":"Detect the red plate as placement target."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.05,"timeout_ms":1200},"description":"Move above the red plate."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Place white plate centered on red plate with gentle press."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Release the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Retreat after placement."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 12, "conditions": 1, "depth": 2},
  "failure_modes": ["Plate not detected due to glare", "Grasp slips on smooth rim", "Collision with table during approach", "Misalignment over red plate causing off-center placement"],
  "recovery_strategy": ["Re-run DetectObject with brief ScanForTarget if needed", "Reopen and recompute grasp with slight offset", "Abort approach and re-approach with higher clearance", "Recenter above red plate and reattempt PlaceAt"],
  "assumptions": ["Contact sheet suggests a shallow top-down grasp of a flat plate; we assume a pinch strategy suffices.", "Red disk in frames is the placement plate; center pose is available as 'red_plate_center'."],
  "evaluation_notes": {
    "expected_success_criteria": ["Final image would show white plate resting on red plate", "No object drop or excessive sliding", "Robot ends above work surface"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
