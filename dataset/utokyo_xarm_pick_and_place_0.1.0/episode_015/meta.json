{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_015",
  "task_summary": "Detect the white plate, grasp it from the side, move above the red plate, make gentle contact, release, and retreat.",
  "task_long_description": {
    "overview": "A robot arm with a parallel-jaw gripper must relocate a white plate onto a red plate lying on a green tabletop. The sequence begins with perception of both plates, followed by a careful approach and alignment to compute a feasible side grasp on the white plateâ€™s rim. After lifting, the robot transfers above the red plate, lowers until contact to avoid sliding, opens the gripper to place, and retreats to a safe height. The contact sheet shows approach, grasp, lift, transfer, and placement phases.",
    "preconditions": ["Workspace clear around plates", "Robot homed; gripper functional", "White and red plates within reachable workspace", "Camera provides visibility for detection"],
    "stepwise_plan": ["Open gripper", "Detect white and red plates", "Move above white plate", "Approach and align precisely", "Compute grasp and pick white plate", "Verify grasp stability", "Move above red plate", "Lower until contact", "Open gripper to place", "Retreat to safe distance"],
    "success_criteria": ["White plate released centered on red plate", "No slip during lowering", "Robot retreats without collision", "Perception detects both objects initially"],
    "failure_and_recovery": ["If detection fails, re-perceive scene and adjust view", "If alignment fails, re-approach with tighter tolerance", "If grasp unstable, re-open and retry pick", "If contact not detected, extend lowering within safe depth"],
    "termination": "Tree succeeds after releasing the plate and retreating; failure if any leaf returns FAILURE without recovery."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper closely aligned to the white plate rim indicating imminent grasping.",
        "predicts_next": "Lift and transfer should follow immediately after closure.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","tabletop"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Pre-open gripper before approaching white plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Detect the white plate."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":800},"description":"Detect the red plate (place target)."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200},"description":"Move to a pregrasp height above the white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Align gripper to plate rim with tight tolerance."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"side","result_key":"white_plate_grasp"},"description":"Compute a side-rim grasp pose and store to blackboard."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute grasp and lift."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify stable grasp after pick."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200},"description":"Transfer above the red plate to prepare for placement."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200},"description":"Lower gently until contact with red plate surface."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Release the white plate to place on the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Retreat to a safe height after placement."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 11, "conditions": 1, "depth": 2},
  "failure_modes": ["White plate not detected", "Misalignment causes edge collision", "Grasp slips due to rim geometry", "Premature release before contact", "Insufficient lowering to achieve contact"],
  "recovery_strategy": ["Re-run detection and adjust view", "Repeat approach with 0.005 tolerance", "Re-open and recompute grasp pose", "Lower further within max_depth, then retry release", "If unstable, place back and retry"],
  "assumptions": ["Frames indicate a side grasp of the white plate and transfer over a visible red plate on a tabletop. Final contact and release are inferred from end frames; exact center alignment cannot be measured from the contact sheet alone."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends resting on red plate", "No collisions with table or arm", "Stable grasp confirmed before transfer", "Contact established before release"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
