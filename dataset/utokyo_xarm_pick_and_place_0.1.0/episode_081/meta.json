{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_081",
  "task_summary": "Detect the white plate, grasp it from above, move to the red plate, make gentle contact, release, and retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator must pick a movable white plate from a tabletop workspace and place it onto a visible red plate, following a top-down grasp strategy and careful placement with contact sensing to avoid slip or impact. The behavior prioritizes reliable perception, alignment before grasp, grip verification, then a controlled approach over the red plate before release. The scene shows both plates within reach of the end-effector and no obstructing clutter. Timeouts are conservative, and perception is retried to mitigate momentary detection failures.",
    "preconditions": [
      "White plate and red plate are both visible and reachable by the arm",
      "Gripper is operational and can open to at least 0.09 m",
      "Workspace is static during execution",
      "Robot has calibrated kinematics and camera-to-base transform"
    ],
    "stepwise_plan": [
      "Open gripper and detect the white plate with retry",
      "Move above the white plate, compute a top grasp, align, and pick",
      "Verify grasp stability and that the plate is in the gripper",
      "Move above the red plate, align, and descend until contact",
      "Open the gripper to place and retreat upward"
    ],
    "success_criteria": [
      "White plate lifted without slip after grasp",
      "White plate placed resting on top of the red plate with gentle contact",
      "End-effector retreats clear of both plates without collision"
    ],
    "failure_and_recovery": [
      "If detection fails, retry perception up to three times",
      "If alignment fails, re-approach from the pre-grasp height",
      "If grasp is unstable, re-open, re-compute grasp, and reattempt",
      "If contact is not detected over the red plate, reset height and try again"
    ],
    "termination": "Terminate after successful release over the red plate followed by a safe retreat, or after unrecoverable failure due to repeated perception/grasp/contact failures."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","robot_gripper","table","workspace"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Open gripper to a safe width for approach and for release."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Perceive the white plate with a bounded timeout; wrapped with retry."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200},"description":"Move to a pre-grasp pose directly above the white plate."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Plan a top-down grasp for the white plate and store the pose."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Descend and align to meet tight pose tolerance before grasp."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute the grasp and lift to secure the white plate."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm that the grasp is mechanically stable."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Verify that the white plate is detected in the gripper after lift."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200},"description":"Move to a pre-place pose above the red plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align over the red plate with moderate tolerance before descent."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1500},"description":"Descend slowly until contact force indicates the stack surface."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the white plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away to a safe standoff distance."}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 11, "conditions": 2, "depth": 3},
  "failure_modes": [
    "White plate not detected or misdetected",
    "Misalignment leading to failed grasp or collision",
    "Plate slip during lift due to insufficient friction",
    "No contact detected above the red plate during placement"
  ],
  "recovery_strategy": [
    "Retry perception and adjust camera viewpoint if available",
    "Re-approach from pre-grasp height and re-align",
    "Re-open, recompute grasp, and reattempt pick",
    "Reset height and repeat descent-to-contact with adjusted tolerance"
  ],
  "assumptions": [
    "Frames show a reachable white plate near a red plate and support a top-down grasp; final placement onto the red plate is inferred though not fully visible in all tiles",
    "The red plate is stationary and can support stacking of the white plate",
    "No other objects obstruct the approach or placement paths"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White plate is firmly grasped, transported, and released centered enough on the red plate to remain at rest"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
