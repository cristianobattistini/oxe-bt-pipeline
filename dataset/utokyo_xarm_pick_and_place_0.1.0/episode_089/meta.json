{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_089",
  "task_summary": "Detect and grasp the white plate, then align over the red plate and place it down gently before retreating.",
  "task_long_description": {
    "overview": "A 6-DOF arm with a parallel gripper must locate a white plate on the workspace, grasp it from the top, and then transport and place it onto a visible red plate target area. The contact sheet shows approach, grasp, transfer, and placement near a red circular plate. The behavior emphasizes reliable perception, precise alignment, gentle contact while lowering, and a clean release followed by retreat to clear the workspace.",
    "preconditions": [
      "Robot initialized and homed",
      "Workspace clear except white_plate and red_plate",
      "Gripper operational and open",
      "Camera provides view of workspace"
    ],
    "stepwise_plan": [
      "Open gripper and perceive the white plate",
      "Compute grasp and approach with tight tolerance",
      "Execute pick and verify grasp stability",
      "Perceive and localize the red plate",
      "Approach above red plate, lower until contact, open gripper",
      "Retreat to a safe distance"
    ],
    "success_criteria": [
      "White plate securely lifted without slip",
      "Placement centered on red plate with gentle contact",
      "Arm retreats without disturbing objects"
    ],
    "failure_and_recovery": [
      "If detection fails, rescan with a different pattern",
      "If pick fails, recompute grasp and retry",
      "If contact not detected, bound lowering depth and re-approach"
    ],
    "termination": "Terminate after successful release on red plate and retreat completes"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","table"],
  "objects_from_instruction": ["white_plate","red_plate"],
  "blackboard_keys": ["white_plate_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Initialize by opening the gripper to maximum allowed width"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_plate","pattern":"spiral","max_attempts":"3","timeout_ms":"1500"},"description":"Scan workspace to localize the white plate"},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":"800"},"description":"Confirm white plate pose estimate"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"white_plate_grasp"},"description":"Compute a top-down grasp and store on blackboard"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":"0.005","timeout_ms":"1200"},"description":"Approach pregrasp and align precisely"},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":"1200"},"description":"Execute grasp and lift"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Check that the grasp is stable"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_plate","pattern":"grid","max_attempts":"3","timeout_ms":"1500"},"description":"Scan to find the red plate placement area"},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":"800"},"description":"Confirm red plate pose"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":"0.01","timeout_ms":"1200"},"description":"Move above target placement point"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.05","force_threshold":"10","timeout_ms":"1500"},"description":"Lower gently until surface contact is detected"},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Release the white plate"},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"800"},"description":"Back off to a safe pose"}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 12, "conditions": 1, "depth": 2},
  "failure_modes": [
    "White plate not detected due to occlusion or glare",
    "Grasp slip during lift",
    "Red plate localization inaccurate",
    "No contact detected within max_depth",
    "Timeouts during approach or scans"
  ],
  "recovery_strategy": [
    "Rescan with alternate pattern and adjust viewpoint if available",
    "Recompute grasp with adjusted tolerance and retry",
    "Re-estimate red plate pose and re-approach",
    "Abort lowering, retreat slightly, and realign before a second placement attempt"
  ],
  "assumptions": [
    "Frames show both a white plate and a red plate within the workspace; if ambiguity exists, targets are inferred from circular objects with the appropriate colors",
    "Top grasp is feasible for the white plate based on visible clearance",
    "Red plate is static and large enough to accept the white plate"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White plate ends resting centered on the red plate",
      "No collisions with table or arm self-collisions",
      "Retreat completed without disturbing placed items"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"white_plate","pattern":"spiral","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_plate","pattern":"grid","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
