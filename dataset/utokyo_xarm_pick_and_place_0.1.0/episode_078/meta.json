{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_078",
  "task_summary": "Detect, grasp the white plate, then move and place it onto the red plate, releasing and retreating safely.",
  "task_long_description": {
    "overview": "A 6-DOF manipulator must pick a white plate from the workspace and place it onto a visible red plate. The scene shows both plates on a flat surface near rubber mats and fixtures. The behavior emphasizes reliable perception, top-down grasping, gentle approach to contact during placement, and safe retreats before and after transport. The gripper opens before grasping and releases after contact at the destination. Timeouts are moderate to balance speed and reliability.",
    "preconditions": ["Robot and cameras initialized", "Workspace clear except target plates", "Gripper functional and calibrated", "Collision model loaded for table and fixtures"],
    "stepwise_plan": ["Perceive the white plate pose", "Open gripper and compute a top grasp", "Approach and align to grasp", "Execute grasp and verify stability", "Retreat from the table", "Perceive/confirm the red plate location", "Move above the red plate", "Lower until contact is detected", "Open gripper to place", "Retreat to a safe height"],
    "success_criteria": ["White plate securely lifted without slips", "White plate released over the red plate after contact", "No collisions with table or fixtures", "Robot ends in a safe, non-contact pose"],
    "failure_and_recovery": ["If detection fails, rescan area", "If grasp unstable, reattempt grasp with adjusted pose", "If contact not detected in allotted depth, abort lowering and retry", "If placement obstructed, back off and replan"],
    "termination": "Tree terminates when the white plate has been released over the red plate and the arm has retreated to safety."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate", "red_plate", "table_surface", "robot_arm", "rubber_mats"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["grasp_white"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Locate the white plate before grasping."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for approach and grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"top","result_key":"grasp_white"},"description":"Compute a top-down grasp for the white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.01,"timeout_ms":1500},"description":"Align end-effector to the computed grasp pose."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_white","timeout_ms":1200},"description":"Execute grasp using the computed key."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify the grasp is stable before transport."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Lift away to clear the table after grasp."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Confirm location of the red plate for placement."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.08,"timeout_ms":1200},"description":"Move to a safe height above the red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200},"description":"Descend gently until contact is detected."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the white plate onto the red plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe pose after placement."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 11, "conditions": 1, "depth": 2},
  "failure_modes": ["Object not detected", "Grasp slip during lift", "Contact not reached within depth", "Collision with nearby fixtures"],
  "recovery_strategy": ["Rescan or adjust viewpoint", "Recompute grasp and retry", "Abort descent, re-approach at new pose", "Immediate retreat and replan path"],
  "assumptions": ["White and red circular items are rigid plates; contact-sheet resolution may make the white item appear bowl-like", "Frames suggest approach to white plate first, then motion toward red plate; sequence aligned accordingly"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate ends centered on red plate", "No slip during transport", "No contact beyond gentle placement", "Final retreat completed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.08,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
