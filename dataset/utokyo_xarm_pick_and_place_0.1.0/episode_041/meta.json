{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_041",
  "task_summary": "Pick the white plate and place it centered onto the red plate.",
  "task_long_description": {
    "overview": "A fixed-base robotic arm with a parallel gripper must locate a white plate on a green work surface, grasp it reliably, and place it onto a nearby red plate. The scene shows both plates clearly with sufficient clearance. The behavior emphasizes reliable perception before grasping, careful approach to avoid sliding the plate, and gentle placement with brief contact detection to avoid impact. The robot should retract safely after releasing the plate, leaving the workspace tidy.",
    "preconditions": ["Workspace clear around plates", "Gripper operational and homed", "Camera providing view of plates", "Red plate positioned within reachable area"],
    "stepwise_plan": ["Detect white plate", "Open gripper and approach above white plate", "Compute grasp and align", "Pick and verify stable grasp", "Detect red plate and move above it", "Lower until contact and place", "Open gripper to release", "Retreat and wait briefly"],
    "success_criteria": ["White plate grasped without slipping", "White plate placed on top of red plate, roughly centered", "No collision with table or plates", "Robot retreats with gripper open"],
    "failure_and_recovery": ["If object not visible: re-detect then re-approach", "If grasp unstable: reopen gripper, recompute grasp, retry pick", "If contact not detected during place: lower again with small depth", "If pose blocked: retreat slightly and re-approach"],
    "termination": "End after successful release and retreat or after unrecoverable failure is reported."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First firm contact with the white plate rim is visible, indicating grasp onset.",
        "predicts_next": "Object lift/transfer should follow if grasp is stable.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate", "red_plate", "table_surface", "robot_gripper"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["white_plate_grasp", "red_plate_center"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":1200},"description":"Detect the white plate."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_plate"},"description":"Confirm the white plate is visible."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Open gripper before grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200},"description":"Pregrasp overhead pose."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"pinch","result_key":"white_plate_grasp"},"description":"Compute grasp for plate rim."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Align TCP to grasp."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1500},"description":"Execute grasp."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify grasp stability."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_plate"},"description":"Ensure plate is held."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":1200},"description":"Detect placement target (red plate)."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"red_plate"},"description":"Confirm red plate visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200},"description":"Move above red plate."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":1200},"description":"Controlled descent to contact."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"red_plate_center","yaw_deg":0,"press_force":10.0,"timeout_ms":1200},"description":"Place object centered on red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Release plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off safely."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief stabilization pause."}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 13, "conditions": 4, "depth": 2},
  "failure_modes": ["Object not detected", "Misalignment causes slip", "Grasp weak or unstable", "Collision during lowering", "Misplacement off the red plate"],
  "recovery_strategy": ["Re-run detection and re-approach", "Recompute grasp and retry pick", "Open gripper and reseat before another place attempt", "Retreat and try alternative approach height"],
  "assumptions": ["Frames show a successful pick of the white plate followed by placement onto the red plate; thus we use a rim pinch grasp and gentle placement. Symbols 'white_plate_grasp' and 'red_plate_center' are blackboard keys resolved by upstream perception."],
  "evaluation_notes": {
    "expected_success_criteria": ["Plate ends up on red plate; gripper open; arm retreated"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
