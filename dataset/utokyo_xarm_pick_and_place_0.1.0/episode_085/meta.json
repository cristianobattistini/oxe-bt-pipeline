{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_085",
  "task_summary": "Pick the white plate and place it onto the red plate.",
  "task_long_description": {
    "overview": "A table-top xArm manipulator must grasp a shallow white plate and relocate it onto a nearby red plate. The contact sheet shows approach, edge grasp, lift, transfer, alignment over the red plate, lowering, release, and retreat. The behavior emphasizes reliable perception of both plates, a side-edge grasp strategy, compliant lowering until contact, and a gentle press before release to ensure stable placement. Blackboard keys store a computed grasp for the white plate and a symbolic place pose centered on the red plate.",
    "preconditions": ["Robot homed and gripper functional", "Workspace clear except for one white plate and one red plate", "Cameras calibrated and objects detectable", "Red plate is a stable support"],
    "stepwise_plan": ["Open gripper and detect white and red plates", "Compute a side grasp for the white plate and approach above it", "Align, lower until contact, and close to secure", "Lift and move above the red plate", "Align over the center, lower until contact, then place with a light press", "Open gripper to release and retreat"],
    "success_criteria": ["White plate fully supported by red plate", "No slip during retreat", "Grasp remained stable during transfer"],
    "failure_and_recovery": ["Perception miss: rescan targets", "Grasp slip: retreat, reopen, recompute grasp, retry", "Placement misalignment: re-align and re-place", "Premature contact: retreat slightly and re-approach"],
    "termination": "Task ends after release and retreat wait completes without faults"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["white_plate","red_plate","robot_arm","gripper","table","workspace"],
  "objects_from_instruction": ["white plate","red plate"],
  "blackboard_keys": ["white_plate_grasp","place_pose"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Ensure gripper is open before approach"},
    {"id":"DetectObject(white)","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Detect white plate and publish pose"},
    {"id":"DetectObject(red)","type":"Action","ports":{"target":"red_plate","timeout_ms":800},"description":"Detect red plate and publish pose"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"side","result_key":"white_plate_grasp"},"description":"Compute side-edge grasp for the white plate"},
    {"id":"MoveAbove(white)","type":"Action","ports":{"target":"white_plate","offset_z":0.06,"timeout_ms":1200},"description":"Move above the white plate with clearance"},
    {"id":"ApproachAndAlign(white)","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Align end-effector to planned grasp"},
    {"id":"LowerUntilContact(pick)","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Descend gently until contact detected"},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Close gripper to secure the plate"},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"white_plate_grasp","timeout_ms":1200},"description":"Execute pick using computed grasp"},
    {"id":"Retreat(lift)","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Lift the plate vertically to clear the surface"},
    {"id":"SetBlackboard(place_pose)","type":"Action","ports":{"key":"place_pose","value":"red_plate_center"},"description":"Define placement pose key referencing red plate center"},
    {"id":"MoveAbove(red)","type":"Action","ports":{"target":"red_plate","offset_z":0.08,"timeout_ms":1200},"description":"Move above the red plate"},
    {"id":"ApproachAndAlign(red)","type":"Action","ports":{"target":"red_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align above the red plate center"},
    {"id":"LowerUntilContact(place)","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200},"description":"Lower until touching the red plate"},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"place_pose","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Place the white plate on the red plate with light press"},
    {"id":"OpenGripper(release)","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Release the plate"},
    {"id":"Retreat(final)","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe height"},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Brief pause to stabilize scene"}
  ],
  "tree_stats": {"nodes_total": 19, "actions": 18, "conditions": 0, "depth": 2},
  "failure_modes": ["Object not detected or pose inaccurate", "Grasp slips due to low friction", "Collision with the red plate during placement", "Plate not centered causing wobble"],
  "recovery_strategy": ["Re-run DetectObject and re-compute grasp", "Re-open gripper, adjust alignment, and retry pick", "Retreat and re-approach with tighter tolerance", "Re-align over center and re-place with reduced press force"],
  "assumptions": ["Frames show a successful pick of the white plate and placement onto the red plate; no conflicting cues observed", "Side-edge grasp is feasible given plate geometry", "Red plate is fixed and does not slide during press"],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate rests stably centered on red plate", "No slip during gripper opening and retreat", "No collisions or excessive force during lowering"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject", "attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove", "attrs":{"target":"white_plate","offset_z":0.06,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign", "attrs":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick", "attrs":{"grasp_key":"white_plate_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove", "attrs":{"target":"red_plate","offset_z":0.08,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"ApproachAndAlign", "attrs":{"target":"red_plate","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact", "attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper", "attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat", "attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
