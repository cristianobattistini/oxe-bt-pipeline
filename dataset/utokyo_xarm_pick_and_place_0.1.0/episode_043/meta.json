{
  "dataset_id": "utokyo_xarm_pick_and_place_0.1.0",
  "episode_id": "episode_043",
  "task_summary": "Detect, grasp the white plate, move to the red plate, place it gently, and retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator must relocate a white plate onto a red plate on a tabletop. The robot perceives both plates, approaches the white plate precisely, and uses a suction-style grasp to lift it. It then transfers over the red plate, lowers until contact to ensure stable placement without excessive force, releases, and retreats to a neutral pose. The behavior emphasizes reliable perception, precise alignment, and gentle placement consistent with fragile flatware.",
    "preconditions": ["Robot and workspace initialized", "Gripper operational; suction available", "Both white and red plates within reachable workspace", "Table surface unobstructed"],
    "stepwise_plan": ["Open gripper", "Detect white plate and red plate", "Move above white plate and align", "Compute grasp pose and pick the white plate", "Verify stable grasp", "Move above red plate and align", "Lower until contact and release", "Retreat and wait briefly"],
    "success_criteria": ["White plate ends centered on red plate", "No object dropped during transfer", "Robot ends clear of plates"],
    "failure_and_recovery": ["Perception fail → re-detect targets", "Unstable grasp → re-compute grasp and retry pick", "Premature contact while placing → retreat slightly and reattempt placement"],
    "termination": "Terminate after release, retreat, and short wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and lift of the white plate is visible.",
        "predicts_next": "transfer toward the red plate; confirms successful grasp.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pick up a white plate, and then place it on the red plate.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_plate", "red_plate", "robot_arm", "table"],
  "objects_from_instruction": ["white_plate", "red_plate"],
  "blackboard_keys": ["grasp_white"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Ensure gripper clearance before approach."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_plate","timeout_ms":800},"description":"Detect white plate pose."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_plate","timeout_ms":800},"description":"Detect red plate pose."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_plate","offset_z":0.03,"timeout_ms":1200},"description":"Pre-grasp hover above white plate."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_plate","tolerance":0.005,"timeout_ms":1200},"description":"Tight alignment for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_plate","strategy":"suction","result_key":"grasp_white"},"description":"Plan suction grasp for plate."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_white","timeout_ms":1200},"description":"Execute grasp and lift."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify grasp stability."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_plate","offset_z":0.04,"timeout_ms":1500},"description":"Move over target place area."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_plate","tolerance":0.01,"timeout_ms":1200},"description":"Align for placement."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":800},"description":"Gently touch down on red plate."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Release the white plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off from the plates."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Stabilization dwell after placement."}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 13, "conditions": 1, "depth": 2},
  "failure_modes": ["White plate not detected", "Red plate not detected", "Grasp fails or slips", "Collision during approach/placement", "Premature contact prevents proper placement"],
  "recovery_strategy": ["Re-run DetectObject and realign", "Re-compute grasp and retry Pick", "Retreat slightly and reattempt LowerUntilContact", "Abort if repeated failures exceed supervisor policy"],
  "assumptions": ["End-effector uses suction (visual cue) though gripper fingers are present; strategy set to 'suction'.", "Exact place pose is approximated via contact, not a precomputed pose key."],
  "evaluation_notes": {
    "expected_success_criteria": ["White plate visibly centered on red plate after release", "No object in gripper post-placement", "Robot clear of contact after retreat"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_plate","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_plate","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_white","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_plate","offset_z":0.04,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
