{
  "dataset_id": "asu_table_top_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_054",
  "task_summary": "Place the red bottle down onto the tabletop from the gripper, then retreat to a safe height.",
  "task_long_description": {
    "overview": "A UR-style manipulator works over a small white table containing multiple items (green bottle, red bottle, cans, cup). The goal is to put down the red bottle from the gripper onto the table surface in a controlled manner. The behavior first ensures the robot is actually holding the red bottle, then approaches the target place area above the table, aligns, lowers until contact, releases, and retreats. Movements are gentle and precise to avoid knocking nearby objects.",
    "preconditions": [
      "Robot is calibrated and referenced to the table frame.",
      "Red bottle is in the gripper at task start.",
      "Tabletop is clear enough at the chosen place spot."
    ],
    "stepwise_plan": [
      "Verify the red bottle is currently in the gripper.",
      "Move above the intended place spot on the table.",
      "Approach and align with small tolerance.",
      "Lower until contact with the surface is detected.",
      "Execute place-down operation and open gripper to release.",
      "Retreat upward to a safe distance and pause briefly."
    ],
    "success_criteria": [
      "Red bottle is resting stably upright on the tabletop.",
      "No collisions with neighboring objects.",
      "End-effector returns to a safe, non-contact pose."
    ],
    "failure_and_recovery": [
      "If object not detected in gripper, pause and signal regrasp routine.",
      "If contact is not detected within max depth, abort lower and retry placement at a nearby spot.",
      "If release fails, reopen gripper and gently shake within small bounds before retrying."
    ],
    "termination": "Tree terminates after retreat and brief wait once the red bottle is placed and released."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "End-effector is descending near the table center, consistent with the contact/placement phase.",
        "predicts_next": "Release and retreat actions should follow once contact is established.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "put down red bottle",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red bottle", "green bottle", "blue can", "orange can", "cup", "table"],
  "objects_from_instruction": ["red bottle"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"red_bottle"},"description":"Checks that the red bottle is currently held."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"place_on_table","offset_z":0.10,"timeout_ms":1500},"description":"Move to a pose above the table placement area."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"place_on_table","tolerance":0.01,"timeout_ms":1500},"description":"Refine approach and alignment before descent."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":2000},"description":"Descend until surface contact is detected."},
    {"id":"PlaceDown","type":"Action","ports":{"target":"red_bottle","timeout_ms":1000},"description":"Commit the place action for the held object."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Release the red bottle."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1000},"description":"Back away to a safe distance."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Short settle time after placement."}
  ],
  "tree_stats": {"nodes_total": 9, "actions": 7, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Bottle not actually in gripper at start",
    "Misalignment causing tip-over during release",
    "Contact not detected within max depth",
    "Nearby object collision during descent or retreat"
  ],
  "recovery_strategy": [
    "If not in gripper, branch to regrasp routine (not modeled here).",
    "Re-approach with slightly larger tolerance and retry lower.",
    "Choose alternate nearby placement spot and repeat.",
    "Slow down descent and increase monitoring of force threshold."
  ],
  "assumptions": [
    "Instruction implies the red bottle is already grasped; some frames appear to show the red bottle standing on the table. We therefore guard with ObjectInGripper to avoid false execution and prefer the visual sequence for approach/placement."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bottle placed upright within designated table area",
      "End-effector clear of objects after retreat",
      "No excessive contact forces recorded"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"place_on_table","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"place_on_table","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"place_on_table","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "place",
      "active_leaf": {"id":"PlaceDown","attrs":{"target":"red_bottle","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}
