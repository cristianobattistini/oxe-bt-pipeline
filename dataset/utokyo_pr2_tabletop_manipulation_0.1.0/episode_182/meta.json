{
  "dataset_id": "utokyo_pr2_tabletop_manipulation_0.1.0",
  "episode_id": "episode_182",
  "task_summary": "Detect the bread, grasp it with a side pinch, lift, and move above the nearby plate before retreating to a safe pose.",
  "task_long_description": {
    "overview": "A PR2-style manipulator works on a tabletop with a white plate and a bread-like pastry positioned on a mat. The goal is to pick the bread, confirming a stable grasp, then transfer it to a position above the plate as seen in the later frames, and finally back off to a safe distance. The grasp is planned as a side approach given the elongated geometry. No explicit placement onto the plate is completed in the frames; the sequence ends with hovering above the plate and retreating.",
    "preconditions": ["Robot is initialized and reachable workspace includes bread and plate", "Gripper operational and empty", "Camera provides view of bread and plate", "Table area is static without human interference"],
    "stepwise_plan": ["Detect bread on the table", "Open gripper and move above bread at a safe offset", "Compute side grasp and align precisely", "Execute pick and verify stable grasp", "Transfer to a hover pose above the plate", "Retreat to a safe distance"],
    "success_criteria": ["Bread detected and localized", "Gripper successfully closes around bread with stability check passing", "End-effector moves to a hover pose above plate with bread held", "Robot retreats without collisions"],
    "failure_and_recovery": ["If detection fails, rescan the area", "If alignment fails, recompute grasp and realign", "If grasp slips, reopen and retry with adjusted approach", "If transfer obstructed, select alternative hover height"],
    "termination": "Terminate when the robot is holding the bread, has reached the hover pose above the plate, and has executed the retreat motion."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "picking a bread",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["bread", "plate", "table", "robot_arm", "gripper"],
  "objects_from_instruction": ["bread"],
  "blackboard_keys": ["bread_grasp"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"bread","timeout_ms":1500},"description":"Detect and localize the bread on the tabletop."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper with wide opening for side grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bread","offset_z":0.05,"timeout_ms":1500},"description":"Move to a pregrasp hover above the bread."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bread","strategy":"side","result_key":"bread_grasp"},"description":"Compute a side grasp for elongated bread and store key."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bread","tolerance":0.01,"timeout_ms":1500},"description":"Approach bread and align within tight tolerance."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"bread_grasp","timeout_ms":1200},"description":"Execute grasp and lift slightly."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm the grasp is stable before transfer."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"plate","offset_z":0.07,"timeout_ms":1500},"description":"Transfer to a hover pose above the plate."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe pose after transfer."}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 1, "depth": 2},
  "failure_modes": ["Object not detected due to glare or occlusion", "Misalignment causing missed grasp", "Insufficient grip leading to slippage", "Collision with plate during transfer"],
  "recovery_strategy": ["Rescan scene and adjust view", "Recompute grasp and re-approach with relaxed tolerance then tighten", "Reopen and reattempt with modified approach angle", "Increase hover offset and replan path"],
  "assumptions": ["Frames show transfer toward plate without clear placement; instruction mentions only picking, so plan ends at hover and retreat", "Side grasp selected based on elongated bread shape and gripper approach from the right"],
  "evaluation_notes": {
    "expected_success_criteria": ["Bread is firmly in gripper, held above plate, and robot retreats safely"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"bread","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bread","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"bread","strategy":"side","result_key":"bread_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"bread","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"bread_grasp","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"plate","offset_z":0.07,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"plate","offset_z":0.07,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
