{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_095",
  "task_summary": "Detect the pot and its lid, approach from above, compute a top grasp, make contact, grasp the lid, and lift it vertically before retreating.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a small pot that has a metallic lid on a tabletop. The robot must visually localize the pot and lid, approach from a safe height, and align for a top grasp. After confirming the computed grasp pose, it lowers until contact, grasps, then lifts the lid vertically to clear the pot. Movements are cautious to avoid collisions with nearby objects or the pot rim. The robot finally retreats slightly and pauses to indicate task completion.",
    "preconditions": ["Pot and lid are on the table within reachable workspace", "Camera provides view of lid", "Gripper operational and empty"],
    "stepwise_plan": ["Detect pot and lid", "Move above lid with clearance", "Open gripper and compute top grasp", "Verify grasp pose is available", "Align and lower until contact", "Execute pick using computed grasp", "Lift vertically to clear rim", "Retreat slightly and pause"],
    "success_criteria": ["Lid is lifted off the pot by at least the clearance distance", "No collision with pot body or environment", "Object secure in gripper during lift"],
    "failure_and_recovery": ["Lid not visible → rescan and re-approach", "Contact not detected → repeat lower/align", "Grasp unstable → reopen and recompute grasp", "Collision risk → retreat and re-align"],
    "termination": "After lifting the lid and a short wait following a safe retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["pot","lid","robot_arm","gripper","table","workbench"],
  "objects_from_instruction": ["lid","pot"],
  "blackboard_keys": ["lid_grasp"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"pot","timeout_ms":800},"description":"Find the pot to anchor the scene."},
    {"id":"DetectObject","type":"Action","ports":{"target":"lid","timeout_ms":800},"description":"Detect the lid to grasp."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"lid"},"description":"Verify the lid remains in view."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"lid","offset_z":0.05,"timeout_ms":1200},"description":"Position above the lid with safe clearance."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Prepare gripper for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"lid","strategy":"top","result_key":"lid_grasp"},"description":"Compute top grasp pose for the lid knob/handle."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"lid_grasp"},"description":"Ensure grasp pose is on the blackboard."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid","tolerance":0.005,"timeout_ms":1200},"description":"Refine alignment before contact."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.04,"force_threshold":10,"timeout_ms":1200},"description":"Lower to detect gentle contact with lid."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"lid_grasp","timeout_ms":800},"description":"Close gripper and pick the lid."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":800},"description":"Lift the lid vertically to clear the rim."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back away slightly for safety."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Pause to signal completion."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 11, "conditions": 2, "depth": 2},
  "failure_modes": ["Lid not detected", "Misalignment causes slip", "Insufficient clearance hitting pot rim", "Grasp pose invalid due to occlusion"],
  "recovery_strategy": ["Re-detect and re-approach from above", "Recompute grasp and repeat alignment", "Increase clearance and retry lift", "Retreat, re-orient, and retry"],
  "assumptions": ["Frames show a small pot with a lid and a manipulator approaching from the right; sequence suggests approach, contact, lift. No contradictory cues to the instruction were observed."],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid visibly separated from pot", "Stable hold during lift", "No collision with pot rim or table"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"lid","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"pot","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"lid","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"PoseAvailable","attrs":{"key":"lid_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"lid_grasp","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}
