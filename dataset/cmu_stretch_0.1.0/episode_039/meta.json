{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_039",
  "task_summary": "Grasp the drawer handle and pull to open the drawer, then release and retreat.",
  "task_long_description": {
    "overview": "A Stretch-like mobile manipulator opens a kitchen cabinet drawer visible near a refrigerator. The robot must detect the drawer handle, approach with an aligned pre-grasp, close the gripper on the handle, and execute a straight pull to slide the drawer open. After achieving an opening, it verifies openness, releases the handle, and retreats to avoid collisions with the front panel. Timing and tolerances are moderate; the scene includes countertop items that should not be disturbed.",
    "preconditions": ["Robot in front of cabinet", "Drawer closed at start", "Handle visible within camera FOV", " workspace free of obstructions along pull axis"],
    "stepwise_plan": ["Detect drawer handle", "Confirm visibility", "Open gripper and move to pregrasp", "Align precisely to handle", "Close gripper to secure grasp", "Pull along drawer axis", "Verify drawer opened", "Release handle", "Retreat to a safe distance"],
    "success_criteria": ["Drawer visibly translated outward", "ContainerOpen condition satisfied for target drawer", "No collisions with countertop or fridge", "Robot ends clear of drawer front"],
    "failure_and_recovery": ["Handle not detected → rescan or adjust approach", "Misalignment → re-align and retry grasp", "Slip during pull → increase force and re-grasp", "Drawer jammed → reduce pull distance and try again"],
    "termination": "Terminate when drawer is confirmed open, gripper released, and robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper appears seated on the handle, indicating first stable contact and alignment.",
        "predicts_next": "A straight pull action should follow as the next step.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open drawer",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["drawer","drawer_handle","cabinet","countertop","fridge","robot_arm","robot_gripper"],
  "objects_from_instruction": ["drawer"],
  "blackboard_keys": ["pregrasp_drawer_handle","drawer_top"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"drawer_handle","timeout_ms":1200},"description":"Locate the drawer handle in the scene."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"drawer_handle"},"description":"Verify detected handle remains in view."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Prepare to grasp the handle."},
    {"id":"MoveTo","type":"Action","ports":{"target":"pregrasp_drawer_handle","timeout_ms":1500},"description":"Move to a pregrasp pose near the handle."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"drawer_handle","tolerance":0.005,"timeout_ms":1200},"description":"Close in and align to the handle with tight tolerance."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Secure the handle with moderate force."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"x","dist":-0.2,"timeout_ms":1500},"description":"Pull straight along drawer axis to open."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"drawer_top"},"description":"Confirm the drawer is open."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the handle."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 9, "conditions": 2, "depth": 2},
  "failure_modes": ["Handle not detected or occluded", "Approach misalignment causing slip", "Insufficient pull distance", "Drawer friction/jam", "Loss of visibility during motion"],
  "recovery_strategy": ["Perform ScanForTarget with raster pattern and retry", "Re-align using ApproachAndAlign and re-grasp", "Use smaller repeated MoveDelta pulls", "Reduce speed and reattempt after brief wait"],
  "assumptions": ["The handle is a bar-style handle reachable from the robot’s right side as seen in frames.", "The top drawer is the target; images show consistent orientation near a fridge.", "Frame evidence suggests progressive approach → grasp → pull."],
  "evaluation_notes": {
    "expected_success_criteria": ["Drawer translates outward visibly", "ContainerOpen condition true", "Robot ends clear with gripper open"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"drawer_handle","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"pregrasp_drawer_handle","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"drawer_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"x","dist":-0.2,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"x","dist":-0.2,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
