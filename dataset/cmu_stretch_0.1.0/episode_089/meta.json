{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_089",
  "task_summary": "Approach the dishwasher handle, grasp it, and pull to open the hinged door, then retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator approaches a stainless-steel dishwasher in a kitchen scene. The goal is to pull open the dishwasher door by using the horizontal bar handle. The robot first perceives and localizes the handle, then aligns its wrist yaw to match the bar, opens the gripper, reaches the handle, closes the gripper to secure the grasp, and executes an opening motion via an abstract container-opening primitive. Success is verified by checking that the container is open before the robot retreats slightly to clear the door.",
    "preconditions": ["Dishwasher is reachable by the arm", "Handle is visible to sensors", "No obstacles block the opening path", "Door is not latched or locked"],
    "stepwise_plan": ["Detect dishwasher handle", "Move to pregrasp near the handle", "Align end-effector and set yaw = 90Â°", "Open gripper and approach", "Close gripper to grasp the handle", "Open the hinged door using an opening primitive", "Verify door state is open", "Retreat to a safe distance"],
    "success_criteria": ["Dishwasher door angle increases from closed", "ContainerOpen(dishwasher_door) condition passes", "Robot ends in a collision-free retreat pose"],
    "failure_and_recovery": ["Perception fails: retry detect up to 3 times", "Misalignment: re-run ApproachAndAlign", "Slip during pull: reopen, regrasp, and try again", "Door resistance: reattempt OpenContainer with fresh alignment"],
    "termination": "Terminate when the door is confirmed open and the robot has retreated safely."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pull open a dishwasher",
  "instruction_to_ports": {
    "force": 30,
    "timeout_ms": 1500,
    "tolerance": 0.01,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["dishwasher_door", "dishwasher_handle", "kitchen_cabinet", "microwave", "fridge"],
  "objects_from_instruction": ["dishwasher"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"dishwasher_handle","timeout_ms":1200},"description":"Detect and localize the dishwasher handle."},
    {"id":"MoveTo","type":"Action","ports":{"target":"dishwasher_handle_pregrasp","timeout_ms":1500},"description":"Move near the handle to a safe pregrasp."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1200},"description":"Refine pose and align to the handle."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Rotate wrist yaw to match bar handle orientation."},
    {"id":"AtOrientation","type":"Condition","ports":{"yaw_deg":90},"description":"Verify the requested yaw is achieved."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Open gripper to clear the handle."},
    {"id":"CloseGripper","type":"Action","ports":{"force":30,"timeout_ms":800},"description":"Close gripper on the handle with moderate force."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"dishwasher_door","container_type":"hinged_door","timeout_ms":1500},"description":"Execute a pull to open the hinged dishwasher door."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"dishwasher_door"},"description":"Check that the dishwasher door is open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off to a safe distance after opening."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": ["Handle not detected", "Pregrasp unreachable", "Yaw misalignment causing slip", "Door latched or high resistance", "Collision with adjacent cabinetry"],
  "recovery_strategy": ["Retry detection up to 3 times", "Re-approach with stricter tolerance", "Re-open and regrasp the handle", "Slightly adjust yaw and attempt again", "Abort if repeated collisions detected"],
  "assumptions": ["Dishwasher opens as a downward hinged door (modeled as 'hinged_door')", "Visible horizontal bar handle suitable for pulling", "Frames show approach and contact; exact opening angle not fully visible"],
  "evaluation_notes": {
    "expected_success_criteria": ["ContainerOpen(dishwasher_door) becomes true", "No contact violations", "Final pose is safely retreated"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"dishwasher_handle","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"dishwasher_handle_pregrasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"AtOrientation","attrs":{"yaw_deg":90}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":30,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"dishwasher_door","container_type":"hinged_door","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"dishwasher_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
