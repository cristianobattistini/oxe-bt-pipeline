{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_015",
  "task_summary": "Detect the pot and its lid, grasp the lid’s handle with a pinch grasp, lift it vertically to open the pot, place the lid to the side, release, and retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator with a parallel gripper must open a small cooking pot by lifting its metal lid. The scene shows the pot on a tabletop with the robot approaching from the right. The robot should visually localize the pot and lid, align above the lid handle, execute a pinch grasp, and lift along +Z to clear the pot rim. After opening, the lid is placed on the nearby table surface, the gripper releases, and the arm retreats to a safe pose. Motions should be deliberate and precise to avoid bumping the pot.",
    "preconditions": ["Workspace is clear around pot", "Lid present with graspable handle/knob", "Robot gripper operational and empty", "Table surface available to place the lid"],
    "stepwise_plan": ["Detect pot and lid", "Open gripper and move above the lid handle", "Align precisely to handle", "Compute pinch grasp and pick", "Lift vertically to open", "Place lid on table to the side", "Release and retreat"],
    "success_criteria": ["Lid is removed from pot without tipping the pot", "No collision with surrounding objects", "Lid rests stably on table", "Robot ends in a safe configuration"],
    "failure_and_recovery": ["Perception fails → rescan or adjust viewpoint", "Grasp slips → reopen, recompute grasp, retry pick", "Collision/force spike → abort lift and retreat", "Placement unstable → reposition and place again"],
    "termination": "Terminate when the lid is no longer covering the pot and the robot has released it and retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "End-effector closely aligned above the lid handle; geometry of pot and knob clearly visible.",
        "predicts_next": "Grasp and vertical lift are imminent, confirming the intended open motion.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.01,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm","table","pot","lid","lid_handle","lid_side"],
  "objects_from_instruction": ["lid","pot"],
  "blackboard_keys": ["grasp_lid","lid_side"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"pot","timeout_ms":1500},"description":"Perceive the pot."},
    {"id":"DetectObject","type":"Action","ports":{"target":"lid","timeout_ms":1500},"description":"Perceive the lid."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for grasping."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"lid_handle","offset_z":0.05,"timeout_ms":1500},"description":"Move above the lid handle."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid_handle","tolerance":0.01,"timeout_ms":1500},"description":"Refine alignment for grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"lid_handle","strategy":"pinch","result_key":"grasp_lid"},"description":"Compute pinch grasp on the handle."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_lid","timeout_ms":1200},"description":"Close gripper and lift slightly."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":1200},"description":"Lift the lid vertically to open the pot."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"lid_side","yaw_deg":90,"press_force":10.0,"timeout_ms":1500},"description":"Move to side area to place the lid."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Release the lid."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 11, "conditions": 0, "depth": 2},
  "failure_modes": ["Object not detected", "Grasp misses handle/knob", "Lid collides with pot rim during lift", "Placement unstable or off-table"],
  "recovery_strategy": ["Retry detection with slight view change", "Recompute grasp and retry pick", "Lower and re-align before lifting", "Choose alternative place pose and re-place"],
  "assumptions": ["Frames show a small pot with a graspable lid knob; the chosen 'pinch' strategy targets the knob/handle.", "Side area on table is free for placing the lid."],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid fully clears pot opening", "No spillage or tipping", "Lid placed flat on table", "Robot ends in safe retreat"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"pot","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"lid","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"lid_handle","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_lid","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"lid_side","yaw_deg":90,"press_force":10.0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
