{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_114",
  "task_summary": "Detect the green garbage bin, approach the hinged lid, grasp its front edge, lift to open, verify it is open, then retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a green garbage bin positioned beside a table. The goal is to lift open the hinged bin lid. The robot first perceives the bin and lid, then moves above and aligns to the front edge where lifting torque is effective. It readies the gripper, pinches the edge, executes the opening motion, verifies the lid is open, and retreats to a safe distance. Timing uses discrete bins; alignment uses tight tolerance appropriate for edge contact. The sequence is grounded in the frames showing progressive approach and lid lifting.",
    "preconditions": [
      "Green bin and lid present and reachable",
      "Hinged lid moves upward without obstruction",
      "Robot gripper operational and calibrated",
      "Workspace around lid edge is clear"
    ],
    "stepwise_plan": [
      "Detect green bin and lid.",
      "Move above the lid and align to its front edge.",
      "Open then close gripper to secure a pinch on the edge.",
      "Execute container opening and lift upward.",
      "Verify lid is open.",
      "Retreat to a safe standoff."
    ],
    "success_criteria": [
      "Lid rotates upward to an open state",
      "ContainerOpen condition evaluates true",
      "Robot ends at retreat distance without collision"
    ],
    "failure_and_recovery": [
      "If detection fails, repeat perception and widen viewpoint.",
      "If alignment is off, re-approach with tighter tolerance.",
      "If grasp slips, reopen/close gripper and reattempt opening.",
      "If hinge resists, retry OpenContainer and slightly increase lift duration."
    ],
    "termination": "Terminate after ContainerOpen succeeds and the retreat action completes."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Tool is aligned near the lidâ€™s front edge, indicating imminent lift.",
        "predicts_next": "Gripper closure and opening motion are expected next.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_bin","bin_lid","bin_lid_front_edge"],
  "objects_from_instruction": ["green garbage can lid"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"green_bin","timeout_ms":1200},"description":"Find the green bin in the scene."},
    {"id":"DetectObject","type":"Action","ports":{"target":"bin_lid","timeout_ms":1200},"description":"Localize the bin lid."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bin_lid","offset_z":0.05,"timeout_ms":1500},"description":"Move to a safe pre-lift pose above the lid."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bin_lid_front_edge","tolerance":0.01,"timeout_ms":1500},"description":"Align the tool to the front edge for lifting."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bin_lid"},"description":"Verify the lid edge remains visible."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":400},"description":"Prepare gripper to approach edge."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Pinch the lid edge to secure contact."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500},"description":"Command the opening of the hinged bin lid."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":800},"description":"Lift upward along z to ensure clearance."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"green_bin"},"description":"Confirm the container is open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 9, "conditions": 2, "depth": 2},
  "failure_modes": [
    "Lid not detected due to glare or pose",
    "Misalignment causes slip on smooth lid edge",
    "Insufficient lift to overcome hinge friction",
    "Collision with table during approach"
  ],
  "recovery_strategy": [
    "Repeat detection from slightly different view",
    "Re-approach with tighter tolerance and reopen/close gripper",
    "Retry the open action and add incremental z-lift",
    "Abort and retreat if unexpected contact detected"
  ],
  "assumptions": [
    "The green bin lid is hinged and opens upward as seen in frames.",
    "A pinch grasp on the front edge suffices to lift the lid.",
    "No user-specified speed/force constraints; defaults chosen from allowed bins."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Lid clearly rotated open; ContainerOpen returns success",
      "Robot maintains stable grasp during lift",
      "Retreat completes without collision"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_bin","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"bin_lid","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bin_lid","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"bin_lid_front_edge","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"bin_lid"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
