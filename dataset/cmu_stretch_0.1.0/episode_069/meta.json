{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_069",
  "task_summary": "Approach the cabinet, grasp the drawer handle, and pull to open the drawer, then retreat and release.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a kitchen cabinet. The goal is to open a lower drawer. The sequence involves detecting the drawer handle, moving to a pre-grasp pose, opening the gripper, verifying visibility, aligning to the handle, grasping it, actuating an opening motion, retreating to avoid collision with the drawer front, and releasing. The frames show the gripper approaching a bar-style handle on wooden drawers beneath a countertop, consistent with a pull-to-open drawer mechanism.",
    "preconditions": ["Drawer is unlocked and unobstructed", "Handle is reachable within manipulator workspace", "Sensing provides a clear view of the handle"],
    "stepwise_plan": ["Detect drawer handle", "Move to pre-grasp pose", "Open gripper", "Verify handle visibility and alignment", "Align precisely to handle", "Close gripper on handle", "Execute open motion on drawer", "Retreat to safe distance", "Release handle"],
    "success_criteria": ["Drawer front translates outward visibly", "Gripper remains attached during pull", "Robot retreats without collision", "Handle is released at the end"],
    "failure_and_recovery": ["Perception failure → re-detect handle", "Misalignment → re-align and retry grasp", "Slip during pull → increase force and retry once", "Drawer blocked → abort and report"],
    "termination": "Stop when the drawer is confirmed open and the gripper has released after retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open drawer",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["drawer", "drawer_handle", "cabinet", "countertop", "robot_gripper"],
  "objects_from_instruction": ["drawer"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"drawer_handle","timeout_ms":1200},"description":"Detect the drawer handle."},
    {"id":"MoveTo","type":"Action","ports":{"target":"pregrasp_drawer","timeout_ms":1200},"description":"Move the end-effector to a pre-grasp pose near the handle."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Prepare gripper to approach the handle."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"drawer_handle"},"description":"Confirm that the handle is still visible."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"drawer_handle","tolerance":0.01,"timeout_ms":1200},"description":"Align the tool center point to the handle with tight tolerance."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Grasp the handle with moderate force."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"drawer","container_type":"drawer","timeout_ms":1500},"description":"Execute container-specific opening to pull the drawer out."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to avoid collisions after opening."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Release the handle at task end."}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 1, "depth": 2},
  "failure_modes": ["Handle not detected", "Reach or alignment error", "Gripper slips during pull", "Drawer obstructed or stuck"],
  "recovery_strategy": ["Re-run DetectObject and adjust view", "Re-align with ApproachAndAlign", "Increase force to 30 and retry grasp once", "Abort and notify if drawer does not move"],
  "assumptions": ["The visible furniture is a cabinet with pull-to-open drawers; handle is bar-style; frames show approach and partial opening consistent with the instruction."],
  "evaluation_notes": {
    "expected_success_criteria": ["Drawer translation outward > a few centimeters", "Stable grasp through pull", "Safe retreat and release"],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"drawer_handle","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"pregrasp_drawer","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"drawer_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
