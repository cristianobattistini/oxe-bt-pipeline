{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_034",
  "task_summary": "Detect the pot lid, approach and align, establish contact, grasp, then lift the lid upward and retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a small metallic pot placed on a box-like stand on a tabletop. The goal is to lift the potâ€™s lid. The robot must visually detect the lid, approach from above, align precisely, descend until contact is sensed, close the gripper to secure the lid, then lift vertically to clear the pot and retreat to a safe height. Timing and forces are moderate; precision during alignment is important to avoid bumping the pot.",
    "preconditions": ["Robot and camera calibrated", "Workspace clear around pot", "Lid accessible from above", "Gripper operational and empty"],
    "stepwise_plan": ["Detect the lid", "Open the gripper", "Move to pregrasp above the lid", "Align to the lid center", "Lower until contact is detected", "Close gripper to grasp lid", "Verify grasp stability", "Lift vertically", "Retreat to a safe distance"],
    "success_criteria": ["Lid securely held in gripper", "Lid lifted clear of pot without tipping the pot", "No collisions with surroundings"],
    "failure_and_recovery": ["If detection fails, rescan the area", "If contact not detected within limit, re-approach", "If grasp unstable, reopen and retry alignment", "If collision risk detected, abort and retreat"],
    "termination": "Terminate when the lid is lifted and the robot has retreated to a safe pose."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Tool is centered above the lid with minimal lateral offset, indicating contact approach.",
        "predicts_next": "Closing the gripper to secure the lid is the logical next step.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["pot", "lid", "robot_arm", "gripper", "box_platform", "table", "camera"],
  "objects_from_instruction": ["lid", "pot"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"pot_lid","timeout_ms":800},"description":"Locate the lid with vision."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Prepare gripper for grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"pot_lid","offset_z":0.1,"timeout_ms":800},"description":"Move to pregrasp above the lid."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"pot_lid","tolerance":0.01,"timeout_ms":1200},"description":"Center and align with the lid."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":800},"description":"Descend until contact with lid."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":500},"description":"Grasp the lid."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Check that the grasp is stable."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":800},"description":"Lift the lid upward."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Retreat to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 1, "depth": 2},
  "failure_modes": ["Lid not detected", "Contact missed causing slip", "Insufficient grip force", "Robot bumps pot during approach"],
  "recovery_strategy": ["Re-detect and re-approach from above", "Repeat lower-until-contact with smaller steps", "Reopen and regrasp with improved alignment", "Immediate retreat then replan path"],
  "assumptions": ["Frames show a small pot with a metallic lid on a box; no handle details visible, so a top pinch grasp is assumed.", "Lift distance and pregrasp height are set to 0.1 m as safe heuristics given table clearance."],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid clearly separated from pot and held in gripper", "No visible disturbance of pot placement"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"pot_lid","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"pot_lid","offset_z":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"pot_lid","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
