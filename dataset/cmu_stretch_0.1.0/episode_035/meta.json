{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_035",
  "task_summary": "Detect the drawer handle, approach and align, grasp the handle, pull to open the drawer, then retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator with a parallel gripper interacts with a wooden cabinet. The goal is to open a drawer visible beneath a countertop. The robot must first perceive the drawer handle, approach while staying aligned with the pulling direction, grasp the handle, and execute the opening motion. The contact sheet shows the gripper moving from approach to contact and pulling. Constraints include tight alignment at the handle and sufficient pulling distance without collision.",
    "preconditions": ["Robot is in front of the cabinet", "Drawer is closed and reachable", "Handle is visible to the camera", "Gripper operational"],
    "stepwise_plan": ["Detect the drawer handle", "Move to the handle pregrasp", "Refine pose and align with the handle axis", "Close gripper to secure handle", "Open the drawer", "Retreat to a safe distance"],
    "success_criteria": ["Drawer transitions from closed to open state", "No collisions with cabinet or environment", "Handle grasp is stable during pull", "Robot safely retreats after opening"],
    "failure_and_recovery": ["If handle not detected, re-perceive from a slightly different pose", "If alignment fails, re-run alignment with tighter tolerance", "If grasp slips, reopen and regrasp", "If drawer jams, reduce speed and try again"],
    "termination": "Terminate once the drawer is opened and the robot has retreated to a safe pose."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open drawer",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cabinet", "drawer", "drawer_handle", "countertop", "robot_gripper"],
  "objects_from_instruction": ["drawer"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"drawer_handle","timeout_ms":1500},"description":"Locate the drawer handle in the scene."},
    {"id":"MoveTo","type":"Action","ports":{"target":"drawer_handle","timeout_ms":1500},"description":"Move end-effector toward the handle."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"drawer_handle","tolerance":0.005,"timeout_ms":1500},"description":"Refine approach and align gripper with handle axis."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":1200},"description":"Grasp the handle with moderate force."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"drawer","container_type":"drawer","timeout_ms":1500},"description":"Execute the drawer opening motion (pull)."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off to a safe distance after opening."}
  ],
  "tree_stats": {"nodes_total": 7, "actions": 6, "conditions": 0, "depth": 2},
  "failure_modes": ["Handle not detected", "Misalignment causing slip", "Insufficient grasp force", "Drawer friction/jam", "Collision with cabinet face"],
  "recovery_strategy": ["Re-run DetectObject with slight view change", "Repeat alignment step", "Open then re-close gripper with higher force bin", "Attempt smaller incremental pulls", "Abort and retreat if unexpected force spikes"],
  "assumptions": ["Frames depict a pull-type drawer with a bar or recessed handle; OpenContainer('drawer') abstracts the pull. If the handle is recessed, the same plan still applies via grasping the lip."],
  "evaluation_notes": {
    "expected_success_criteria": ["Drawer visibly extends outward", "No error from force/torque safety monitors", "Robot ends in non-contact state"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"drawer_handle","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"drawer_handle","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"drawer_handle","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"drawer_handle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
