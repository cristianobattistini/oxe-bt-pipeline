{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_007",
  "task_summary": "Approach the green trash bin, locate the lid edge, grasp it, and lift to open the bin, then retreat and release.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a green garbage bin. The robot must detect the bin lid, approach from above, align to the lid’s edge, lightly grasp it, and execute an opening motion using a purpose-built container-opening primitive. The sequence is visible across nine frames: early approach, contact at the lid, then the lid opening with the bin mouth exposed. Safety and timing constraints are modest; the goal is a clean open without dropping the lid.",
    "preconditions": ["Robot base positioned within reach of the bin", "Bin lid is hinged and visible", "End-effector operational and empty", "Scene is static without human interference"],
    "stepwise_plan": ["Open gripper and scan for the green bin lid", "Move above the lid and align to the lid edge", "Verify visibility of the grasp edge", "Close gripper to secure edge", "Call opening primitive for bin lids", "Verify lid is open", "Retreat and release"],
    "success_criteria": ["Bin lid angle increases and opening is unobstructed", "ContainerOpen condition reports open", "Robot retreats without collision", "Gripper releases cleanly"],
    "failure_and_recovery": ["Lid not found → rescan via Retry", "Misalignment → re-approach and re-align", "Grip slips → reopen, re-align, re-grasp", "Lid jams → extend timeout and slightly increase approach offset"],
    "termination": "When the container state is open and the robot has safely retreated with gripper released."
  },
  "frame_ranking": {
    "order": ["frame_6","frame_5","frame_3","frame_4","frame_2","frame_7","frame_1","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.20, "frame_1": 0.32, "frame_2": 0.55, "frame_3": 0.86,
      "frame_4": 0.62, "frame_5": 0.90, "frame_6": 0.94, "frame_7": 0.48, "frame_8": 0.18
    },
    "rationale_per_frame": {
      "frame_6": {
        "now_evidence": "Lid clearly lifted; opening motion underway.",
        "predicts_next": "Retreat and release expected.",
        "uncertainty_reduction": "high"
      },
      "frame_5": {
        "now_evidence": "Firm contact on lid edge; grasp just executed.",
        "predicts_next": "OpenContainer primitive to lift the lid.",
        "uncertainty_reduction": "high"
      },
      "frame_3": {
        "now_evidence": "Alignment near the lid edge; approach complete.",
        "predicts_next": "Grasp and open sequence.",
        "uncertainty_reduction": "medium"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robotic arm", "green garbage bin", "hinged lid", "trash bag liner", "table nearby"],
  "objects_from_instruction": ["green garbage can", "lid"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Open fingers to maximum before and after task."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"green_bin_lid","pattern":"line","max_attempts":3,"timeout_ms":1200},"description":"Actively search for the green lid."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"green_bin_lid","offset_z":0.08,"timeout_ms":1500},"description":"Position tool above lid with safe clearance."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"green_bin_lid_edge","tolerance":0.01,"timeout_ms":1500},"description":"Close-in and align to the lid edge for grasping."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"green_bin_lid_edge"},"description":"Confirm the grasp edge is in view before closing."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Secure the lid edge with gentle force."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500},"description":"Execute the lid opening motion specialized for bins."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"green_bin"},"description":"Verify bin is now open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off safely after opening."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": ["Lid not detected", "End-effector misses edge", "Grip slip on smooth lid", "Lid hinge stiffness resists opening"],
  "recovery_strategy": ["Retry scan with limited attempts", "Re-approach with small offset", "Reopen gripper and re-grasp", "Increase timeout and repeat opening"],
  "assumptions": ["Lid is hinged and can be opened by lifting from the near edge", "The bin in frames is the instructed object; no conflicting green objects present"],
  "evaluation_notes": {
    "expected_success_criteria": ["ContainerOpen returns true", "Visual confirmation of open aperture", "No collisions during retreat"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_bin_lid","pattern":"line","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","RetryUntilSuccessful","ScanForTarget"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_bin_lid","pattern":"line","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","RetryUntilSuccessful","ScanForTarget"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_bin_lid","offset_z":0.08,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"green_bin_lid_edge","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"green_bin_lid_edge"}},
      "active_path_ids": ["Sequence","IsObjectVisible"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": ["Sequence","CloseGripper"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"green_bin"}},
      "active_path_ids": ["Sequence","ContainerOpen"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
