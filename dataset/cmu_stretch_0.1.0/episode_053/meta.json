{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_053",
  "task_summary": "Perceive the pot and its lid, grasp the lid knob from above, lift it vertically to clear the pot, and slightly retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator on a tabletop must lift the lid off a small metal pot. The scene shows a pot with a round lid/knob on a black stand while the robot approaches, aligns, makes contact, grasps, and raises the lid. The robot should use a top grasp, minimize force to avoid sliding the lid, and lift along the vertical axis to prevent collisions with the pot rim. After clearing, the robot can hold the lid suspended and retreat a short distance for safety.",
    "preconditions": ["Robot has free workspace around the pot", "Lid is visible from the camera view", "Gripper is operational and empty"],
    "stepwise_plan": ["Detect pot", "Detect lid", "Move above the lid", "Open gripper", "Approach and align to knob", "Lower until contact is detected", "Close gripper with low force", "Verify object in gripper", "Lift vertically to clear pot", "Retreat slightly"],
    "success_criteria": ["Lid is securely held in gripper", "Lid height is clearly above pot rim", "No collision or tipping of the pot", "Robot ends in a safe pose"],
    "failure_and_recovery": ["Perception fails → re-detect and re-approach", "Contact not detected → adjust approach and retry", "Grasp slips → reopen, realign, and regrasp", "Collision risk → stop and retreat, then replan"],
    "termination": "When the lid is grasped and lifted clear of the pot and the robot has retreated to a safe holding pose."
  },
  "frame_ranking": {
    "order": ["frame_5","frame_6","frame_3","frame_4","frame_7","frame_2","frame_1","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.18, "frame_1": 0.42, "frame_2": 0.55, "frame_3": 0.86,
      "frame_4": 0.73, "frame_5": 0.94, "frame_6": 0.88, "frame_7": 0.60, "frame_8": 0.20
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "End-effector closely aligned over the lid knob; pre-grasp pose evident.",
        "predicts_next": "Downward approach to establish contact before grasp.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": null,
    "tolerance": 0.01,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm","gripper","table","pot","lid","lid_knob","stand/base"],
  "objects_from_instruction": ["lid","pot"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"pot","timeout_ms":1200},"description":"Detect the pot location."},
    {"id":"DetectObject","type":"Action","ports":{"target":"lid","timeout_ms":1200},"description":"Detect the lid location."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"lid","offset_z":0.06,"timeout_ms":1500},"description":"Move to pre-grasp above the lid."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare wide gripper opening."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid","tolerance":0.01,"timeout_ms":1500},"description":"Align end-effector to lid knob."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.04,"force_threshold":10.0,"timeout_ms":1200},"description":"Descend until contact with knob."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Close gently to grasp the knob."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"lid"},"description":"Verify the lid is grasped."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.12,"timeout_ms":1200},"description":"Lift lid vertically."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off to a safe holding pose."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 9, "conditions": 1, "depth": 2},
  "failure_modes": ["Lid not detected", "Alignment off causing slip", "Insufficient grip force", "Collision with pot rim", "Over-travel without contact"],
  "recovery_strategy": ["Re-run perception and re-approach", "Adjust tolerance and approach again", "Reopen and regrasp with stable contact", "Abort motion and retreat then retry", "Limit descent depth and re-check contact"],
  "assumptions": ["Frames show a lid with a central knob suitable for a top grasp; no placement after lift is required.", "Robot can accurately move along z to lift vertically."],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid raised above pot rim by >5 cm", "ObjectInGripper('lid') true", "No collisions observed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"pot","timeout_ms":1200}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"lid","timeout_ms":1200}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"lid","offset_z":0.06,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.04,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": ["Sequence","CloseGripper"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.12,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","MoveDelta"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.12,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","MoveDelta"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
