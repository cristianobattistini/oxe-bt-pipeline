{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_004",
  "task_summary": "Approach the green trash bin, align to its hinged lid, lift it open, confirm it is open, then retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator with a parallel gripper interacts with a green garbage bin beside a table. The robot must perceive the bin’s lid, approach and align to it from the front-right, then lift the hinged lid open. After issuing the open action, it briefly waits and verifies that the container state is open. Finally, the robot retreats to clear the workspace. The contact sheet shows the arm advancing toward the lid, then the end-effector near the lid edge and slightly retracted.",
    "preconditions": [
      "Green bin and hinged lid present within workspace",
      "Lid initially closed",
      "Reachable approach path with no collisions with table"
    ],
    "stepwise_plan": [
      "Detect the bin lid.",
      "Approach and align to the lid edge.",
      "Move to a safe pre-lift pose above the lid.",
      "If the bin is already open, skip; otherwise set yaw and open the lid.",
      "Wait briefly and verify open state.",
      "Retreat to a standby distance."
    ],
    "success_criteria": [
      "ContainerOpen(green_bin) evaluates success",
      "End-effector not in contact after retreat",
      "No collisions with table or bin body"
    ],
    "failure_and_recovery": [
      "If detection is noisy: retry detection up to 2 times.",
      "If OpenContainer does not result in an open state: the fallback re-check fails, leading to tree failure for external handling."
    ],
    "termination": "Tree succeeds when the bin is verified open and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First tight alignment near the lid corner is visible.",
        "predicts_next": "Opening action is imminent; gripper orientation adjustment expected.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_bin","green_bin_lid","table","robot_gripper","hinge_area"],
  "objects_from_instruction": ["green garbage can lid"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"green_bin_lid","timeout_ms":1200},"description":"Visual detection of the bin lid."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"green_bin_lid","tolerance":0.01,"timeout_ms":1500},"description":"Cartesian approach while aligning to the lid edge."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"green_bin_lid","offset_z":0.05,"timeout_ms":1200},"description":"Shift to a pre-lift pose above the lid."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"green_bin"},"description":"Checks whether the bin is already open."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Rotate the tool about yaw for better lift leverage."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500},"description":"Execute lid opening maneuver."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Settle briefly to allow state change sensing."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 7, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Lid not detected due to glare or pose",
    "Insufficient clearance near table edge",
    "Yaw misalignment causing slip during lift",
    "Hinge resistance prevents full opening"
  ],
  "recovery_strategy": [
    "Built-in retry on detection (2 attempts)",
    "Re-check container state after open action",
    "Fail fast for upstream supervisor to replan approach or increase attempts"
  ],
  "assumptions": [
    "The green bin lid is hinged and opens upward; frames show approach near the lid edge.",
    "Target names 'green_bin' and 'green_bin_lid' map to the visible object in the frames.",
    "Yaw 90° provides better edge contact; handle is not distinctly visible in frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["ContainerOpen(green_bin) returns success and retreat completes"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_bin_lid","timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","RetryUntilSuccessful","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"green_bin_lid","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_bin_lid","offset_z":0.05,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"green_bin"}},
      "active_path_ids": ["MainTree","Sequence","Fallback","ContainerOpen"]
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"SetTCPYaw","attrs":{"yaw_deg":90}},
      "active_path_ids": ["MainTree","Sequence","Fallback","Sequence","SetTCPYaw"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","Fallback","Sequence","OpenContainer"]
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": ["MainTree","Sequence","Fallback","Sequence","Wait"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["MainTree","Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["MainTree","Sequence","Retreat"]
    }
  ]
}
