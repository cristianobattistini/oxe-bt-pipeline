{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_025",
  "task_summary": "Detect the cabinet drawer handle, approach and align, grasp it, pull to open the drawer, then retreat and release.",
  "task_long_description": {
    "overview": "A mobile manipulator (Hello Robot Stretch) operates at a kitchen counter with wooden cabinet drawers. The goal is to open a drawer by pulling its handle. The robot must first perceive the drawer handle, move to a pre-grasp pose, align precisely, and form a stable grasp. It then performs the opening by executing a controlled pull along the drawer axis, retreats slightly to avoid collision, and releases. Timeouts and retries are set to handle minor perception noise.",
    "preconditions": [
      "Drawer and handle are visible from the current camera view",
      "Workspace around handle is unobstructed",
      "Robot gripper is operational and can open to 0.09 m"
    ],
    "stepwise_plan": [
      "Search/detect the drawer handle with limited retries.",
      "Open gripper and move to a pregrasp near the handle.",
      "Approach and align with tight tolerance.",
      "Close gripper with moderate force to secure the handle.",
      "Execute drawer opening using the container primitive.",
      "Retreat from the drawer front.",
      "Release the handle."
    ],
    "success_criteria": [
      "Drawer translates outward from the cabinet face",
      "No loss of grasp during pull",
      "Gripper and drawer avoid collisions with surroundings"
    ],
    "failure_and_recovery": [
      "Handle not detected: retry detection up to 3 times",
      "Misalignment: reattempt approach and align",
      "Slip during pull: reopen, reapproach, and regrasp",
      "Drawer jam: back off and retry opening with a new alignment"
    ],
    "termination": "Terminate when the drawer is confirmed open by motion and the gripper has safely released."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact with handle; gripper aligned to pull direction",
        "predicts_next": "pull actuation will follow after securing grasp",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open drawer",
  "instruction_to_ports": {
    "force": 20,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["drawer", "drawer_handle", "cabinet", "countertop", "robot_arm", "fridge"],
  "objects_from_instruction": ["drawer"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"drawer_handle","timeout_ms":1200},"description":"Detect the drawer handle in the scene."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Prepare gripper with wide opening before approach."},
    {"id":"MoveTo","type":"Action","ports":{"target":"drawer_handle_pregrasp","timeout_ms":1500},"description":"Move to pregrasp near the handle."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"drawer_handle","tolerance":0.005,"timeout_ms":1500},"description":"Align the gripper precisely with the handle."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Secure the handle with moderate force."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"drawer_A","container_type":"drawer","timeout_ms":1500},"description":"Pull to open the drawer using container primitive."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away from the opened drawer."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":400},"description":"Release the handle after opening."}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 0, "depth": 3},
  "failure_modes": [
    "Drawer handle not detected",
    "Approach misalignment causing missed grasp",
    "Handle slip during pull",
    "Drawer sticks or jams mid-pull"
  ],
  "recovery_strategy": [
    "Retry detection (up to 3 attempts)",
    "Re-approach with tighter tolerance",
    "Reopen, re-align, and regrasp",
    "Retreat slightly and retry OpenContainer"
  ],
  "assumptions": [
    "Frames show a bar-style handle on a wooden cabinet drawer; opening motion is a pull along the camera/rightward axis.",
    "No explicit sensor signal for ‘drawer open’; we infer success from motion and retreat."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Drawer visibly translates outward",
      "Gripper remains attached until after retreat",
      "No collisions with countertop or fridge"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"drawer_handle","timeout_ms":1200}},
      "active_path_ids": ["MainSequence","RetryUntilSuccessful","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"drawer_handle_pregrasp","timeout_ms":1500}},
      "active_path_ids": ["MainSequence","MoveTo"]
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"drawer_handle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": ["MainSequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": ["MainSequence","CloseGripper"]
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer_A","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": ["MainSequence","OpenContainer"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer_A","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": ["MainSequence","OpenContainer"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer_A","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": ["MainSequence","OpenContainer"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["MainSequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":400}},
      "active_path_ids": ["MainSequence","OpenGripper"]
    }
  ]
}
