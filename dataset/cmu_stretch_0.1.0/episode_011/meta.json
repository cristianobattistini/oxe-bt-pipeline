{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_011",
  "task_summary": "Perceive the pot lid, approach and grasp its handle from the top, then lift the lid upward and retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator on a tabletop must lift a metallic lid from a small pot. The sequence begins with perception of the lid, computes a top grasp, and aligns the gripper above the handle. After a careful descent to contact, the gripper closes with low force to avoid slipping. The robot verifies grasp stability, raises the lid vertically to clear the pot, and retreats slightly to avoid collisions. The scene includes a pot with lid on a box-like stand and the robot approaching from the right.",
    "preconditions": ["Lid is present on the pot and reachable", "Gripper is empty and operational", "Workspace is clear around pot", "Camera view of lid available", "Robot base pose stable"],
    "stepwise_plan": ["If lid not visible, scan to localize", "Detect lid and compute a top grasp pose", "Open gripper and approach/align over handle", "Lower until contact is detected", "Close gripper with low force", "Check grasp stability", "Lift vertically to clear pot", "Retreat slightly and wait to settle"],
    "success_criteria": ["Lid leaves the pot by at least 0.1 m", "Object remains in gripper during lift", "No collisions with pot or table", "Robot ends in a safe pose"],
    "failure_and_recovery": ["If not visible, perform spiral scan again", "If contact not detected, repeat approach/lower", "If grasp unstable, reopen and recompute grasp", "If lift blocked, increase clearance and retry"],
    "termination": "Terminate after lifting the lid clear of the pot and brief settling wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Arm is aligned near the lid with end-effector close to handle, indicating verified positioning.",
        "predicts_next": "Descent to touch followed by closing the gripper.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["pot","lid","lid_handle","robot_arm","gripper","table","stand_box"],
  "objects_from_instruction": ["lid","pot"],
  "blackboard_keys": ["grasp_lid_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"lid"},"description":"Checks if the lid is already visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"lid","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Active scan to localize the lid if not visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"lid","timeout_ms":1200},"description":"Detect lid and update pose estimates."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"lid","strategy":"top","result_key":"grasp_lid_top"},"description":"Compute a top grasp over the lid handle."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"grasp_lid_top"},"description":"Verify that the computed grasp pose is available."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare gripper for grasp."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid","tolerance":0.01,"timeout_ms":1500},"description":"Move to pregrasp and align over the lid."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":5.0,"timeout_ms":1200},"description":"Descend gently until contact with the lid handle."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":1200},"description":"Close gripper with low force on the handle."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Confirm that the grasp is stable."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":1200},"description":"Lift the lid vertically to clear the pot."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Retreat slightly away from the pot."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief settle to ensure stability."}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 10, "conditions": 3, "depth": 3},
  "failure_modes": ["Lid not detected due to glare or occlusion", "No contact detected during descent", "Grasp slips on smooth handle", "Collision with pot rim during lift"],
  "recovery_strategy": ["Re-run spiral scan and detection", "Repeat approach/lower with smaller tolerance", "Reopen and recompute a new grasp", "Lift higher before retreating"],
  "assumptions": ["Frames show a pot with a metallic lid and accessible handle; instruction matches visuals; using a top grasp is feasible given handle orientation."],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid is held in gripper and raised above pot rim by â‰¥0.1 m", "No collisions, stable grasp maintained"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"lid","pattern":"spiral","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":5.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
