{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_126",
  "task_summary": "Grasp the potâ€™s lid by its handle and lift it upward to open the pot.",
  "task_long_description": {
    "overview": "A mobile manipulator approaches a small pot on a table and opens its hinged lid by lifting upward at the handle. The sequence begins with perceiving the lid, then positioning above it, computing a pinch grasp on the handle, and aligning precisely. After confirming contact, the gripper closes, the grasp is verified, and the arm lifts the lid to open it before retreating slightly to avoid collisions. Movements and timings are conservative to suit the tight tabletop workspace and small handle geometry.",
    "preconditions": ["Robot is within reach of the pot", "Workspace is clear of obstacles near the lid", "Camera provides view of the lid", "Gripper is operational and empty"],
    "stepwise_plan": ["Perceive or search for the lid", "Open gripper and move above the lid", "Compute grasp pose for the handle and align", "Lower until contact then close gripper", "Verify grasp stability", "Lift lid vertically to open", "Retreat to a safe pose"],
    "success_criteria": ["Lid is lifted open above the pot rim", "Grasp remains stable during lift", "No collision with pot or table"],
    "failure_and_recovery": ["Lid not detected: perform scan and retry", "Misalignment or contact failure: realign and reattempt approach", "Slip after closing: reopen, recompute grasp, retry", "Collision risk detected: retreat and replan"],
    "termination": "Terminate when lid is open and the arm has performed a short retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["pot","lid","lid_handle","robot_arm","table"],
  "objects_from_instruction": ["lid","pot"],
  "blackboard_keys": ["grasp_lid"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"lid"},"description":"Checks whether the lid is currently visible to the perception system."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"lid","pattern":"grid","max_attempts":"3","timeout_ms":"1200"},"description":"Active search for the lid if not immediately visible."},
    {"id":"OpenGripper","type":"Action","ports":{"width":"0.09","timeout_ms":"500"},"description":"Prepare the gripper for grasp by opening to the maximum needed width."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"lid","offset_z":"0.06","timeout_ms":"1200"},"description":"Move to a pregrasp pose above the lid."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"lid_handle","strategy":"pinch","result_key":"grasp_lid"},"description":"Compute a pinch grasp on the lid handle and store it on the blackboard."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid_handle","tolerance":"0.005","timeout_ms":"1500"},"description":"Approach the handle and align within tight tolerance."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":"0.02","force_threshold":"10","timeout_ms":"1200"},"description":"Descend to make gentle contact with the handle before closing."},
    {"id":"CloseGripper","type":"Action","ports":{"force":"20","timeout_ms":"800"},"description":"Close the gripper to grasp the handle."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verify that the grasp is stable before lifting."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":"0.1","timeout_ms":"1200"},"description":"Lift upward along z to open the lid."},
    {"id":"Retreat","type":"Action","ports":{"distance":"0.1","timeout_ms":"1200"},"description":"Back away slightly to a safe pose after opening."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 2, "depth": 3},
  "failure_modes": ["Lid not detected due to glare or occlusion", "End-effector misaligned with handle causing missed grasp", "Slip during lift due to low clamping force", "Collision with pot rim during lift"],
  "recovery_strategy": ["Trigger scan and re-detect", "Recompute grasp and re-approach with tighter tolerance", "Increase force gradually and retry", "Retreat, raise clearance, and reattempt lift"],
  "assumptions": ["The lid has a graspable handle suitable for a pinch grasp and is hinged so lifting opens it; frames suggest approach from the side and upward lift."],
  "evaluation_notes": {
    "expected_success_criteria": ["Visible separation between lid and pot while gripper remains attached", "No collisions or dragging along the rim", "Robot retreats to a safe distance"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"lid","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"lid"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"lid","offset_z":0.06,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid_handle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
