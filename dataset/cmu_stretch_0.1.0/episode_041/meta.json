{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_041",
  "task_summary": "Detect the green trash bin, grasp the lid edge, and open the bin lid upward; if already open, do nothing.",
  "task_long_description": {
    "overview": "A mobile manipulator approaches a green garbage bin placed beside a table. The goal is to lift open the bin’s hinged lid. The robot first localizes the bin, moves the end-effector above the lid, aligns to the lid edge, and forms a pinch grasp. After securing the edge, it actuates an opening motion (using the container primitive) to rotate the lid upward, then retreats slightly and waits briefly to confirm stability. If the lid is already open, the behavior terminates early.",
    "preconditions": ["Robot has clear access to the bin front/side", "Camera and perception active", "Gripper operational and empty", "Lid hinge unobstructed"],
    "stepwise_plan": ["Detect green_bin", "Move above green_bin_lid with small clearance", "Align to lid edge", "Open gripper and compute grasp pose", "Pick using pinch at edge", "Open container of type bin_lid", "Retreat and stabilize"],
    "success_criteria": ["Lid visibly rotated upward away from rim", "No object slip during opening", "Robot retreats without collision", "ContainerOpen condition would evaluate true at end"],
    "failure_and_recovery": ["Bin not detected → retry detection/scan", "Misalignment → re-approach and realign", "Grasp slip → reopen gripper, recompute grasp, retry pick", "Lid jammed → increase approach clearance and retry opening"],
    "termination": "Tree succeeds when the lid is opened or is already open; it fails on repeated timeouts or unrecoverable perception/grasp errors."
  },
  "frame_ranking": {
    "order": ["frame_6","frame_5","frame_3","frame_2","frame_4","frame_7","frame_1","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.20, "frame_1": 0.45, "frame_2": 0.58, "frame_3": 0.82,
      "frame_4": 0.60, "frame_5": 0.88, "frame_6": 0.93, "frame_7": 0.55, "frame_8": 0.15
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper is aligned at the lid’s edge with the bin clearly framed, indicating imminent grasp.",
        "predicts_next": "Suggests the next action will be closing/grasping followed by the opening motion.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_bin","green_bin_lid","lid_edge","table","robot_gripper"],
  "objects_from_instruction": ["green garbage can","lid"],
  "blackboard_keys": ["lid_grasp"],
  "node_specs": [
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"green_bin"},"description":"Checks if the bin lid is already open."},
    {"id":"DetectObject","type":"Action","ports":{"target":"green_bin","timeout_ms":800},"description":"Detect the green bin."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"green_bin"},"description":"Verify the bin remains in view."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"green_bin_lid","offset_z":0.02,"timeout_ms":1200},"description":"Move to a pregrasp pose above the lid."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"green_bin_lid_edge","tolerance":0.01,"timeout_ms":1200},"description":"Align end-effector with the lid edge."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Prepare gripper for edge grasp."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"green_bin_lid_edge","strategy":"pinch","result_key":"lid_grasp"},"description":"Compute pinch grasp at the lid edge."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"lid_grasp","timeout_ms":1500},"description":"Close gripper to secure the lid edge."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500},"description":"Execute the lid opening motion."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to avoid collision after opening."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to ensure stability."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 2, "depth": 3},
  "failure_modes": ["Object not detected", "Poor alignment to lid edge", "Grasp slip while lifting", "Hinge resistance or obstruction", "Timeout during motion"],
  "recovery_strategy": ["Re-run detection or scan pattern", "Re-approach and align with tighter tolerance", "Re-open gripper and recompute grasp", "Retry opening with slightly different approach height", "Abort and retreat on repeated failures"],
  "assumptions": ["Frames show a green bin with a hinged lid; no explicit handle visible, so a pinch at the edge is assumed.", "Opening direction is upward about a rear hinge.", "If frames and instruction disagree, frames take precedence."],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid angle increased and stays open", "No collisions with table or bin rim", "Robot retreats safely"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_bin","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_bin_lid","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"green_bin_lid_edge","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"green_bin_lid_edge","strategy":"pinch","result_key":"lid_grasp"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"lid_grasp","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
