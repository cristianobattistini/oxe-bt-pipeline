{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_002",
  "task_summary": "Locate the dishwasher handle, grasp it, and pull down to open the hinged dishwasher door, then retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator operates in a kitchen. The target is a stainless-steel dishwasher with a horizontal handle. The robot must first perceive the appliance and its handle, approach while keeping alignment, open the gripper, grasp the handle, set a pulling orientation, and pull to open the hinged door downward. After confirming the door is open, it retreats to clear the workspace. Timing is moderate to allow stable perception and contact, with a gentle but secure grasp.",
    "preconditions": [
      "Dishwasher and handle visible from robot sensors",
      "Workspace free of obstacles along the pull arc",
      "Gripper operational and calibrated",
      "Robot within reachable distance of the handle"
    ],
    "stepwise_plan": [
      "Scan and detect the dishwasher and its handle.",
      "Open gripper, approach, and align to the handle.",
      "Close gripper to secure the handle and set yaw for pulling.",
      "Execute a pull to open the hinged door.",
      "Verify door open and retreat."
    ],
    "success_criteria": [
      "Handle detected and grasped stably",
      "Door rotates open to a clearly visible angle",
      "Robot retreats without collision"
    ],
    "failure_and_recovery": [
      "If handle not detected: rescan the area.",
      "If alignment fails: re-approach with tighter tolerance.",
      "If grasp slips: reopen gripper and retry grasp.",
      "If door resists: increase pull duration within timeout limits."
    ],
    "termination": "Terminate when the dishwasher door is confirmed open and the robot has retreated to a safe pose."
  },
  "frame_ranking": {
    "order": ["frame_6","frame_7","frame_5","frame_3","frame_4","frame_2","frame_1","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.10,
      "frame_1": 0.32,
      "frame_2": 0.45,
      "frame_3": 0.70,
      "frame_4": 0.58,
      "frame_5": 0.78,
      "frame_6": 0.95,
      "frame_7": 0.88,
      "frame_8": 0.22
    },
    "rationale_per_frame": {
      "frame_6": {
        "now_evidence": "Clear onset of door opening while robot is pulling the handle.",
        "predicts_next": "Continued pulling will increase opening angle; verification and retreat follow.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pull open a dishwasher",
  "instruction_to_ports": {
    "force": 20,
    "timeout_ms": 1500,
    "tolerance": 0.01,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["dishwasher","dishwasher_handle","adjacent_fridge","wooden_cabinet"],
  "objects_from_instruction": ["dishwasher"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"ScanForTarget","type":"Action","ports":{"target":"dishwasher","pattern":"line","max_attempts":3,"timeout_ms":1500},"description":"Search for the dishwasher in a line pattern with limited attempts."},
    {"id":"DetectObject","type":"Action","ports":{"target":"dishwasher_handle","timeout_ms":1500},"description":"Detect the dishwasher handle."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Prepare gripper aperture for handle grasp."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1500},"description":"Approach and align to the handle within tight tolerance."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Close gripper to secure the handle with moderate force."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient end effector to pull direction."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"dishwasher","container_type":"hinged_door","timeout_ms":1500},"description":"Pull to open the dishwasher hinged door."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"dishwasher"},"description":"Check that the dishwasher door is open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away from the opened door to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Dishwasher or handle not detected",
    "Misalignment leading to missed grasp",
    "Grasp slip during pull",
    "Door jam or high friction preventing opening"
  ],
  "recovery_strategy": [
    "Rescan with ScanForTarget and re-detect handle",
    "Re-approach with ApproachAndAlign",
    "Reopen and regrasp with higher force if safe",
    "Extend timeout or adjust yaw before pulling again"
  ],
  "assumptions": [
    "The dishwasher door is a downward-opening hinged door (as visible in frames 6â€“8).",
    "Handle is graspable with the given gripper width.",
    "Pulling downward is sufficient to open without unlatching steps."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Door opening angle visibly increases after pulling",
      "ContainerOpen condition evaluates to true",
      "Robot retreats clear of the open door"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"dishwasher","pattern":"line","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ScanForTarget"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"dishwasher_handle","timeout_ms":1500}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":800}},
      "active_path_ids": ["Sequence","OpenGripper"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": ["Sequence","CloseGripper"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"dishwasher","container_type":"hinged_door","timeout_ms":1500}},
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"dishwasher","container_type":"hinged_door","timeout_ms":1500}},
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
