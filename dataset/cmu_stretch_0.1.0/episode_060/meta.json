{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_060",
  "task_summary": "Detect the green garbage bin, approach and grasp the lid edge, then lift to open the bin lid and retreat safely.",
  "task_long_description": {
    "overview": "The scene shows a Stretch-like mobile manipulator near a tall green garbage bin with a hinged green lid. The arm must find the lid, align to its edge, and use the gripper to hook under the lip. After making gentle contact, the robot closes the gripper and lifts to open the bin lid. The plan prioritizes reliable perception, careful approach with small tolerance, and verification that the lid is open before retreating to a safe pose.",
    "preconditions": ["Robot base positioned within reach of the bin", "Bin and lid are visible to the camera", "No obstacles blocking the gripper path", "Gripper operational"],
    "stepwise_plan": [
      "Detect and confirm visibility of the green bin lid.",
      "Move above the lid and refine alignment to the lid edge.",
      "Open gripper, lower until contact under the lid lip.",
      "Close gripper to secure the edge.",
      "Execute lid opening motion via container open action.",
      "Verify lid open state and retreat."
    ],
    "success_criteria": ["Lid rotates open visibly", "ContainerOpen condition evaluates true", "No collisions with table or bin rim", "Robot retreats to a safe distance"],
    "failure_and_recovery": [
      "Perception failure: rescan or adjust viewpoint.",
      "Misalignment: re-run ApproachAndAlign with tighter tolerance.",
      "Insufficient grasp: reopen, lower until contact again, then re-grip.",
      "Obstruction or collision risk: stop and retreat slightly before reattempt."
    ],
    "termination": "Task terminates when the lid is reported open and the robot has retreated to a safe distance."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_bin","green_bin_lid","lid_edge","robot_gripper","table"],
  "objects_from_instruction": ["green_garbage_can","lid"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"green_bin_lid","timeout_ms":1200},"description":"Detect the green bin lid in the scene."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"green_bin_lid"},"description":"Confirm the lid remains visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"green_bin_lid","offset_z":0.06,"timeout_ms":1200},"description":"Move to a pose above the lid."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid_edge","tolerance":0.01,"timeout_ms":1500},"description":"Refine alignment to the lid edge."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Open gripper to prepare for hooking."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.04,"force_threshold":5.0,"timeout_ms":1200},"description":"Lower until contact under the lid lip."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Close gripper to secure the lid edge."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500},"description":"Lift/rotate to open the bin lid."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"green_bin"},"description":"Check that the bin is open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Retreat to a safe distance."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 2, "depth": 2},
  "failure_modes": [
    "Lid not detected or mislabeled",
    "Contact not achieved under lid lip",
    "Grip slips during lift",
    "Collision with table edge or bin rim"
  ],
  "recovery_strategy": [
    "Re-detect and re-verify visibility",
    "Re-approach with smaller tolerance",
    "Reopen gripper and re-seat under lip",
    "Abort motion and retreat slightly, then retry"
  ],
  "assumptions": [
    "Frames show a green bin with a hinged lid and the robot gripper approaching from the side near a table.",
    "Lid has an accessible edge suitable for a pinch grasp.",
    "No human interaction; the environment is static during execution."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Lid angle increases visibly; condition reports open", "No collisions; stable grasp maintained", "Robot retreats cleanly"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_bin_lid","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_bin_lid","offset_z":0.06,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid_edge","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.04,"force_threshold":5.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"green_bin"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
