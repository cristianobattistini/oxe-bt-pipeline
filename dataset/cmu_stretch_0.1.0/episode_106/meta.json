{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_106",
  "task_summary": "Perceive the dishwasher handle, align, grasp it, and pull to open the hinged dishwasher door; verify open state and retreat.",
  "task_long_description": {
    "overview": "The robot operates in a kitchen scene facing a stainless-steel dishwasher with a horizontal bar handle. The task is to open the dishwasher by pulling its hinged door. The robot must first detect and visually confirm the handle, approach with tight alignment, set wrist yaw to match the bar, grasp with moderate force, and execute an opening action. After the door starts moving, it briefly retreats to avoid collision and verifies that the door is open.",
    "preconditions": ["Dishwasher is reachable from current base pose", "Handle visible or discoverable with small camera motion", "No obstacles between end-effector and handle", "Gripper functional"],
    "stepwise_plan": ["Open gripper", "Detect and confirm handle visibility", "Approach and align to handle with low tolerance", "Set wrist yaw to align with bar", "Close gripper and check grasp stability", "Command container open on dishwasher door (pull motion)", "Retreat slightly", "Wait briefly and verify door open"],
    "success_criteria": ["Door angle increases from fully closed", "Positive open state reported", "No collision with adjacent cabinet or fridge", "Grasp remains stable during opening"],
    "failure_and_recovery": ["Handle not detected → retry perception and approach", "Misalignment → re-approach with same tolerance", "Slip during pull → reopen gripper and reacquire", "Door jam → stop and report"],
    "termination": "Tree terminates when the dishwasher door is confirmed open or a failure is declared after retries."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pull open a dishwasher",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["dishwasher_door", "dishwasher_handle", "toaster_oven", "fridge", "cabinet_drawers"],
  "objects_from_instruction": ["dishwasher"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":800},"description":"Prepare to grasp the dishwasher handle."},
    {"id":"DetectObject","type":"Action","ports":{"target":"dishwasher_handle","timeout_ms":1200},"description":"Find the handle."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"dishwasher_handle"},"description":"Verify handle visibility before approach."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1500},"description":"Align end-effector to handle."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Rotate wrist to match horizontal bar."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":800},"description":"Grip the handle."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Ensure the grasp is secure."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"dishwasher_door","container_type":"hinged_door","timeout_ms":1500},"description":"Pull to open the dishwasher door."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to avoid collisions."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Small pause for dynamics to settle."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"dishwasher_door"},"description":"Confirm the door is open."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 8, "conditions": 3, "depth": 5},
  "failure_modes": ["Handle not detected", "Approach misalignment", "Gripper slip", "Door jam or obstruction"],
  "recovery_strategy": ["Retry perception and approach (decorator)", "Re-align and reset yaw", "Re-open and re-grasp", "Abort with report if jam persists"],
  "assumptions": ["The dishwasher uses a hinged door with a horizontal bar handle as suggested by frames; pulling outward opens it."],
  "evaluation_notes": {
    "expected_success_criteria": ["Door angle increases and ContainerOpen evaluates true", "No collisions with fridge/cabinet", "Grasp remains stable throughout"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"dishwasher_handle","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"dishwasher_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"dishwasher_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"dishwasher_door","container_type":"hinged_door","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"dishwasher_door","container_type":"hinged_door","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"dishwasher_door","container_type":"hinged_door","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
