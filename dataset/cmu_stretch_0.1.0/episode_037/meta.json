{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_037",
  "task_summary": "Approach the green trash bin and lift its lid using the gripper, then verify openness and retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator must open a hinged green garbage bin lid. The scene shows a green bin under a table, with the robot arm approaching from the right. The robot should perceive the lid, align above its edge, make gentle contact, grasp or hook the rim, lift upward to open, verify that the lid is open, and then retreat to a safe distance. Motions should be deliberate with modest force to avoid knocking the bin.",
    "preconditions": ["Robot base already positioned near bin", "Manipulator homed and gripper functional", "Lid edge reachable from current pose"],
    "stepwise_plan": ["Detect lid on green bin", "Move above lid edge", "Align to opening edge", "Open gripper ready to hook", "Lower until contact sensed", "Close gripper to secure edge", "Lift upward along z to raise lid", "Call container open primitive for hinge motion completion", "Check lid state", "Retreat"],
    "success_criteria": ["Lid visibly raised/open", "No collision with table or bin body", "Gripper not stuck under lid", "Robot ends in a safe pose"],
    "failure_and_recovery": ["Lid not detected -> rescan area", "Missed edge -> realign and retry approach", "Slip during lift -> reopen, re-grasp, and lift again", "Contact too hard -> reduce force and retry"],
    "termination": "Terminate once lid is reported open and the arm has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Gripper close to lid edge indicating first reliable contact/engagement.",
        "predicts_next": "Upward motion to lift the lid should follow.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["green_garbage_bin","garbage_can_lid","table","robot_gripper"],
  "objects_from_instruction": ["garbage can lid"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"garbage_can_lid","timeout_ms":1200},"description":"Perceive and localize the bin lid."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"garbage_can_lid","offset_z":0.05,"timeout_ms":1500},"description":"Reach a pre-grasp pose above the lid edge."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"garbage_can_lid","tolerance":0.01,"timeout_ms":1500},"description":"Align end-effector to the rim for hooking."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":400},"description":"Prepare to hook/encapsulate the lid edge."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.04,"force_threshold":10,"timeout_ms":1200},"description":"Descend gently until contact with lid is detected."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":1200},"description":"Secure the rim or handle of the lid."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":1500},"description":"Lift upward to raise the lid."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"garbage_can_lid","container_type":"bin_lid","timeout_ms":1200},"description":"Execute opening primitive for hinged bin lids."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"garbage_can_lid"},"description":"Verify that the lid is open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 9, "conditions": 1, "depth": 2},
  "failure_modes": ["Lid not detected due to glare/pose", "Arm collides with table edge", "Gripper fails to secure rim", "Lid hinge jams or rebounds closed"],
  "recovery_strategy": ["Rescan and re-detect then reattempt approach", "Adjust alignment tolerance and yaw, retry grasp", "Decrease force and repeat LowerUntilContact", "Reopen gripper, re-hook at a different point"],
  "assumptions": ["Frames show a green hinged bin under a table; the approach is from the right with adequate clearance.", "Lid has a graspable edge suitable for hooking.", "Using upward z-lift approximates the opening motion and matches the visual sequence."],
  "evaluation_notes": {
    "expected_success_criteria": ["ContainerOpen condition returns success", "Lid visibly raised in final frames", "No fault from collision or timeouts"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"garbage_can_lid","timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"garbage_can_lid","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","MoveAbove"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"garbage_can_lid","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.04,"force_threshold":10,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","CloseGripper"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","MoveDelta"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"garbage_can_lid","container_type":"bin_lid","timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","OpenContainer"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"garbage_can_lid"}},
      "active_path_ids": ["MainTree","Sequence","ContainerOpen"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","Retreat"]
    }
  ]
}
