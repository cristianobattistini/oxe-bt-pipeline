{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_054",
  "task_summary": "Perceive the pot and its lid, grasp the lid handle, lift it vertically off the pot, and retreat slightly while holding the lid.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a small pot on a countertop. The goal is to lift the lid off the pot. The robot first perceives the pot and the lid/handle, moves above the pot, aligns to the handle, computes a top grasp, closes the gripper to secure the lid, lifts upward, and retreats to clear the pot opening. Timing uses conservative bins to ensure reliable contact and grasp. No placement is required; the task terminates once the lid is raised and the end effector has backed away slightly.",
    "preconditions": ["Pot with a liftable lid is present on the table", "Lid handle is visible to the camera", "Workspace is unobstructed around the pot", "Gripper is operational and can close on the handle"],
    "stepwise_plan": ["Open gripper", "Scan and detect the pot lid and its handle", "Move above the pot at a safe offset", "Approach and align to the lid handle", "Compute a top grasp and execute the pick", "Lift vertically to clear the pot", "Retreat a short distance while holding the lid"],
    "success_criteria": ["Lid is in the gripper (stable grasp)", "Lid is lifted above the pot opening", "Robot retreats without collisions"],
    "failure_and_recovery": ["Perception fails: rescan for the lid", "Misalignment: re-approach and realign", "Grasp slips: reopen, recompute grasp, and retry pick", "Collision risk: retreat and replan approach"],
    "termination": "End when the lid is securely held, vertically separated from the pot, and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "End effector close to lid handle with alignment posture visible.",
        "predicts_next": "Grasp execution followed by vertical lift.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift up a lid from the pot",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["pot", "pot_lid", "lid_handle", "table", "robot_arm"],
  "objects_from_instruction": ["lid", "pot"],
  "blackboard_keys": ["lid_grasp"],
  "node_specs": [
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":500},"description":"Prepare gripper for approach."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"pot_lid","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scan the scene to locate the pot lid."},
    {"id":"DetectObject","type":"Action","ports":{"target":"lid_handle","timeout_ms":800},"description":"Detect the lid handle for grasping."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"pot","offset_z":0.05,"timeout_ms":1500},"description":"Move to a safe pregrasp above the pot."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"lid_handle","tolerance":0.01,"timeout_ms":1500},"description":"Refine pose and align to the handle."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"lid_handle","strategy":"top","result_key":"lid_grasp"},"description":"Compute top grasp for the handle and store key."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"lid_grasp","timeout_ms":1500},"description":"Close gripper to grasp the lid."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":1200},"description":"Lift the lid vertically from the pot."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back away to clear the pot opening while holding the lid."}
  ],
  "tree_stats": {"nodes_total": 10, "actions": 9, "conditions": 0, "depth": 2},
  "failure_modes": ["Lid not detected", "Handle occluded", "Grasp slip during lift", "Collision with pot rim or environment"],
  "recovery_strategy": ["Rescan and redetect", "Re-approach with new alignment", "Recompute grasp and retry pick", "Abort lift and retreat if contact forces spike"],
  "assumptions": ["Frames show a small pot with a liftable lid and visible handle; no placement step is required, so the plan ends after lift and retreat.", "Assume top-grasp on the handle is feasible."],
  "evaluation_notes": {
    "expected_success_criteria": ["ObjectInGripper(lid) holds true after Pick", "Vertical separation achieved via MoveDelta z=0.1", "No collisions and safe retreat"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"pot_lid","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","ScanForTarget"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"lid_handle","timeout_ms":800}},
      "active_path_ids": ["MainTree","Sequence","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"pot","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"lid_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"lid_handle","strategy":"top","result_key":"lid_grasp"}},
      "active_path_ids": ["MainTree","Sequence","ComputeGraspPose"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"lid_grasp","timeout_ms":1500}},
      "active_path_ids": ["MainTree","Sequence","Pick"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","MoveDelta"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": ["MainTree","Sequence","Retreat"]
    }
  ]
}
