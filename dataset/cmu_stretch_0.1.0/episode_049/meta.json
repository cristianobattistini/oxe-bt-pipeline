{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_049",
  "task_summary": "Perceive the green garbage bin, approach its hinged lid, make gentle contact, lift the lid upward, verify it is open, and retreat.",
  "task_long_description": {
    "overview": "A mobile manipulator interacts with a green garbage can positioned beside a table. The objective is to lift open the hinged bin lid. The robot must first locate the bin and its lid, approach and align the end-effector, establish contact near the lid edge, and lift upward to rotate the lid open. Motion should avoid colliding with the table and keep the trash bag ring intact. After opening, the robot verifies the lid state and retreats to a safe distance.",
    "preconditions": [
      "Green bin and hinged lid are present in the workspace",
      "Robot base is roughly within reach of the bin lid",
      "End-effector is free (no object held)",
      "Perception pipeline running and camera views unobstructed"
    ],
    "stepwise_plan": [
      "Scan and detect the green bin and its lid.",
      "Navigate/position the arm near the bin.",
      "Move above the lid and align yaw to face the hinge edge.",
      "Refine alignment and descend until gentle contact.",
      "Lift along +Z to swing the lid open.",
      "Confirm the container is open.",
      "Retreat to a safe standoff."
    ],
    "success_criteria": [
      "Lid rotates upward and remains open",
      "No collision with table or bin body",
      "Robot retreats to a safe distance after opening"
    ],
    "failure_and_recovery": [
      "Perception failure: rescan target and retry detection",
      "Missed contact: repeat approach and contact step",
      "Insufficient lift: perform an additional small +Z motion",
      "Unexpected resistance: abort motion and back off"
    ],
    "termination": "Terminate when the lid is reported open and the robot has retreated to standoff."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "lift open green garbage can lid",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["green_bin", "bin_lid", "table", "trash_bag_ring", "robot_arm", "gripper"],
  "objects_from_instruction": ["green garbage can", "lid"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"ScanForTarget","type":"Action","ports":{"target":"green_bin","pattern":"arc","max_attempts":3,"timeout_ms":1500},"description":"Wide search to localize the green bin."},
    {"id":"DetectObject","type":"Action","ports":{"target":"bin_lid","timeout_ms":1200},"description":"Detect the specific lid geometry."},
    {"id":"MoveTo","type":"Action","ports":{"target":"green_bin","timeout_ms":1500},"description":"Move end-effector to the bin vicinity."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bin_lid","offset_z":0.06,"timeout_ms":1200},"description":"Position tool above lid edge."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient tool yaw to match lid edge."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"bin_lid","tolerance":0.01,"timeout_ms":1200},"description":"Fine alignment before contact."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1500},"description":"Descend gently until contact is detected."},
    {"id":"MoveDelta","type":"Action","ports":{"axis":"z","dist":0.1,"timeout_ms":800},"description":"Lift upward to swing lid."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500},"description":"Semantic open of the bin lid."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"green_bin"},"description":"Verify the bin is open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to safe standoff."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief settle time after retreat."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 11, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Bin lid not detected due to glare or motion blur",
    "Tool collides with table edge during approach",
    "Contact not achieved at lid edge",
    "Lid sticks and requires additional lift"
  ],
  "recovery_strategy": [
    "Repeat ScanForTarget and DetectObject with slight viewpoint change",
    "Increase offset_z then re-approach",
    "Retry LowerUntilContact with 'normal' speed",
    "Perform a second MoveDelta z=0.05 and re-check"
  ],
  "assumptions": [
    "The lid is hinged and opens upward when lifted at the near edge.",
    "Frames depict the robot approaching and lifting; no explicit grasp is used.",
    "OpenContainer with container_type 'bin_lid' corresponds to opening this hinged garbage lid."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "ContainerOpen condition succeeds after lift",
      "No contact with table during approach and retreat",
      "End-effector maintains stable contact while lifting"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_bin","pattern":"arc","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ScanForTarget"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"bin_lid","timeout_ms":1200}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"green_bin","timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveTo"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bin_lid","offset_z":0.06,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"bin_lid","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":10,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveDelta","attrs":{"axis":"z","dist":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","MoveDelta"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"green_bin","container_type":"bin_lid","timeout_ms":1500}},
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
