{
  "dataset_id": "cmu_stretch_0.1.0",
  "episode_id": "episode_079",
  "task_summary": "Detect the drawer and its handle, grasp the handle, pull to open, pause, and retreat.",
  "task_long_description": {
    "overview": "The robot operates in a kitchenette scene with a cabinet containing a horizontal drawer. The plan is to visually detect the drawer and its handle, prepare the gripper, compute a pull-oriented grasp, align to the handle, grasp it, and execute an opening action. A short pause allows motion to settle, then the robot retreats to a safe distance. The behavior emphasizes reliable perception, careful alignment, and a controlled opening of a standard cabinet drawer.",
    "preconditions": ["Robot base positioned within reach of the drawer", "Drawer front and handle visible to the camera", "No obstacles blocking the drawer travel", "Gripper free and operational"],
    "stepwise_plan": ["Detect drawer", "Detect handle", "Open gripper", "Compute pull grasp pose", "Verify grasp pose available", "Approach and align to handle", "Grasp using computed pose", "Open the drawer container", "Wait briefly", "Retreat to a safe distance"],
    "success_criteria": ["Drawer is visibly open by a noticeable margin", "Gripper releases or stays stable without slipping", "Robot ends at a safe standoff pose"],
    "failure_and_recovery": ["If detection fails: rescan the area or adjust viewpoint", "If alignment fails: replan grasp pose and retry approach", "If grasp slips: reopen gripper and attempt a stronger grasp", "If drawer binds: reduce speed and try a shorter pull"],
    "termination": "Terminate when the drawer is confirmed opened and the robot has retreated to a safe distance."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "open drawer",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["drawer", "drawer_handle", "cabinet", "countertop", "appliance"],
  "objects_from_instruction": ["drawer"],
  "blackboard_keys": ["grasp_handle"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"drawer","timeout_ms":1500},"description":"Detect the target drawer front."},
    {"id":"DetectObject","type":"Action","ports":{"target":"drawer_handle","timeout_ms":1500},"description":"Detect the drawer handle for grasping."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.09,"timeout_ms":800},"description":"Prepare the gripper to fit around the handle."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"drawer_handle","strategy":"pull","result_key":"grasp_handle"},"description":"Plan a pull-oriented grasp on the handle and store it."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"grasp_handle"},"description":"Verify that the computed grasp pose is available."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"drawer_handle","tolerance":0.01,"timeout_ms":1500},"description":"Move to and align with the handle precisely."},
    {"id":"Pick","type":"Action","ports":{"grasp_key":"grasp_handle","timeout_ms":1200},"description":"Close the gripper to grasp the handle."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"drawer","container_type":"drawer","timeout_ms":1500},"description":"Execute the open motion for the drawer."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to allow motion to settle."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance after opening."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 9, "conditions": 1, "depth": 2},
  "failure_modes": ["Drawer or handle not detected", "Alignment tolerance not met", "Grasp slip on handle", "Drawer jams or travel obstructed"],
  "recovery_strategy": ["Rescan and adjust viewpoint", "Recompute grasp and realign", "Regrasp with adjusted force/pose", "Perform shorter, repeated pulls"],
  "assumptions": ["Frames show a bar-style handle on a wooden cabinet drawer; exact pull axis not observable, so a generic OpenContainer(drawer) is used.", "Robot base already positioned; no base motion included."],
  "evaluation_notes": {
    "expected_success_criteria": ["Drawer visibly opens several centimeters", "Robot maintains stable grasp during pulling", "Retreat achieved without collision"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"drawer_handle","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.09,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"drawer_handle","strategy":"pull","result_key":"grasp_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"drawer_handle","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"Pick","attrs":{"grasp_key":"grasp_handle","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"drawer","container_type":"drawer","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
