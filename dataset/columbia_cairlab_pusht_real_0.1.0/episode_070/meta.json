{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_070",
  "task_summary": "Detect the T-block and goal, align the circular tool, then push the T-block leftward in two stages to seat it into the target region before retreating.",
  "task_long_description": {
    "overview": "A tabletop scene shows a red T-shaped block and a drawn T outline on a white surface. A robot with a circular end-effector must push the block into the outlined target. The plan first localizes both the block and goal, approaches above the block, finely aligns, orients the tool, and performs one long push followed by a short corrective push toward the goal. After final adjustment near the target, the robot retreats to clear the workspace. Observation and control are effectively discrete at 10 Hz.",
    "preconditions": ["Workspace is clear", "Camera view includes block and target", "Robot reachable workspace includes both block and goal", "End-effector is circular and unobstructed"],
    "stepwise_plan": ["Perceive block", "Perceive target", "Move above block", "Align precisely to block edge", "Set yaw to push-friendly orientation", "Execute long push toward goal", "Micro-align at goal", "Execute short corrective push", "Retreat and wait"],
    "success_criteria": ["T-block lies within target outline", "Final orientation consistent with outline", "No collisions with environment", "Tool retreats clear of object"],
    "failure_and_recovery": ["Perception miss → re-detect", "Misalignment → re-align then re-push", "Insufficient push distance → perform corrective push", "Timeouts → shorten step and continue"],
    "termination": "Terminate after the corrective push and a brief wait following a safe retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block_red", "target_T_outline_blue", "table", "circular_end_effector"],
  "objects_from_instruction": ["t_block_gray", "target_green", "circular_end_effector_blue"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":1200},"description":"Detect the red T-block."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_goal","timeout_ms":1200},"description":"Detect the T-shaped target outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Move above the block to a safe height."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1500},"description":"Fine alignment to the block edge for pushing."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient tool to push along the chosen axis."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500},"description":"Primary long push toward the goal."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_goal","tolerance":0.01,"timeout_ms":1500},"description":"Micro-alignment near the target region."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":180,"timeout_ms":1200},"description":"Short corrective push to seat the block."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off from the object."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to ensure stability and end the episode."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 10, "conditions": 0, "depth": 2},
  "failure_modes": ["Object not detected due to lighting/occlusion", "Tool slips on slanted edge of T", "Push distance insufficient", "Overshoot of target outline", "Timeouts during alignment"],
  "recovery_strategy": ["Re-run DetectObject and re-align", "Repeat short corrective push", "Adjust yaw and re-approach", "Retreat then try again with shorter timeout"],
  "assumptions": ["Frames show a red block and a blue outline, not gray/green as in instruction; values mapped to frames overrule text.", "Push direction assumed leftward (180°) based on visual layout.", "10 Hz frequencies are not represented in BT ports; timing handled by controller outside this tree."],
  "evaluation_notes": {
    "expected_success_criteria": ["Block centroid inside target outline", "Orientation within small angular deviation", "No contact after retreat"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_goal","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_goal","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
