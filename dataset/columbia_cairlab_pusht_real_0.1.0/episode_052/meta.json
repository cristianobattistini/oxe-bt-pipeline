{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_052",
  "task_summary": "Detect the T-block and target, approach the block, make gentle contact, and push it along a two-segment path toward the fixed target. Verify final pose near the target and retreat.",
  "task_long_description": {
    "overview": "A tabletop pushing task with a UR-style arm and a circular end-effector. The scene contains a T-shaped block and a sketched target pose on the surface. The robot must perceive both, approach from above, align, establish contact, and execute one long push followed by a short corrective push to seat the block into the target. Final alignment is verified near the target before the robot retracts. Control and observation run at 10 Hz, so actions are conservative with explicit verification.",
    "preconditions": [
      "Workspace clear and reachable",
      "Camera provides view of block and target",
      "End-effector tip calibrated; pushing yaw known"
    ],
    "stepwise_plan": [
      "Detect T-block and target pose",
      "Move above the block and align orientation",
      "Lower until contact is detected",
      "Execute main push toward the target",
      "Execute corrective push to finish seating",
      "Verify proximity/orientation at target and retreat"
    ],
    "success_criteria": [
      "Block is inside the target region",
      "Block yaw matches target within tolerance",
      "Arm safely retreats with no collisions"
    ],
    "failure_and_recovery": [
      "If detection fails, rescan scene",
      "If contact not found, re-approach and lower again",
      "If push slips, repeat corrective push with shorter distance"
    ],
    "termination": "Terminate when target reached (IsAt target_green succeeds) and robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block_gray (appears red in frames)","target_green (appears as blue outline)","ee_blue (cylindrical tip)"],
  "objects_from_instruction": ["t_block_gray","target_green","ee_blue"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"string","timeout_ms":"int"},"description":"Perceive block/target before acting."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"string","offset_z":"float","timeout_ms":"int"},"description":"Pre-approach above the block."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"string","tolerance":"float","timeout_ms":"int"},"description":"Align end-effector with push face or target."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":"int"},"description":"Orient the tool for pushing."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"string","max_depth":"float","force_threshold":"float","timeout_ms":"int"},"description":"Descend slowly until contact is detected."},
    {"id":"Push","type":"Action","ports":{"target":"string","distance":"float","direction_deg":"int","timeout_ms":"int"},"description":"Translate the block by pushing along a given direction and distance."},
    {"id":"IsAt","type":"Condition","ports":{"target":"string"},"description":"Check if block is at target location."},
    {"id":"Retreat","type":"Action","ports":{"distance":"float","timeout_ms":"int"},"description":"Back off after completion."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 10, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Object or target not detected",
    "No contact during lowering",
    "Slip or rotation during push",
    "Overshoot or misalignment at target"
  ],
  "recovery_strategy": [
    "Rescan using a wider pattern and retry approach",
    "Re-align and repeat push with shorter distance",
    "If overshoot, apply a corrective push in opposite direction"
  ],
  "assumptions": [
    "Direction of main push inferred as down-left (225°) from frames; corrective at 180°; exact angles may vary by setup.",
    "Instruction colors (gray/green/blue) conflict with frames (red block, blue outline). Frames were prioritized."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["IsAt target_green passes and final retreat executed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block_gray","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_green","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block_gray","offset_z":0.02,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block_gray","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.01,"force_threshold":10.0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block_gray","distance":0.1,"direction_deg":225,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block_gray","distance":0.05,"direction_deg":180,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_green","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
