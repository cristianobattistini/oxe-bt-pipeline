{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_094",
  "task_summary": "Perceive T-block and goal, align tool, make contact, and push the T-block in two short segments toward the goal circle; verify arrival, retreat, and pause.",
  "task_long_description": {
    "overview": "A UR-style arm with a circular tool must push a T-shaped block across a tabletop to a marked goal circle. The behavior begins with visual confirmation (or scanning) of both the block and goal, approaches the block from above, aligns, and lowers until contact is detected. The controller then executes two push segments in the goal direction, checks if the object is at the goal, retreats to clear the workspace, and waits briefly. Constraints: discrete timeouts, discrete yaw/direction bins, and safe low-force contact.",
    "preconditions": [
      "Workspace clear and flat tabletop",
      "T-shaped block within camera view",
      "Goal marker present and reachable",
      "End-effector calibrated and TCP yaw known"
    ],
    "stepwise_plan": [
      "Detect/confirm visibility of the T-block and goal.",
      "Move above the block, align, and set yaw.",
      "Compute a pre-push pose and place the TCP at that pose.",
      "Lower until contact is detected.",
      "Execute two push segments toward the goal.",
      "Verify the object is at the goal.",
      "Retreat and briefly wait."
    ],
    "success_criteria": [
      "Block center overlaps or lies within the goal circle.",
      "No loss of contact causing large orientation error during pushes.",
      "Robot retreats safely after task completion."
    ],
    "failure_and_recovery": [
      "If the block or goal is not visible, raster scan to reacquire.",
      "If contact is not detected, lower again with the same pose.",
      "If the block is short of the goal, additional push cycles can be issued.",
      "If misalignment occurs, realign and recompute pre-push pose."
    ],
    "termination": "Terminate when IsAt(target_goal) succeeds and the robot has executed the retreat and wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block", "target_goal", "end_effector_circular", "tabletop"],
  "objects_from_instruction": ["t_block_gray", "target_green", "end_effector_blue"],
  "blackboard_keys": ["prepush_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks if the T-block is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1500},"description":"Raster scan to find the T-block if not visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_goal"},"description":"Checks if the goal is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_goal","pattern":"raster","max_attempts":3,"timeout_ms":1500},"description":"Raster scan to find the goal if not visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Move above the T-block with a safe vertical offset."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Approach laterally and align to the push edge."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":0},"description":"Set yaw to align push direction."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"t_block","strategy":"push","result_key":"prepush_pose"},"description":"Compute pre-push TCP pose."},
    {"id":"PoseAvailable","type":"Condition","ports":{"key":"prepush_pose"},"description":"Verify the computed pre-push pose exists."},
    {"id":"PlaceAt","type":"Action","ports":{"pose_key":"prepush_pose","yaw_deg":0,"press_force":10.0,"timeout_ms":800},"description":"Place TCP at pre-push pose with light press."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.01,"force_threshold":5.0,"timeout_ms":800},"description":"Lower until contact is detected."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1200},"description":"Push along 0° (rightward) direction by 0.1 m."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_goal"},"description":"Check if the block is at the goal."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to clear the object."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief stabilization wait."}
  ],
  "tree_stats": {"nodes_total": 19, "actions": 11, "conditions": 4, "depth": 3},
  "failure_modes": [
    "Block/goal not detected due to occlusion",
    "Misalignment causing off-axis push",
    "Insufficient contact leading to slip",
    "Overshoot or undershoot of the goal"
  ],
  "recovery_strategy": [
    "Fallback to raster scanning for perception recovery",
    "Re-approach and realign before pushing again",
    "Repeat push cycles if goal not reached",
    "Retreat and replan if excessive deviation is observed"
  ],
  "assumptions": [
    "Frames show a red T-block and a blue goal circle; instruction mentions gray block and green target—color mismatch noted but shapes/roles align.",
    "Direction 0° is defined as rightward in the workspace; the goal lies to the right in several frames.",
    "Press force and contact thresholds are set conservatively; 10 Hz control is implicit and not directly parameterized in ports."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["IsAt(target_goal) returns success and final frames show object near goal", "No collision with table edges", "Retreat executed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"t_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.01,"force_threshold":5.0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"IsAt","attrs":{"target":"target_goal"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}

