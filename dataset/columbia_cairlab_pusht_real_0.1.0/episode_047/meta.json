{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_047",
  "task_summary": "Perceive and align to a T-shaped block, then execute staged pushes toward the target T outline and retreat.",
  "task_long_description": {
    "overview": "A robot with a circular end-effector must push a T-shaped block across a planar workspace into a fixed target outline. The contact sheet shows the arm approaching the block from above-left, making contact, and producing several incremental pushes that translate and slightly rotate the block toward the target region. The plan emphasizes reliable perception, precise alignment before pushing, and short repeated pushes to maintain control. After achieving the final placement, the robot retreats and pauses briefly, ensuring clearance and stability without grasping.",
    "preconditions": ["Workspace clear and flat", "Block present and visible to camera", "Target T outline fixed on table", "End-effector calibrated and safe speed"],
    "stepwise_plan": ["Detect the T-shaped block", "Move above and approach for side contact", "Align yaw for push direction", "Execute three short pushes toward the target", "Retreat and wait"],
    "success_criteria": ["Block overlaps the target T outline within a small tolerance", "No collisions with environment", "Robot ends safely retracted"],
    "failure_and_recovery": ["If detection fails, perform raster scan and retry", "If alignment drifts, re-run alignment before next push", "If contact is lost, reacquire object pose and continue"],
    "termination": "Terminate after final push, retreat, and brief wait once target pose is achieved."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block","target_T","end_effector","table"],
  "objects_from_instruction": ["T-shaped block (gray)","fixed target (green)","circular end-effector (blue)"],
  "blackboard_keys": ["push_dir"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Detect T-shaped block in the scene."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Fallback scan to locate block if initial detection fails."},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"push_dir","value":"east"},"description":"Record chosen push direction on blackboard."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.05,"timeout_ms":800},"description":"Position end-effector above the block at a safe height."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Approach side and align for pushing contact."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":0},"description":"Orient tool yaw to align push direction (0 deg)."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":800},"description":"Execute a short push along +X; repeated 3 cycles."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off from the object after pushing."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Brief pause for stabilization after retreat."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 0, "depth": 4},
  "failure_modes": ["Object not detected due to occlusion/lighting", "Tool misalignment causing undesired rotation", "Insufficient push distance due to friction", "Overshoot past target outline"],
  "recovery_strategy": ["Retry detection with raster scan", "Re-run alignment before subsequent push", "Use staged pushes (short distance) and reassess", "Retreat and re-approach if contact unstable"],
  "assumptions": ["Frames show a red block and blue target outline; instruction mentions gray block and green target—interpreted as color mismatch only, geometry consistent.", "Push direction chosen as 0° (east) based on observed motion."],
  "evaluation_notes": {
    "expected_success_criteria": ["Final pose of T overlaps target outline within visual tolerance ≤ 0.01 m", "Robot ends retracted with no contact"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.05,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
