{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_079",
  "task_summary": "Detect the T-shaped block and goal, approach with a circular end-effector, align to the block, and push it leftward then upward to fit the target outline, then retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a circular tool must push a T-shaped block to a target pose drawn on the table. The robot first perceives the block and goal, moves above the block, orients its tool to push, makes contact and aligns to the block’s edge, executes a primary lateral push followed by a secondary orthogonal push for fine placement, verifies that the block is at the target, and finally retreats. The scene shows a red T and a blue outlined T on a white board; contact is planar and non-prehensile.",
    "preconditions": [
      "Workspace is clear except for one T-shaped block and a visible target outline",
      "End-effector is calibrated; pushing from tool yaw 90° is feasible",
      "Camera provides detections for 't_block' and 'target_T'",
      "Friction sufficient for non-prehensile pushing without slipping excessively"
    ],
    "stepwise_plan": [
      "Perceive the block and the target outline.",
      "Move above the block and set tool yaw to 90°.",
      "Approach to make gentle line contact and align with the block edge.",
      "Execute a leftward push to translate the block toward the goal.",
      "Execute an upward push to align the T within the outline.",
      "Fine-align relative to the target and verify pose.",
      "Retreat to clear the object."
    ],
    "success_criteria": [
      "Block pose overlaps the target outline within alignment tolerance (≤ 1 cm)",
      "No collision with environment other than intended block contact",
      "Robot retreats to a safe standoff"
    ],
    "failure_and_recovery": [
      "Perception failure: retry detections up to 3 times.",
      "Misalignment after first push: perform secondary orthogonal push and re-align.",
      "Slip during push: re-approach and repeat push sequence."
    ],
    "termination": "Terminate when IsAt(target_T) returns success after final alignment and the robot retreats."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["t_block", "target_T", "robot_end_effector"],
  "objects_from_instruction": ["T-shaped block (gray)", "fixed target (green)", "circular end-effector (blue)"],
  "blackboard_keys": ["t_block", "target_T"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Detect T-shaped block."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_T","timeout_ms":800},"description":"Detect target outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Move to pre-contact standoff."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient tool for lateral push."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Align to block edge before pushing."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500},"description":"Primary leftward push toward goal."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200},"description":"Orthogonal push to square into outline."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_T","tolerance":0.01,"timeout_ms":1200},"description":"Fine alignment with target pose."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_T"},"description":"Check block at goal pose."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to clear the object."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 1, "depth": 3},
  "failure_modes": [
    "Object or goal not detected",
    "Insufficient contact causing slip",
    "Over/under-shoot after first push",
    "Yaw not set leading to off-axis push"
  ],
  "recovery_strategy": [
    "Retry detections (decorator)",
    "Re-approach and re-align before re-pushing",
    "Execute orthogonal correction push",
    "Abort if IsAt never succeeds after repeats"
  ],
  "assumptions": [
    "Frames show a red T and a blue outline, while instruction mentions gray block and green target; treated as color mismatch only.",
    "Direction mapping assumes leftward push (180°) then upward (90°) relative to camera frame.",
    "Target outline treated as symbolic 'target_T' pose for IsAt/align actions."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["IsAt(target_T) true after alignment; final retreat executed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_T","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_T","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"IsAt","attrs":{"target":"target_T"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
