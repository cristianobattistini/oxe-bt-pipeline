{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_100",
  "task_summary": "Detect the T-block and the target, align the circular tool, make gentle contact, push the block toward the target, verify arrival, then retreat.",
  "task_long_description": {
    "overview": "A fixed robotic arm with a circular end-effector must push a T-shaped block on a white tabletop to a marked target shape. The behavior prioritizes perception of both the block and the target, alignment of yaw to the T, gentle approach to establish contact, and one or more push segments to reach the goal. Recovery includes re-scanning if either landmark is not visible. Control and observation operate effectively at ~10 Hz. Success is defined as the block overlapping the target outline with correct orientation, followed by a short retreat.",
    "preconditions": [
      "Workspace is clear of obstacles",
      "Camera provides view of block and target",
      "Robot reachable workspace contains both items",
      "Controller active at ~10 Hz"
    ],
    "stepwise_plan": [
      "Confirm visibility of the T-block; otherwise scan to find it.",
      "Confirm visibility of the target; otherwise scan to find it.",
      "Compute a push pose relative to the block.",
      "Move above the block and align to its orientation.",
      "Yaw the tool and lower until contact is detected.",
      "Execute two push segments toward the target.",
      "Verify the block is at the target, then retreat and wait briefly."
    ],
    "success_criteria": [
      "Block position overlaps the target region",
      "Block yaw matches target orientation within tolerance",
      "End-effector disengages without disturbing final pose"
    ],
    "failure_and_recovery": [
      "Perception failure: re-scan with bounded retries",
      "Contact not achieved: re-approach and lower again",
      "Misalignment or slip during push: re-align and issue a shorter second push",
      "Occlusion: brief wait then re-scan"
    ],
    "termination": "Terminate after IsAt(green_target) succeeds, retreat completes, and wait finishes."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.01,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block_red", "target_outline_T_blue", "circular_end_effector", "tabletop", "robot_arm"],
  "objects_from_instruction": ["T-shaped block (gray)","fixed target (green)","circular end-effector (blue)"],
  "blackboard_keys": ["push_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks if the T-block is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Search pattern when block not visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"green_target"},"description":"Checks if the target is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"green_target","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Search pattern when target not visible."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"t_block","strategy":"push","result_key":"push_pose"},"description":"Derives a contact/push pose."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1500},"description":"Moves above the block."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1500},"description":"Centers and aligns to block orientation."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orients tool for planar push."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.03,"force_threshold":5.0,"timeout_ms":1200},"description":"Establishes gentle contact."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500},"description":"Primary push toward target."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":180,"timeout_ms":1500},"description":"Finishing push."},
    {"id":"IsAt","type":"Condition","ports":{"target":"green_target"},"description":"Verifies block is at target."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off after success."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Stabilization dwell."}
  ],
  "tree_stats": {"nodes_total": 19, "actions": 11, "conditions": 3, "depth": 4},
  "failure_modes": ["Block not detected", "Target not detected", "No contact when lowering", "Slip or rotation during push", "Overshoot past target"],
  "recovery_strategy": ["Re-scan with retries", "Re-approach and lower again", "Re-align yaw then issue shorter push", "Pause and recheck visibility before resuming"],
  "assumptions": ["Instruction colors differ from frames (block appears red; target outline appears blue). Mapped semantically to 't_block' and 'green_target'.", "Push direction assumed leftward (180Â°) from block toward target based on early frames; exact global heading not provided.", "10 Hz noted but not explicitly enforced beyond short timeouts."],
  "evaluation_notes": {
    "expected_success_criteria": ["Overlap of block and target outline within tolerance 0.01", "Final IsAt(green_target) true and retreat executed"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"distance":0.1,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"distance":0.1,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
