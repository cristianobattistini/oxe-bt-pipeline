{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_036",
  "task_summary": "Detect the T-block and its target outline, align the circular tool to a side of the block, and perform several short pushes toward the target before retreating.",
  "task_long_description": {
    "overview": "A fixed camera views a tabletop where a red T-shaped block must be pushed into a blue target outline using a circular end-effector. The behavior first ensures both the block and the target are visible. The tool moves above and aligns with the block edge, sets a pushing yaw, and executes multiple short pushes to traverse friction and shape irregularities. Operations run with short timeouts to reflect a ~10 Hz control/observation loop. After achieving the placement, the tool pauses briefly and retreats to clear the workspace.",
    "preconditions": ["Robot reachable workspace includes block and target outline", "No obstacles between tool and block", "End-effector is circular and safe for contact pushing", "Camera provides visibility of block and target"],
    "stepwise_plan": ["Verify visibility of T-block, else scan", "Verify visibility of target outline, else scan", "Move above block and approach to contact with tight alignment", "Set tool yaw for lateral push", "Execute three short pushes toward the target", "Wait briefly for settling", "Retreat to a safe distance"],
    "success_criteria": ["T-block fully overlaps the target outline within small translation error", "Final block orientation acceptable for target", "No loss of contact or unintended collisions", "Robot ends in safe, non-contact pose"],
    "failure_and_recovery": ["Perception loss → rescan using grid pattern", "Misalignment or sliding → re-approach and continue remaining push cycles", "Insufficient motion per push → additional cycles (if allowed) or increase distance in future runs"],
    "termination": "Task ends after push cycles complete and the robot retreats or if repeated perception failures persist."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First clear side contact and alignment against the block’s arm are visible.",
        "predicts_next": "Push actuation is imminent with the tool already oriented for leftward motion.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["t_block_red", "target_outline_blue", "circular_end_effector", "tabletop"],
  "objects_from_instruction": ["T-shaped block (gray)", "fixed target (green)", "circular end-effector (blue)"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks if the T-block is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Grid scan for the block when not visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_target"},"description":"Checks if the target outline is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_target","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Grid scan for the target when not visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Moves above the block to a safe pre-contact height."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Approaches and aligns tool to block’s side for pushing."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":180},"description":"Sets yaw so pushes occur from the right toward the left."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.05,"direction_deg":180,"timeout_ms":800},"description":"Executes a short push toward the target direction."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Backs off to clear contact after pushing."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief settle time, approximating 10 Hz bin limits."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": ["Object or target not detected", "Tool misalignment causing sideways slip", "Insufficient displacement per push due to friction", "Overshoot beyond target outline"],
  "recovery_strategy": ["Fallback to grid scan when visibility fails", "Re-approach and realign before next push cycle", "Multiple short push cycles to accumulate motion", "Retreat and rescan if contact is lost"],
  "assumptions": ["Instruction colors (gray block, green target) differ from frames (red block, blue outline); behavior is grounded to frames.", "Push direction set to 180° (leftward) based on observed contact geometry.", "10 Hz loop approximated using the smallest allowed timeout_ms bins (>=400 ms)."],
  "evaluation_notes": {
    "expected_success_criteria": ["Block’s silhouette overlaps target outline with small translation/orientation error", "No contact at termination", "Robot returns to safe pose"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"t_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"t_target"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"SetTCPYaw","attrs":{"yaw_deg":180}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.05,"direction_deg":180,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.05,"direction_deg":180,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
