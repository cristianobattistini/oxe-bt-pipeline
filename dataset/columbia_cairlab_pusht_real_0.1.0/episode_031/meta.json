{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_031",
  "task_summary": "Detect the T-block and goal marker, approach and align the end-effector, then perform repeated short pushes toward the goal. Verify goal proximity, optionally top-up with a final micro-push, and retreat.",
  "task_long_description": {
    "overview": "A tabletop pushing task: a robot with a circular end-effector must drive a T-shaped block toward a fixed, outlined goal region. The behavior begins with visual confirmation of the block and the goal, then approaches and aligns at low tolerance to make stable contact on an appropriate face of the T. The controller issues several short pushes along the goalward direction, re-aligning after each stroke. The system verifies goal attainment and, if needed, applies a final corrective push before retreating to clear the scene.",
    "preconditions": [
      "Workspace clear and reachable",
      "Camera view of block and goal is unobstructed",
      "Robot controller active at ~10 Hz observation/control"
    ],
    "stepwise_plan": [
      "If the T-block is not visible, scan to acquire it.",
      "Detect block and goal; move above block and align.",
      "Set yaw to present a pushing edge.",
      "Execute 3 short pushes with re-alignment between strokes.",
      "Check if block is at goal; if not, perform a final short push.",
      "Retreat and briefly wait."
    ],
    "success_criteria": [
      "Block centroid inside the goal outline",
      "No collisions with fixtures",
      "End-effector safely retracted at end"
    ],
    "failure_and_recovery": [
      "Block not detected → run scan routine",
      "Misalignment or slip → re-align and retry push",
      "Undershoot goal → corrective micro-push"
    ],
    "termination": "Terminate when goal condition is met and the robot has retreated and waited briefly."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["t_block","goal_marker","table","robot_arm","end_effector"],
  "objects_from_instruction": ["T-shaped block (gray)","fixed target (green)","circular end-effector (blue)"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks if the T-block is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Spiral scan to locate the block if not visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Detect the T-block and cache pose."},
    {"id":"DetectObject","type":"Action","ports":{"target":"goal_marker","timeout_ms":800},"description":"Detect the fixed goal region."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1200},"description":"Move to pre-contact height above the block."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Approach and align precisely for pushing."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Rotate tool to align a pushing edge."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1500},"description":"Primary push stroke toward the goal."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Re-align after each push stroke."},
    {"id":"IsAt","type":"Condition","ports":{"target":"goal_marker"},"description":"Checks whether the block is at the goal."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.05,"direction_deg":45,"timeout_ms":1500},"description":"Final corrective micro-push."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to clear the workspace."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief settle time after retreat."}
  ],
  "tree_stats": {"nodes_total": 20, "actions": 11, "conditions": 3, "depth": 5},
  "failure_modes": [
    "Object not visible due to occlusion",
    "End-effector slips off the T-face",
    "Over/under-shoot of the goal region",
    "Yaw not aligned causing lateral drift"
  ],
  "recovery_strategy": [
    "Fallback to scan when not visible",
    "Re-align after each push stroke",
    "Apply a corrective micro-push if goal not satisfied",
    "Retreat and re-attempt if contact becomes unstable"
  ],
  "assumptions": [
    "Frames show a red T-block and cyan goal outline; instruction colors differ. Behavior grounded on frames.",
    "Goal direction approximated as ~45° toward the goal marker based on visual evidence.",
    "IsAt refers to block proximity to goal as inferred from perception."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Block centroid and orientation within goal tolerance",
      "No collisions or tipping",
      "Robot ends in a safe, retracted pose"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"IsAt","attrs":{"target":"goal_marker"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
