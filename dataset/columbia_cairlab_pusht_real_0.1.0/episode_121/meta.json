{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_121",
  "task_summary": "Push the T-shaped block toward the drawn goal outline using the circular end-effector with iterative pushes and verification.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a circular end-effector must push a T-shaped block across a white tabletop until it aligns with a goal outline on the surface. The scene shows the robot locating the block and the goal, approaching from above, making contact, and executing several short pushes to translate and slightly reorient the piece. After pushing, the arm verifies alignment against the goal outline and then retreats to a safe height. The process assumes visual perception and contact feedback, with modest timeouts appropriate for a 10 Hz control loop.",
    "preconditions": ["Workspace is clear except for the T-block and the goal outline.", "Camera provides visibility of block and goal.", "End-effector is calibrated and above the table.", "Pushing is allowed; grasping is not required."],
    "stepwise_plan": ["Detect or scan for the T-block and the goal outline.", "Move above the block, align laterally, and descend until contact.", "Set yaw suitable for straight pushing.", "Execute short push strokes with intermittent retreats and realignment.", "Approach the goal outline and fine-align position/orientation.", "Verify goal proximity and finish."],
    "success_criteria": ["Block lies within the goal outline with acceptable orientation tolerance.", "No collisions except intended contact with the block.", "Robot retreats to a safe pose after completion."],
    "failure_and_recovery": ["If perception fails, perform scanning search.", "If contact not detected, adjust height and retry.", "If pushes overshoot, use shorter strokes and re-align before another push."],
    "termination": "Terminate when the block position/orientation satisfies the goal outline check or when retries/timeouts are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block","goal_outline","end_effector","table","robot_arm","camera"],
  "objects_from_instruction": ["T-shaped block (gray)","fixed target (green)","circular end-effector (blue)"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Visibility check for the T-block before scanning."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Search spiral for the T-block if not immediately visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"goal_outline"},"description":"Visibility check for the goal outline."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"goal_outline","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Grid scan to localize the goal outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":800},"description":"Move above the block at safe clearance."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Lateral approach to align with the side of the block for pushing."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":1200},"description":"Descend until gentle contact is detected."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Set end-effector yaw to push direction."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":180,"timeout_ms":500},"description":"Execute a straight push stroke on the block."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.05,"timeout_ms":500},"description":"Back off to reset for another push."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Re-align to the block between push strokes."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"goal_outline","tolerance":0.01,"timeout_ms":1500},"description":"Fine alignment to the goal outline before success check."},
    {"id":"IsAt","type":"Condition","ports":{"target":"goal_outline"},"description":"Final success check that the block is at the goal."}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 10, "conditions": 3, "depth": 5},
  "failure_modes": ["Perception cannot localize block or goal", "No contact detected when descending", "Push causes rotation away from desired orientation", "Push overshoots target outline"],
  "recovery_strategy": ["Fallback to scanning when visibility fails", "Redo approach at slightly different lateral offset", "Shorten push distance and re-align between strokes", "Increase number of short strokes via Repeat cycle"],
  "assumptions": ["Frames show a red T-block and a blue goal outline; instruction colors differ, so color terms were ignored and replaced with symbolic names.", "Goal interpreted as aligning the block with the drawn outline rather than a point target.", "10 Hz note informs moderate timeouts but does not directly map to ports."],
  "evaluation_notes": {
    "expected_success_criteria": ["Block lies within the outline with orientation within tolerance", "Robot ends in a safe, non-contact state"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":180,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":180,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"goal_outline","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}
