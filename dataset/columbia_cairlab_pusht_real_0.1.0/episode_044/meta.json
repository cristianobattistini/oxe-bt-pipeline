{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_044",
  "task_summary": "Detect the T-shaped block, approach and align with it, establish gentle contact, then push it diagonally toward the marked target area. Verify placement and perform a corrective micro-push if needed, then retreat.",
  "task_long_description": {
    "overview": "A fixed camera shows a tabletop with a red T-shaped block and a drawn T-shaped target outline. A robot arm with a circular end-effector must push the block into the outline. The behavior first perceives both the block and the goal, approaches above the block, aligns the tool yaw, lowers until contact, and executes a series of diagonal pushes toward the target. After pushing, the system checks whether the block is within the target outline and, if required, performs a small corrective push before retreating.",
    "preconditions": [
      "Workspace is clear except for the T block and the target outline",
      "Robot reachable workspace includes both block and target",
      "End-effector is circular and suitable for planar pushing",
      "Camera calibration sufficient for object/goal detection"
    ],
    "stepwise_plan": [
      "Detect T block and target outline",
      "Move above the block and align precisely",
      "Set yaw for side pushing and make light contact",
      "Execute repeated diagonal pushes toward the target",
      "Verify placement; if off, micro-correct and recheck",
      "Retreat and wait briefly"
    ],
    "success_criteria": [
      "Block pose overlaps the target outline within tolerance",
      "No collisions with fixtures or leaving the workspace",
      "End-effector disengages safely after placement"
    ],
    "failure_and_recovery": [
      "If detection fails, re-run perception on next tick",
      "If contact not detected, lower again within limits",
      "If block misaligned, perform corrective micro-push",
      "If slipping observed, reduce push distance and retry"
    ],
    "termination": "Terminate when placement condition holds and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_4","frame_6","frame_1","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.15,
      "frame_1": 0.32,
      "frame_2": 0.63,
      "frame_3": 0.93,
      "frame_4": 0.74,
      "frame_5": 0.88,
      "frame_6": 0.58,
      "frame_7": 0.40,
      "frame_8": 0.12
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "Stable tool–block contact with alignment toward the target becomes visible.",
        "predicts_next": "Oncoming push motion; direction toward the outline is implied.",
        "uncertainty_reduction": "high"
      },
      "frame_5": {
        "now_evidence": "Block nearly inside the outline; good indicator of placement verification.",
        "predicts_next": "Either corrective micro-push or retreat.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block","target_zone","table","robot_arm","end_effector"],
  "objects_from_instruction": ["T-shaped block (gray)","target (green)","circular end-effector (blue)"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":1200},"description":"Detect the T-shaped block in the scene."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_zone","timeout_ms":1200},"description":"Detect the target outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Move to a pre-push height above the block."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Align the tool laterally with the block edge."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient the tool for lateral pushing."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":800},"description":"Establish gentle planar contact."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":225,"timeout_ms":1500},"description":"Primary diagonal push toward the target."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_zone"},"description":"Check if block is within the target area."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_zone","tolerance":0.01,"timeout_ms":1200},"description":"Fine alignment relative to the target outline."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.05,"direction_deg":225,"timeout_ms":800},"description":"Corrective micro-push to settle in target."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_zone"},"description":"Re-check placement."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off safely from the block."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Short dwell to stabilize after retreat."}
  ],
  "tree_stats": {"nodes_total": 17, "actions": 11, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Perception misses block or target due to glare",
    "Tool loses contact causing slip",
    "Block rotates undesirably during push",
    "Over/under-shoot leading to partial placement"
  ],
  "recovery_strategy": [
    "Re-run detection on next tick if lost",
    "Reduce push distance and retry",
    "Realign yaw and re-establish contact",
    "Use corrective micro-push followed by verification"
  ],
  "assumptions": [
    "Frames show a red block and blue outline; instruction mentions gray block and green target—treated as color mismatch but same semantics.",
    "Direction 225° (down-left) chosen to match observed motion from upper-right toward the outline.",
    "10Hz observation/control noted but not mapped to action timeouts (library bins start at 400 ms)."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Final IsAt(target_zone) condition returns success twice (pre- and post-correction).",
      "Block pose visually overlaps target outline within tolerance 0.01."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":225,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"IsAt","attrs":{"target":"target_zone"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_zone","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
