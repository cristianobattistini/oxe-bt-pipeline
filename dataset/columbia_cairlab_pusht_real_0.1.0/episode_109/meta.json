{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_109",
  "task_summary": "Perceive a T-block and the goal mark, approach and align with the block, then execute several short pushes with a circular end-effector to drive the block toward the fixed target, verify goal proximity, and retreat.",
  "task_long_description": {
    "overview": "A tabletop scene shows a red T-shaped block on a white surface and a robot arm with a circular tool. A drawn T outline on the board indicates the goal region. The robot must detect both the block and the goal, approach the block, align the tool to make stable contact, and perform incremental pushes to move the block toward the goal. Short waits between pushes promote stability at 10 Hz sensing/control. After pushing, the robot verifies the goal region is reached and retreats to clear the workspace.",
    "preconditions": ["Workspace clear around the T-block", "Goal outline visible", "End-effector calibrated", "Camera provides unobstructed view"],
    "stepwise_plan": [
      "Detect T-block and goal region; rescan if not visible.",
      "Move above the block to a safe pre-contact height.",
      "Iteratively align to the block and push in small increments toward the goal, pausing briefly between pushes.",
      "Check goal proximity and finalize.",
      "Retreat to a safe standoff."
    ],
    "success_criteria": ["Block translated into/onto the goal outline", "No loss of contact stability during pushes", "Robot ends in a safe, non-contact pose"],
    "failure_and_recovery": [
      "Perception failure → rescan with grid pattern.",
      "Misalignment or sliding → re-approach and align before next push.",
      "Insufficient motion per push → perform additional push cycles."
    ],
    "termination": "Terminate when goal condition evaluated after the push cycles is satisfied and the tool has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block_red", "target_outline_blue", "circular_end_effector", "table_surface"],
  "objects_from_instruction": ["t_block_gray", "target_green", "end_effector_blue"],
  "blackboard_keys": ["t_block_pose", "target_goal_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Quick visibility check for T-block."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Run detection to localize the T-block."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_goal"},"description":"Goal region visibility check."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_goal","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Grid scan to find/confirm goal outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Pre-contact positioning above block."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Close in and align tool to block face."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1500},"description":"Execute a short push toward the goal direction."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief settle time between pushes."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_goal"},"description":"Verify goal vicinity after push cycles."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe pose."}
  ],
  "tree_stats": {"nodes_total": 17, "actions": 7, "conditions": 3, "depth": 4},
  "failure_modes": [
    "Block not detected or occluded",
    "Tool misaligned causing slip or rotation",
    "Push distance insufficient to reach goal",
    "Overshoot past goal outline"
  ],
  "recovery_strategy": [
    "Perception fallback with grid scan",
    "Re-approach and align before next push",
    "Repeat short push cycles",
    "Stop if pose estimate is inconsistent and rescan"
  ],
  "assumptions": [
    "Frames show a red T-block and a blue goal outline; instruction mentions gray block and green target—treated outline as the fixed target.",
    "Push direction assumed approximately +x (0°) based on motion across frames.",
    "Task is pure pushing; no grasping used despite availability of gripper actions.",
    "10 Hz mention informs short timeouts and settle waits but not set explicitly in ports."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Block within goal outline bounds", "No collision with fixtures", "Robot ends in retreat pose"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": ["Sequence","Fallback","RetryUntilSuccessful","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Repeat","Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","Repeat","Sequence","Push"]
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": ["Sequence","Repeat","Sequence","Wait"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","Repeat","Sequence","Push"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","Repeat","Sequence","Push"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}
