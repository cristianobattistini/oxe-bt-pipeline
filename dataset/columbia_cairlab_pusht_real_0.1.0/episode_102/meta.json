{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_102",
  "task_summary": "Detect the T-shaped block and the target outline, approach and make gentle contact, orient the tool, push the block rightward toward the target, verify at target, then retreat.",
  "task_long_description": {
    "overview": "A UR-style arm with a circular end-effector must push a T-shaped block across a planar tabletop into a drawn T-shaped target outline. The robot first perceives both the block and the goal pose, then approaches the block, establishes contact at low speed, and orients its TCP before initiating a pushing motion roughly rightward toward the goal. After the push, the system checks alignment with the target outline, performs any small corrective alignment, and finally retreats, leaving the block within the target boundaries.",
    "preconditions": ["Workspace clear of obstacles", "Camera view of block and target", "End-effector configured for planar pushing", "Tabletop is low-friction but predictable"],
    "stepwise_plan": ["Perceive block and target", "Move above and align to the block", "Lower until contact", "Set yaw for push direction", "Push the block toward the target", "Fine-align near target", "Verify position at target", "Retreat"],
    "success_criteria": ["Block overlaps the target T outline", "No collisions with environment", "Tool retracts to a safe height"],
    "failure_and_recovery": ["Perception miss → scan pattern search", "Early slip or missed contact → re-approach and align", "Undershoot/overshoot → small corrective alignment near target"],
    "termination": "Terminate after verification that the block is at the target and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1200,
    "tolerance": 0.01,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block", "target_T_outline", "end_effector_circle", "table", "robot_arm"],
  "objects_from_instruction": ["t_block_gray", "target_green", "end_effector_blue"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Quick visibility check for the T-block."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Active scan to localize the block if not immediately visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_T"},"description":"Check that the target outline is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_T","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Fallback scan to localize the target outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1500},"description":"Position tool above the block at a safe height."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Align tool to block face for a straight push."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":2.0,"timeout_ms":800},"description":"Lower slowly until contact is detected."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":0},"description":"Orient TCP for rightward push."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":0,"timeout_ms":1500},"description":"Execute planar push toward the target."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_T","tolerance":0.01,"timeout_ms":1200},"description":"Fine alignment near the target outline."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_T"},"description":"Verify that the goal pose has been reached."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance after placement."}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 9, "conditions": 3, "depth": 3},
  "failure_modes": ["Object not detected due to glare/occlusion", "Tool slips before establishing stable contact", "Push direction misestimated", "Overshoot past target"],
  "recovery_strategy": ["Fallback scanning for both block and target", "Re-approach-and-align after slip", "Small corrective alignment near target", "Retry push with same yaw if verification fails"],
  "assumptions": ["Frames show a red T-block and a blue T outline; instruction mentions gray block and green target—frames were preferred.", "Push direction approximated as rightward (0 deg) based on motion from frames.", "IsAt(target_T) used as proxy for 'block at target' due to available condition set.", "10 Hz observation/control noted but not mapped to any library port."],
  "evaluation_notes": {
    "expected_success_criteria": ["Block lies within target outline after push", "Robot retreats safely"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"t_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.03,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":2.0,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"SetTCPYaw","attrs":{"yaw_deg":0}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_T","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"IsAt","attrs":{"target":"target_T"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
