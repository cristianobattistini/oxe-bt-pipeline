{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_085",
  "task_summary": "Push the T-shaped block toward a marked target region using a circular end-effector with visual detection, alignment, contact, repeated pushes, and retreat at 10Hz.",
  "task_long_description": {
    "overview": "A UR-style arm with a circular tip must push a T-shaped block across a tabletop to a fixed target outline while cameras provide observations at 10Hz and commands are issued at 10Hz. The sequence begins with perception of the block and target, followed by a guarded approach to establish contact without grasping. The controller aligns yaw, then executes several directional pushes of varying distance to reach the target. Final small corrective pushes are performed before retreating to a safe standoff. The process emphasizes reliable detection, gentle contact, and repeatable push motion.",
    "preconditions": [
      "Workspace clear except the T block and target outline",
      "End-effector free and positioned above table",
      "Camera and perception running at 10Hz",
      "Controller ready to execute push primitives"
    ],
    "stepwise_plan": [
      "Detect the T block; if not visible, scan in a raster pattern",
      "Detect the target area; if not visible, scan in a grid pattern",
      "Move above the block and align laterally",
      "Set yaw and lower until contact is detected",
      "Perform three medium pushes toward the target",
      "Re-align to target and perform two short corrective pushes",
      "Retreat and wait briefly"
    ],
    "success_criteria": [
      "T block pose overlaps the target outline within small visual tolerance",
      "No loss of contact control leading to tipping or unintended rotation",
      "Robot ends in a safe, non-contact configuration"
    ],
    "failure_and_recovery": [
      "If the block or target is not detected, invoke scanning and retry perception",
      "If contact is not sensed, re-approach and lower again",
      "If pushes overshoot or drift, re-align and issue shorter corrective pushes"
    ],
    "termination": "Terminate after retreat and short wait once the block appears within the target tolerance or after action sequence completes."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["t_block_red", "target_outline_blue", "circular_end_effector"],
  "objects_from_instruction": ["T-shaped block (gray)", "target (green)", "circular end-effector (blue)"],
  "blackboard_keys": ["t_block", "target_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks if the T block is visible to perception."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1500},"description":"Raster scan to localize the T block if not initially visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_pose"},"description":"Checks visibility of the target area."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_pose","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Grid scan to localize the target region."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1200},"description":"Move above the block with a small vertical offset."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Lateral approach and alignment to the block before contact."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":0},"description":"Align end-effector yaw with planned push direction."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":800},"description":"Guarded lower until contact is sensed."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1200},"description":"Medium push toward the target."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_pose","tolerance":0.005,"timeout_ms":1200},"description":"Re-align with respect to the target for fine positioning."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.05,"direction_deg":45,"timeout_ms":800},"description":"Short corrective push toward the target."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to stabilize and allow sensing updates."}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 11, "conditions": 2, "depth": 3},
  "failure_modes": ["Object or target not detected", "Insufficient contact causing slip", "Over-rotation of the T during push", "Path blocked by robot self-collision", "Overshoot past the target"],
  "recovery_strategy": ["Invoke scanning when visibility fails", "Re-approach and lower again if contact not sensed", "Re-align and use shorter pushes for fine control", "Retreat and replan if motion aborts"],
  "assumptions": ["Frames show a red T block and a blue outline target; instruction mentions gray block and green target, so color cues were adapted to match frames.", "Pushing direction of 45Â° chosen to reflect diagonal motion toward the visible outline.", "Contact is achieved without grasping given circular tool-tip."],
  "evaluation_notes": {
    "expected_success_criteria": ["Final block pose overlaps target outline within visual tolerance", "No unintended tipping or loss of contact", "Robot safely retreats after placement"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.05,"direction_deg":45,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
