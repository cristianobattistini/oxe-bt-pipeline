{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_053",
  "task_summary": "Detect the T-shaped block and the goal outline, approach and align to the block, make gentle contact, then push the block leftward in two short strokes toward the goal outline; verify arrival, then retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a circular end-effector must push a T-shaped block across a planar workspace until it aligns with a fixed target outline. The sequence begins with visual detection of the block and the goal, followed by a careful approach and alignment to establish stable contact. The robot performs one or two leftward pushes to translate the block. After pushing, the system verifies proximity/alignment to the goal outline, then retreats to clear the workspace. The control loop runs at 10 Hz, favoring short, bounded actions and retries.",
    "preconditions": [
      "Workspace is clear and planar",
      "Block (t_block) and goal outline (goal_T_outline) are within the camera view",
      "Robot is homed and reachable to the push corridor",
      "End-effector is circular and rigid"
    ],
    "stepwise_plan": [
      "Detect t_block and goal_T_outline",
      "Move above the block and align for pushing",
      "Lower until contact with low force threshold",
      "Execute two short pushes leftward toward the goal",
      "Realign to goal outline and verify arrival",
      "Retreat and wait briefly"
    ],
    "success_criteria": [
      "Block pose overlaps the goal outline within a small tolerance",
      "No sliding after the robot retreats",
      "No collisions with non-target objects"
    ],
    "failure_and_recovery": [
      "If detection fails: re-detect targets",
      "If contact not reached: re-approach and lower again",
      "If push underperforms: retry limited pushes (decorated with RetryUntilSuccessful)",
      "If overshoot: re-align and perform corrective small push back"
    ],
    "termination": "Tree succeeds when IsAt(goal_T_outline) is true after alignment; otherwise fails after retries/timeouts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block","goal_T_outline","end_effector","table"],
  "objects_from_instruction": ["T-shaped block","target outline","circular end-effector"],
  "blackboard_keys": ["t_block","goal_T_outline"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"string","timeout_ms":"int"},"description":"Vision detection of a symbolic target."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"string","offset_z":"float","timeout_ms":"int"},"description":"Position TCP above target with safe clearance."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"string","tolerance":"float","timeout_ms":"int"},"description":"Planar approach and alignment to target within tolerance."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"string","max_depth":"float","force_threshold":"float","timeout_ms":"int"},"description":"Lower the TCP until contact force threshold is met."},
    {"id":"Push","type":"Action","ports":{"target":"string","distance":"float","direction_deg":"int","timeout_ms":"int"},"description":"Planar push of target by set distance and direction."},
    {"id":"IsAt","type":"Condition","ports":{"target":"string"},"description":"Checks if current object pose is at/within the goal region."},
    {"id":"Retreat","type":"Action","ports":{"distance":"float","timeout_ms":"int"},"description":"Back off from the object to clear the workspace."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":"int"},"description":"Short delay for stabilization."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 1, "depth": 4},
  "failure_modes": ["Target detection failure", "Contact not established", "Push under- or over-shoot", "Block yaw drift during push", "Friction variation causing slip"],
  "recovery_strategy": ["Re-run DetectObject on both targets", "Re-approach and LowerUntilContact again", "Retry short pushes with bounded distance", "Re-align to block and to goal outline"],
  "assumptions": [
    "Frames show a red T block and a blue goal outline; instruction mentions gray block and green target. We follow the frames and treat these as color variants of the same entities.",
    "Push direction inferred as leftward (~180°) from frames 3–6; exact corridor not provided.",
    "10 Hz control/observation informs short timeouts but is not directly parameterized in ports."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["IsAt(goal_T_outline) true after final alignment", "Minimal residual motion after Wait"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"goal_T_outline","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"goal_T_outline","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
