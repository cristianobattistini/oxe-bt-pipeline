{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_113",
  "task_summary": "Push the T-shaped block to match the target outline using the circular end-effector with short, repeated pushes and final verification.",
  "task_long_description": {
    "overview": "A UR-style manipulator with a circular pusher interacts with a red T-shaped block on a white tabletop containing a blue T-shaped outline that represents the goal configuration. The robot must detect the block, approach with a safe vertical offset, align the pusher to the block edge, and execute a series of directional pushes to move and rotate the block into the outline. After coarse and fine pushes, the robot verifies goal alignment and retreats. The control operates at 10 Hz but timeouts are discretized to stable bins.",
    "preconditions": ["Workspace clear and table dry", "Robot homed and tool mounted (circular pusher)", "Camera provides view of block and goal outline", "Block is free to slide on the surface"],
    "stepwise_plan": ["Detect or search for the T-shaped block pose", "Move above and align the tool to a pushing edge", "Execute two to three pushes to translate and rotate toward the outline", "Perform a fine push to settle into the outline", "Verify goal alignment near the outline", "Retreat to a safe distance"],
    "success_criteria": ["Block centroid and orientation overlap the target outline within small tolerance", "No collision with table fixtures or robot self-collision", "Robot ends in safe, non-contact pose"],
    "failure_and_recovery": ["If the block is not visible, perform a spiral search with retries", "If contact slips or motion is insufficient, re-approach and issue another short push", "If overshoot occurs, push from the opposite side with a smaller distance", "If occlusion prevents verification, reposition and re-detect"],
    "termination": "Terminate when goal verification succeeds or when retries and timeouts are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["block_T_red", "target_T_outline_blue", "end_effector_circular_blue", "robot_arm", "table_surface"],
  "objects_from_instruction": ["block_T_gray", "target_goal_green", "end_effector_blue_circular"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"block_T"},"description":"Check if the T block is visible before planning pushes."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"block_T","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Active search to localize the block if not immediately visible."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"block_T","offset_z":0.02,"timeout_ms":1200},"description":"Move above the block with a safe vertical offset to prepare for pushing."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient the tool yaw to push along the intended direction."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"block_T","tolerance":0.005,"timeout_ms":1200},"description":"Approach and align the pusher to the block edge with tight tolerance."},
    {"id":"Push","type":"Action","ports":{"target":"block_T","distance":0.1,"direction_deg":90,"timeout_ms":1200},"description":"Primary push toward the goal direction."},
    {"id":"Push","type":"Action","ports":{"target":"block_T","distance":0.1,"direction_deg":45,"timeout_ms":1200},"description":"Diagonal push to introduce translation and rotation toward the outline."},
    {"id":"Push","type":"Action","ports":{"target":"block_T","distance":0.05,"direction_deg":0,"timeout_ms":1200},"description":"Fine push to settle the block near the goal."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_goal_T","tolerance":0.005,"timeout_ms":1200},"description":"Final alignment near the target outline for placement accuracy."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_goal_T","timeout_ms":800},"description":"Perceptual verification that the block matches the goal outline region."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Back off to a safe pose after completion."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 10, "conditions": 1, "depth": 4},
  "failure_modes": ["Block not detected due to occlusion or lighting", "Insufficient friction leading to slip or rotation error", "Overshoot past the outline after a long push", "Tool misalignment causing unintended rotation"],
  "recovery_strategy": ["Retry spiral search with capped attempts", "Re-approach and issue a smaller distance push", "Adjust yaw and push from the opposite side for corrective motion", "Repeat fine-alignment and verification before retreat"],
  "assumptions": ["Frames show a red block and blue outline, differing from gray/green in the instruction; planning is grounded to the frames", "Directions (0/45/90 deg) are chosen to match plausible table-frame pushes without access to true world axes", "Verification uses DetectObject on the outline region as a proxy for goal check"],
  "evaluation_notes": {
    "expected_success_criteria": ["Pose of the T overlaps the outline within small tolerance", "No lingering contact and robot retreats safely"],
    "test_scenarios": ["happy path", "object_missing", "push_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"block_T"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"block_T","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"block_T","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"block_T","distance":0.1,"direction_deg":90,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"block_T","distance":0.1,"direction_deg":45,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"block_T","distance":0.05,"direction_deg":0,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_goal_T","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_goal_T","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
