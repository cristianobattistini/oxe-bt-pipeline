{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_041",
  "task_summary": "Detect the T-block and target, approach and align, then push the block along two segments into the target outline, verify alignment, and retreat.",
  "task_long_description": {
    "overview": "A robot arm with a circular end-effector must push a T-shaped block into a fixed T-shaped target outline drawn on a tabletop. The sequence begins with visual perception of both the block and the goal region, followed by a cautious approach to establish contact and alignment on the block’s stem. The tool yaw is set to favor stable linear pushing. The robot executes two controlled push segments to translate and orient the block into the outline, checks final alignment near the goal, then retreats to clear the workspace. Frequencies are effectively 10 Hz.",
    "preconditions": [
      "Workspace is clear except for a T-shaped block and the target outline",
      "Robot is homed and calibrated; camera provides scene view",
      "End-effector is a circular pusher; no gripping required"
    ],
    "stepwise_plan": [
      "Perceive the T-block and the goal outline; fall back to scanning if first detection fails",
      "Move above the block and approach to gentle contact with tight alignment",
      "Set yaw for pushing stability",
      "Execute first push segment toward the target",
      "Execute second push segment to finish alignment/orientation",
      "Verify near the goal outline and retreat"
    ],
    "success_criteria": [
      "T-block lies within/overlapping the T outline",
      "Block orientation visually consistent with outline",
      "No collisions with environment aside from intentional contact"
    ],
    "failure_and_recovery": [
      "If detection fails, scan with structured patterns and retry (decorators)",
      "If push slips or misaligns, re-approach and repeat push segments",
      "If excessive resistance/contact detected (not modeled), retreat and re-approach"
    ],
    "termination": "Terminate when verification near the goal completes and the arm retreats clear of the block."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First firm contact and alignment against the block’s stem is visible.",
        "predicts_next": "Suggests imminent push actuation along targetward direction.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm","circular_end_effector","block_T_red","target_outline_T_blue","tabletop"],
  "objects_from_instruction": ["T_block_gray","target_T_green","end_effector_circular_blue"],
  "blackboard_keys": ["t_block","target_T"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":1200},"description":"Detect the T-shaped block."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":1500},"description":"Active scan to find the block if initial detection fails."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_T","timeout_ms":1200},"description":"Detect the T-shaped goal outline."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_T","pattern":"grid","max_attempts":3,"timeout_ms":1500},"description":"Scan to locate the goal if detection fails."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Move above the block with a small vertical offset."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Approach to contact and align to the block."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient the end-effector for pushing stability."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1500},"description":"First push segment toward the target."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1500},"description":"Second push segment to finish alignment."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_T","tolerance":0.02,"timeout_ms":1200},"description":"Verify near the goal outline and settle the block."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to clear the object."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Short dwell to ensure stability."}
  ],
  "tree_stats": {"nodes_total": 17, "actions": 12, "conditions": 0, "depth": 4},
  "failure_modes": [
    "Perception miss due to glare or occlusion",
    "Block rotation during push causing misalignment",
    "Insufficient push distance leading to underreach",
    "Overshoot causing the block to pass the outline"
  ],
  "recovery_strategy": [
    "Retry detection with scanning patterns",
    "Re-approach and re-align, then repeat push segments",
    "Adjust yaw and re-execute final push",
    "Retreat and re-perceive if unexpected contact occurs"
  ],
  "assumptions": [
    "Frames show a red block and blue outline, while the instruction mentions a gray block and green target; we follow the frames.",
    "Contact detection is implicit via alignment; explicit force sensing is not available in the node library."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Block’s centroid and orientation fall within tolerances of the outline",
      "No lingering contact after retreat"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":1200}},
      "active_path_ids": ["Sequence","RetryUntilSuccessful","Fallback","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_T","timeout_ms":1200}},
      "active_path_ids": ["Sequence","RetryUntilSuccessful","Fallback","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":45,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","Push"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":0,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","Push"]
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_T","tolerance":0.02,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": ["Sequence","Wait"]
    }
  ]
}
