{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_084",
  "task_summary": "Perceive the T-shaped block, approach and align the circular tool, then push the block along a planned direction until it matches the target pose before retreating.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a circular end-effector must push a T-shaped block across a planar white surface until it aligns with a marked target pose, visible as a T outline on the table. The control and observation loops run at 10 Hz, so actions should be short and repeatable. The behavior uses perception to localize both the block and target, aligns tool yaw for lateral pushing, establishes gentle contact, and executes one or more pushes with intermittent re-localization before a final retreat.",
    "preconditions": [
      "Workspace is clear and the T-shaped block is within reachable area",
      "Target pose marking is visible to perception",
      "End-effector is unobstructed and calibrated"
    ],
    "stepwise_plan": [
      "Scan and detect the T block and target pose",
      "Move above, set yaw, align, and lower until contact",
      "Iteratively push toward the target with rechecks",
      "Perform a final small push and retreat"
    ],
    "success_criteria": [
      "Block centroid and orientation fall within tolerance of the target pose",
      "No collisions or loss of contact stability during pushes"
    ],
    "failure_and_recovery": [
      "If detection fails, rescan the area",
      "If alignment drifts, realign and repeat push",
      "If contact is lost, re-approach and re-establish contact"
    ],
    "termination": "Terminate when the IsAt condition for the block-at-goal becomes true or after the final retreat step completes."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block","t_block_goal","workspace","end_effector","table_surface"],
  "objects_from_instruction": ["t_block_gray","target_green","end_effector_blue"],
  "blackboard_keys": ["push_direction"],
  "node_specs": [
    {"id":"IsAt","type":"Condition","ports":{"target":"t_block_goal"},"description":"Checks if the T block is within goal tolerance."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":800},"description":"Raster scan to localize the block in the workspace."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Detect the T block pose."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block_goal","timeout_ms":800},"description":"Detect the goal pose marker."},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"push_direction","value":"east"},"description":"Record nominal push direction based on scene."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1200},"description":"Go to pre-contact height above the block."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient tool to push laterally."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Fine-align before contact."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":1200},"description":"Descend to establish gentle contact."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":800},"description":"Primary push toward the goal."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Re-align for iterative pushes."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.05,"direction_deg":90,"timeout_ms":800},"description":"Final nudging push."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe standoff after success."}
  ],
  "tree_stats": {"nodes_total": 19, "actions": 14, "conditions": 1, "depth": 5},
  "failure_modes": ["Object not detected", "Contact lost during push", "Orientation misalignment causing rotation", "Obstacle or table boundary interference"],
  "recovery_strategy": ["Rescan and redetect", "Realign and re-approach", "Adjust yaw and repeat push with smaller distance", "Abort and retreat if force limits exceeded"],
  "assumptions": ["Frames show a red block and blue outline; instruction mentions gray block and green target, so colors differ but geometry matches", "IsAt is interpreted as block-at-goal rather than robot-at-goal"],
  "evaluation_notes": {
    "expected_success_criteria": ["Block overlaps target outline within small pose tolerance", "No collisions or tipping during push"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": ["Fallback","Sequence","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": ["Fallback","Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": ["Fallback","Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.02,"force_threshold":10.0,"timeout_ms":1200}},
      "active_path_ids": ["Fallback","Sequence","LowerUntilContact"]
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":800}},
      "active_path_ids": ["Fallback","Sequence","RetryUntilSuccessful","Sequence","Push"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block_goal","timeout_ms":800}},
      "active_path_ids": ["Fallback","Sequence","RetryUntilSuccessful","Sequence","DetectObject"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":800}},
      "active_path_ids": ["Fallback","Sequence","RetryUntilSuccessful","Sequence","Push"]
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.05,"direction_deg":90,"timeout_ms":800}},
      "active_path_ids": ["Fallback","Sequence","Push"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": ["Fallback","Sequence","Retreat"]
    }
  ]
}
