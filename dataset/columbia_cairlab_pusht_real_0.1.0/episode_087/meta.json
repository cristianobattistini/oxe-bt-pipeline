{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_087",
  "task_summary": "Perceive the T block and target outline, approach with a set yaw, then push the block in two stages to fit the target shape, finally retreat and wait for stabilization.",
  "task_long_description": {
    "overview": "A UR-style manipulator with a circular end-effector must push a T-shaped block across a white tabletop into a drawn T-shaped target outline. The sequence begins with visual detection of both the movable block and the fixed target. The robot moves above the block, sets yaw to push from the side, aligns to the block edge, performs a primary push toward the target, verifies alignment at the target, and executes a short corrective push. The task ends with a retreat and a brief settling pause. Control/observation are nominally 10 Hz but timing is bucketed by available action timeouts.",
    "preconditions": [
      "Workspace clear with T block and target outline present",
      "Camera provides visibility of block and target",
      "End-effector free and at a safe height",
      "Controller ready for push actions"
    ],
    "stepwise_plan": [
      "Detect the T block and the target outline",
      "Move above the block and set yaw for side pushing",
      "Approach and align to the block edge with tight tolerance",
      "Execute a long push toward the target",
      "Verify alignment at the target and apply a short corrective push",
      "Retreat to a safe distance and wait briefly"
    ],
    "success_criteria": [
      "Block pose overlaps the target outline within small visual tolerance",
      "No collisions beyond intended pushing contact",
      "Robot ends in a safe, non-contact pose"
    ],
    "failure_and_recovery": [
      "If detection fails, retry perception steps",
      "If push deviates, re-align at target and perform corrective push",
      "If unexpected contact is detected, retreat and re-approach"
    ],
    "termination": "Terminate after retreat and stabilization wait once the block appears within the target outline."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block_red", "target_outline_T_blue", "circular_end_effector", "robot_arm", "tabletop_white"],
  "objects_from_instruction": ["t_block_gray", "target_green", "end_effector_blue"],
  "blackboard_keys": ["t_block", "target_T", "t_block_edge"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Detect the movable T block to initialize pose tracking."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_T","timeout_ms":800},"description":"Detect the fixed T-shaped target outline."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1200},"description":"Move above the block to a safe pre-push height."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient the end-effector for lateral pushing."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block_edge","tolerance":0.005,"timeout_ms":1200},"description":"Approach the block edge and align precisely for contact."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":0,"timeout_ms":1500},"description":"Primary push toward the target area along table X."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_T","tolerance":0.01,"timeout_ms":1200},"description":"Verify and align near the target outline."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1500},"description":"Short corrective push orthogonal to refine placement."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe clearance."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Allow the block to settle for observation."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 10, "conditions": 0, "depth": 3},
  "failure_modes": ["Block not detected", "Target outline occluded", "Push overshoots or rotates block", "Friction variation causes under-travel"],
  "recovery_strategy": ["Retry detection up to three times", "Re-approach and re-align before re-pushing", "Use corrective short push after verification", "Retreat and re-plan if unexpected contact"],
  "assumptions": ["Frames show a red T block and blue outline; instruction colors differ, so visual grounding follows frames", "10 Hz detail is not directly mapped; timeouts use nearest allowed bins"],
  "evaluation_notes": {
    "expected_success_criteria": ["Final pose visually within target outline and robot safely retreated"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_T","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"SetTCPYaw","attrs":{"yaw_deg":90}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block_edge","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":0,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_T","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
