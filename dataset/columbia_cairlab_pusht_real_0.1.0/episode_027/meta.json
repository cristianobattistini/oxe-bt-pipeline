{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_027",
  "task_summary": "Perceive the red T-block, align the circular tool, and execute one or more pushes to bring the block onto the blue T-shaped outline, then retreat.",
  "task_long_description": {
    "overview": "A UR-style arm with a circular end-effector must push a T-shaped block on a white tabletop into a fixed, T-shaped outline drawn on the surface. The sequence begins with perception to locate the block, then an approach and fine alignment before pushing. The push proceeds primarily along one direction with possible small corrective pushes. After reaching the outline, the robot verifies goal attainment and retreats to clear the workspace.",
    "preconditions": [
      "Worksurface is unobstructed",
      "Block lies on the table within the reachable workspace",
      "T-shaped goal outline is fixed and visible",
      "End-effector is free and above the surface"
    ],
    "stepwise_plan": [
      "If the block is not immediately visible, scan the area.",
      "Detect the block and move to a safe height above it.",
      "Approach and align the tool to a push face with tight tolerance.",
      "Set yaw for lateral pushing.",
      "Execute a main push followed by a shorter corrective push toward the goal.",
      "Verify the block is at the T-shaped outline.",
      "Retreat and wait briefly."
    ],
    "success_criteria": [
      "Block’s footprint overlaps the T outline within tolerance",
      "No collisions or loss of contact during pushing",
      "Robot ends in a safe, retracted pose"
    ],
    "failure_and_recovery": [
      "If the block is not found: raster scan with retries",
      "If alignment slips: re-approach and re-align",
      "If push distance insufficient: perform an additional short push"
    ],
    "termination": "Terminate when the block is verified at the goal outline and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_t_block","blue_T_goal_outline","circular_end_effector","tabletop"],
  "objects_from_instruction": ["gray_t_block","green_target","blue_end_effector"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1500},"description":"Raster scan to locate the T-block if not immediately visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":1200},"description":"Confirm and localize the T-block."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Go to a safe height above the block before approach."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1500},"description":"Close in and align the tool to a pushing face with tight tolerance."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient the tool for lateral pushing."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":90,"timeout_ms":1500},"description":"Primary push toward the goal outline."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200},"description":"Short corrective push to finish alignment into the outline."},
    {"id":"IsAt","type":"Condition","ports":{"target":"goal_T_outline"},"description":"Check if the block is at the goal outline."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Brief pause to stabilize and end."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Quick visibility check before scanning."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 9, "conditions": 2, "depth": 5},
  "failure_modes": [
    "Block not detected due to lighting or pose",
    "Tool misalignment causing block rotation",
    "Insufficient push distance",
    "Overshoot past the outline"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 attempts",
    "Re-run ApproachAndAlign if slip detected",
    "Issue an additional short Push if not at goal",
    "Retreat and re-approach if contact unstable"
  ],
  "assumptions": [
    "Frames show a red block and blue outline, while the instruction mentions a gray block and green target; visual evidence is used.",
    "Goal direction approximated as +90° (rightward) based on the apparent motion.",
    "Pose estimation provides sufficient accuracy for tolerance 0.005."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Final pose within the T outline and tool retracted"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":90,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"IsAt","attrs":{"target":"goal_T_outline"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
