{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_074",
  "task_summary": "Detect the T-shaped block, align the circular tool, then push the T into the target outline and retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a circular end-effector must push a T-shaped block to a goal region drawn on the table. The robot first perceives both the block and the target, moves above the block, aligns its tool yaw to match the desired push direction, and performs a short controlled push. After motion, it re-detects the block and verifies goal attainment before retreating. The scene shows a planar white workspace with the red T and a blue target outline; contact is sliding, not grasping.",
    "preconditions": [
      "Workspace clear and reachable",
      "Block (t_block) and target region (target_T) visible",
      "End-effector free; no object in gripper",
      "Controller active at 10 Hz observation/control loop"
    ],
    "stepwise_plan": [
      "Scan to localize t_block and target_T",
      "Move above t_block and align laterally",
      "Verify target visibility and set yaw to push direction",
      "Execute a 0.1 m push leftward",
      "Re-detect t_block and check if at target",
      "Retreat to clear the object"
    ],
    "success_criteria": [
      "Block final pose inside target_T outline",
      "Block orientation within acceptable tolerance relative to the target",
      "No collisions with table fixtures; continuous contact during push"
    ],
    "failure_and_recovery": [
      "If t_block not detected: repeat ScanForTarget",
      "If misaligned before push: re-run ApproachAndAlign and yaw check",
      "If push too short: repeat Push with same parameters",
      "If occluded: reposition by re-scanning"
    ],
    "termination": "Terminate after verifying the block is at target_T or after repeated detection/push attempts time out."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First clear tool-to-block engagement with alignment cue visible.",
        "predicts_next": "Push actuation is imminent along the tool axis.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block","target_T","table","end_effector"],
  "objects_from_instruction": ["T-shaped block","fixed target","circular end-effector"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Searches workspace to localize the T block."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks that the block is detectable."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_T","pattern":"line","max_attempts":3,"timeout_ms":1200},"description":"Localizes the goal region."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":1200},"description":"Moves above the block at a safe height."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Lateral approach to establish pushing contact with tight alignment."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_T"},"description":"Ensures the goal region is visible before pushing."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient tool to push direction."},
    {"id":"AtOrientation","type":"Condition","ports":{"yaw_deg":90},"description":"Verifies commanded yaw is reached."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":180,"timeout_ms":1500},"description":"Executes the planar push toward the target."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":800},"description":"Post-push localization of the block."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_T"},"description":"Checks if the block/end state is within the goal region."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to clear the workspace."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 9, "conditions": 4, "depth": 2},
  "failure_modes": ["Object not detected", "Yaw not reached", "Slip during push", "Push distance insufficient", "Occlusion of target"],
  "recovery_strategy": ["Re-scan up to max_attempts", "Re-run alignment and yaw set", "Repeat push with same parameters", "Wait briefly then re-detect"],
  "assumptions": [
    "Frames show a red T and blue target outline; instruction mentions gray block and green targetâ€”treated as semantic equivalents.",
    "Direction_deg=180 interpreted as leftward in the camera/base frame.",
    "IsAt(target_T) is used to represent object-at-goal verification."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Block located within target_T after push", "Minimal rotation error", "No loss of contact during push"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"AtOrientation","attrs":{"yaw_deg":90}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"distance":0.1,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"distance":0.1,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
