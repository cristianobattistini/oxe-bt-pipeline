{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_035",
  "task_summary": "Perceive the T block and goal outline, approach and align, make gentle contact, then push the block leftward toward the goal, stabilize, and retreat.",
  "task_long_description": {
    "overview": "A UR-style arm with a cylindrical end-effector pushes a T-shaped block across a white tabletop toward a drawn T-shaped goal outline. The behavior first ensures both the block and the goal are perceived, then approaches the block, aligns the tool orientation with the intended push direction, lowers gently to establish contact, and performs a single continuous push toward the goal. After motion, the robot briefly waits to settle and then retreats to clear the workspace. The scene shows consistent leftward motion of the block during the push, suggesting a target located to the left of the starting pose.",
    "preconditions": [
      "Workspace is clear except for the T block and the goal outline",
      "Robot is homed and within reach of the block",
      "Perception stack can detect 't_block' and 'target_slot' (goal outline)"
    ],
    "stepwise_plan": [
      "Verify visibility of the T block; scan if not visible, then detect pose.",
      "Verify visibility of the goal outline; scan if not visible, then detect pose.",
      "Move above the block and refine alignment to the push side.",
      "Rotate tool yaw to align with leftward push direction.",
      "Lower slowly until contact is detected within a shallow depth.",
      "Push the block a long stroke toward the left (toward goal).",
      "Wait briefly to settle; retreat to a safe distance."
    ],
    "success_criteria": [
      "Block ends inside or overlapping the target outline",
      "No collision with robot body or table fixtures",
      "Continuous push with maintained contact (no loss of control)"
    ],
    "failure_and_recovery": [
      "If block not visible: scan line pattern up to 3 tries and re-detect",
      "If misaligned contact: re-approach and realign then retry push",
      "If slip during push: stop, re-approach contact, and reattempt push"
    ],
    "termination": "Tree succeeds when the push and retreat complete after a final stabilization wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First firm alignment and contact near the inner corner of the T block are visible.",
        "predicts_next": "A leftward push is imminent based on tool yaw and contact pose.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["t_block","target_slot","table","robot_arm","ee_tip"],
  "objects_from_instruction": ["T-shaped block (gray)","fixed target (green)","circular end-effector (blue)"],
  "blackboard_keys": ["t_block_pose","target_slot_pose"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Checks if the T block is currently visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"line","max_attempts":3,"timeout_ms":1200},"description":"Line scan to find the block if not visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":1200},"description":"Detects and updates the pose of the block."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_slot"},"description":"Checks if the goal outline is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_slot","pattern":"line","max_attempts":3,"timeout_ms":1200},"description":"Line scan to localize the goal outline."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_slot","timeout_ms":1200},"description":"Detects and updates the pose of the goal."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.02,"timeout_ms":800},"description":"Moves above the block for a safe pre-contact pose."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.005,"timeout_ms":1200},"description":"Refines lateral alignment to the push side."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":180},"description":"Sets tool yaw to align with a leftward push."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.01,"force_threshold":10.0,"timeout_ms":800},"description":"Gently lowers to establish contact."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500},"description":"Executes the main push stroke toward the goal."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Backs away after the push."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Short stabilization wait after motion."}
  ],
  "tree_stats": {"nodes_total": 16, "actions": 11, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Block occluded; detection fails",
    "Misalignment causes the tool to slip off the T edge",
    "Over- or under-travel causing the block to miss the outline",
    "Contact not reached within depth limit"
  ],
  "recovery_strategy": [
    "Re-run scan and DetectObject when visibility fails",
    "Re-approach and realign, then repeat LowerUntilContact",
    "If slip occurs, stop, retreat slightly, and retry the push"
  ],
  "assumptions": [
    "Frames show a red T block and a blue goal outline; instruction mentions gray block and green target—frames preferred.",
    "End-effector appears dark/black rather than blue; treated as circular as per instruction.",
    "Push direction inferred leftward (≈180°) from motion between frames 2–6."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Final block pose overlaps the drawn target outline",
      "Single continuous push without losing contact",
      "Safe retreat with no collisions"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"t_block","pattern":"line","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.02,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.01,"force_threshold":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.2,"direction_deg":180,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}
