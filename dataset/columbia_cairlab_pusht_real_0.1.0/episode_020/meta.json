{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_020",
  "task_summary": "Detect the T-shaped block and the goal outline, approach to make side contact, perform two push cycles roughly toward the upper-left to seat the block into the target T outline, then retreat and wait.",
  "task_long_description": {
    "overview": "A UR-style arm with a circular end-effector must push a T-shaped block across a planar white surface into a fixed T-shaped target outline. The contact sheet shows the block initially on the right, the drawn T target at mid-left, and the tool approaching, making contact, pushing, and then withdrawing. The behavior emphasizes reliable perception, gentle alignment before pushing, two controlled push strokes toward the goal, and a short stabilization at the end.",
    "preconditions": [
      "Workspace is clear and planar",
      "T-shaped block present and visible or discoverable",
      "Target T-outline present and static",
      "Robot kinematics calibrated; safe velocity/force limits configured"
    ],
    "stepwise_plan": [
      "Verify or actively scan for the block and the target",
      "Move above and align to the block for side contact",
      "Rotate TCP yaw for pushing orientation and move to contact",
      "Execute repeated pushes toward the target region",
      "Fine-align at the target and place the block within the outline",
      "Retreat to a safe height and pause"
    ],
    "success_criteria": [
      "Block's footprint overlaps the target T-outline with acceptable tolerance",
      "No collisions other than intended pushing contact",
      "Tool retreats to a safe pose at end"
    ],
    "failure_and_recovery": [
      "If perception fails, perform spiral scan and re-detect",
      "If push slips or under-shoots, repeat push cycle",
      "If overshoot occurs, re-align and push back along opposite direction"
    ],
    "termination": "Terminate after successful placement check and post-action retreat."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block_red", "target_T_outline_blue", "end_effector_blue", "table_white"],
  "objects_from_instruction": ["T-shaped block (gray)", "fixed target (green)", "circular end-effector (blue)"],
  "blackboard_keys": ["t_block_contact"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"t_block"},"description":"Check if the T-shaped block is visible."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"target_T"},"description":"Check if the target outline is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"t_block","pattern":"spiral","max_attempts":3,"timeout_ms":800},"description":"Active scan to localize the block if not immediately visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"target_T","pattern":"spiral","max_attempts":3,"timeout_ms":800},"description":"Active scan to localize the target if needed."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"t_block","offset_z":0.03,"timeout_ms":1200},"description":"Move to a safe height above the block before approaching."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Align tool laterally to prepare for pushing contact."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient the tool yaw to match desired push direction."},
    {"id":"MoveTo","type":"Action","ports":{"target":"t_block_contact","timeout_ms":800},"description":"Move to pre-contact pose on the side of the block."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":135,"timeout_ms":1200},"description":"Execute a push stroke toward the target (upper-left)."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"target_T","tolerance":0.01,"timeout_ms":1200},"description":"Fine alignment with the target outline before final placement."},
    {"id":"MoveTo","type":"Action","ports":{"target":"target_T","timeout_ms":1200},"description":"Place the block into the target area."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off to a safe distance after completion."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Short stabilization pause."}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 11, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Perception misses block/target due to glare or occlusion",
    "End-effector slips off the block during push",
    "Insufficient push distance leading to undershoot",
    "Overshoot past the target due to low friction"
  ],
  "recovery_strategy": [
    "Fallback to spiral scan and re-detect",
    "Repeat the push cycle to incrementally approach the target",
    "Re-align yaw and contact pose, then push with the same distance"
  ],
  "assumptions": [
    "Instruction mentions gray block and green target; frames show a red block and a blue target outline. We prioritize frames.",
    "Push direction selected as 135Â° (upper-left) based on block starting on the right and target at mid-left.",
    "Two push cycles are sufficient to seat the block; more could be added if needed."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Block visually overlaps the T outline within ~1 cm tolerance",
      "No unintended collisions; robot retreats safely"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"t_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"t_block","offset_z":0.03,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"t_block_contact","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":135,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":135,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":135,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"target_T","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"target_T","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}
