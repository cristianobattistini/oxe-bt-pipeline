{
  "dataset_id": "columbia_cairlab_pusht_real_0.1.0",
  "episode_id": "episode_038",
  "task_summary": "Detect the T-block and target, align the circular end-effector, execute two pushes toward the target, verify arrival, then retreat.",
  "task_long_description": {
    "overview": "A fixed-base manipulator with a circular blue end-effector must push a T-shaped block across a white tabletop into a marked target zone. The contact sheet shows approach from above/side, initial contact, and repeated pushing until the block reaches the stencil. The behavior runs at 10 Hz for observation and control, so actions are short and reactive. The plan emphasizes reliable perception, orientation alignment, and staged pushes with bounded timeouts and retry on perception. Success is verified by a symbolic check that the block is at the target before the tool retreats safely.",
    "preconditions": ["Workspace clear around block and target zone", "Camera provides view of block and target", "End-effector free of prior contact", "Controller operating at 10 Hz"],
    "stepwise_plan": ["Detect the T-block pose", "Detect/locate target zone", "Set tool yaw for lateral push", "Approach and align to the block edge", "Execute first push toward target", "Execute second push to complete placement", "Verify block is at target", "Retreat and pause"],
    "success_criteria": ["Block overlaps/occupies the target zone", "No collisions with fixtures", "Tool retreats clear after verification"],
    "failure_and_recovery": ["If detection fails, retry up to three times", "If push times out, reattempt with the second push", "If verification fails, the sequence halts for operator or higher-level policy"],
    "termination": "Terminate after successful verification followed by a short wait post-retreat, or upon any unrecovered failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "First stable contact and alignment between tool and T-block edge is visible.",
        "predicts_next": "Suggests imminent push along the tool’s yaw direction toward the stencil.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "The task requires pushing a T-shaped block (gray) to a fixed target (green) with a circular end-effector (blue). Both observation and control frequencies are 10Hz.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["t_block (red in frames)", "target_zone (blue stencil)", "circular_end_effector (blue)"],
  "objects_from_instruction": ["T-shaped block (gray)", "target (green)", "circular end-effector (blue)"],
  "blackboard_keys": ["t_block_pose", "target_zone_pose", "push_direction_deg"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"t_block","timeout_ms":1200},"description":"Perceive the T-block."},
    {"id":"DetectObject","type":"Action","ports":{"target":"target_zone","timeout_ms":1200},"description":"Perceive the target stencil."},
    {"id":"SetTCPYaw","type":"Action","ports":{"yaw_deg":90},"description":"Orient tool to push sideways."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"t_block","tolerance":0.01,"timeout_ms":1200},"description":"Align tool to the block edge."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200},"description":"First push toward target."},
    {"id":"Push","type":"Action","ports":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200},"description":"Second push to complete motion."},
    {"id":"IsAt","type":"Condition","ports":{"target":"target_zone"},"description":"Verify block is at target."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":800},"description":"Back off from the block."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":400},"description":"Stabilization wait."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 8, "conditions": 1, "depth": 3},
  "failure_modes": ["Block not detected due to glare/occlusion", "Target stencil misdetected", "Insufficient contact leading to slip", "Timeout during push due to friction spike"],
  "recovery_strategy": ["Perception retries (3 attempts)", "Use second push after first timeout", "Halt for higher-level replanning if verification fails"],
  "assumptions": ["Instruction colors differ from frames (block appears red; stencil appears blue). We prioritize the frames and treat them as the ground truth.", "Pushing direction chosen as +90° based on tool approach and layout in frames."],
  "evaluation_notes": {
    "expected_success_criteria": ["IsAt(target_zone) returns success", "No timeouts on last push", "Retreat completes without contact"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"t_block","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"target_zone","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"SetTCPYaw","attrs":{"yaw_deg":90}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"t_block","tolerance":0.01,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Push","attrs":{"target":"t_block","distance":0.1,"direction_deg":90,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"IsAt","attrs":{"target":"target_zone"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":400}},
      "active_path_ids": []
    }
  ]
}
