{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_045",
  "task_summary": "The robot locates and picks up a red object from a table, using perception, alignment, grasping, and lift actions.",
  "task_long_description": {
    "overview": "This episode features a tabletop manipulation scene where a robotic arm is tasked with locating a red object on a table and picking it up. The robot must visually find the object, position its gripper above it, open the gripper, align carefully, compute a feasible top-down grasp, execute the grasp, verify that the object is securely held, and lift the object above the table surface. Constraints include accurate perception, collision-free motion, and secure grasp execution.",
    "preconditions": [
      "The red object is present and visible on a flat table.",
      "The robot arm is at a safe starting position.",
      "No obstacles block access to the red object."
    ],
    "stepwise_plan": [
      "Verify red object visibility; if not visible, scan to acquire.",
      "Detect and localize the red object.",
      "Move gripper above red object.",
      "Open gripper to a suitable width.",
      "Approach/gripper aligns over red object.",
      "Compute top-down grasp pose.",
      "Grasp at computed pose with top strategy.",
      "Confirm the object is gripped.",
      "Raise object vertically to clear the table."
    ],
    "success_criteria": [
      "Red object is securely grasped by the gripper.",
      "Red object is lifted above the table by at least 10 cm.",
      "No unintended objects are disturbed."
    ],
    "failure_and_recovery": [
      "Failure to detect object: scan is retried up to three attempts.",
      "Grasp fails: the object will not be lifted and is re-attempted from the start in next trial.",
      "Gripper collision or drop detected: halt and notify user."
    ],
    "termination": "The episode terminates once the red object is detected to be in the gripper and has been raised above the table surface."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1000,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_object", "blue_blocks", "table"],
  "objects_from_instruction": ["red_object", "table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"red_object"},
      "description": "Checks if the red object is currently visible in the workspace."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"red_object", "pattern":"grid", "max_attempts":3, "timeout_ms":1000},
      "description": "Performs a grid-pattern scan to locate the red object if it is not already visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"red_object", "timeout_ms":800},
      "description": "Detects and localizes the red object."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"red_object", "offset_z":0.05, "timeout_ms":1500},
      "description": "Moves the gripper to a position 5 cm above the red object."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06, "timeout_ms":500},
      "description": "Opens the gripper to a width of 6 cm."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"red_object", "tolerance":0.005, "timeout_ms":1500},
      "description": "Approaches and aligns the gripper over the red object with 5 mm accuracy."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"red_object", "strategy":"top", "result_key":"std_top"},
      "description": "Computes a top-down grasp pose for the red object."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"std_top", "strategy":"top", "timeout_ms":1000},
      "description": "Executes the grasp at the previously computed pose using a top-down strategy."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"red_object"},
      "description": "Checks if the red object is now securely held in the gripper."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"target":"red_object", "distance":0.10, "timeout_ms":1000},
      "description": "Raises the gripped red object 10 cm above the table surface."
    }
  ],
  "tree_stats": {
    "nodes_total": 13,
    "actions": 8,
    "conditions": 2,
    "depth": 3
  },
  "failure_modes": [
    "Red object not detected in scene.",
    "Scan fails to find red object after maximum retries.",
    "Gripper fails to grasp or does not secure object.",
    "Collision with table or blue blocks during approach."
  ],
  "recovery_strategy": [
    "Retry scan for object visibility up to 3 times.",
    "If grasp fails, terminate and await further instruction.",
    "Abort if collision is detected or safety constraint is violated."
  ],
  "assumptions": [
    "Frames show only the pick (not the place) phase. No transfer or placement is present in the observed episode.",
    "Red object is a single solid cylinder; blue blocks are non-target distractors.",
    "Instruction asks for pick and place, but only picking is visible in frames; task scope bounded to 'pick' for this BT."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object securely gripped.",
      "Red object is lifted visibly from the table."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": { "target": "red_object" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": { "target": "red_object", "timeout_ms": 800 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": { "target": "red_object", "offset_z": 0.05, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": { "width": 0.06, "timeout_ms": 500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": { "target": "red_object", "tolerance": 0.005, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": { "target": "red_object", "strategy": "top", "result_key": "std_top" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": { "pose_key": "std_top", "strategy": "top", "timeout_ms": 1000 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": { "target": "red_object" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {
        "id": "RaiseHeld",
        "attrs": { "target": "red_object", "distance": 0.10, "timeout_ms": 1000 }
      },
      "active_path_ids": []
    }
  ]
}