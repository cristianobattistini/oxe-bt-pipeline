{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_016",
  "task_summary": "Robot picks up the red object from the table by first perceiving the object, approaching, grasping, and confirming successful grasp.",
  "task_long_description": {
    "overview": "This episode shows a tabletop pick action performed by a robot arm. The red cylindrical object is placed in the center of the table, flanked by blue trays. The arm perceives the red object, approaches it from above, aligns precisely, lowers until contact is detected, and grasps with medium force. The sequence ends with verification that the object is in the gripper. Visual evidence suggests no other object manipulation takes place, and the object remains on the table throughout all frames.",
    "preconditions": [
      "Red object and blue trays are present on a clear tabletop",
      "Robot's arm and gripper are operational and at a safe start position",
      "No obstructions in arm workspace",
      "Gripper is open"
    ],
    "stepwise_plan": [
      "Detect if the red object is visible",
      "Scan workspace up to 2 times if not initially visible",
      "Perceive precise location of red object",
      "Open gripper",
      "Move above red object with buffer height",
      "Compute grasp pose (top-down)",
      "Approach and align with low tolerance",
      "Lower arm until 5N contact is detected or 5cm depth reached",
      "Close gripper (10N force, 800ms timeout)",
      "Verify object is held"
    ],
    "success_criteria": [
      "Red object is firmly in gripper at sequence end",
      "No collision or misgrasp occurs",
      "Arm remains clear of table and environment after grasp"
    ],
    "failure_and_recovery": [
      "Object not visible: scan up to 2 times",
      "Contact not detected: abort lowering after max_depth",
      "Grasp not secured: sequence fails"
    ],
    "termination": "After grasping and verifying the red object is in the gripper, the episode terminates."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 2
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_object", "blue_tray_left", "blue_tray_right", "table"],
  "objects_from_instruction": ["red_object", "table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Check if the red object is currently visible to perception"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_object", "pattern": "raster", "max_attempts": 2, "timeout_ms": 1000},
      "description": "Scan to find the red object using a raster pattern (up to 2 attempts)"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_object", "timeout_ms": 800},
      "description": "Refine detection of the red object once visible"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Open the gripper to a width suitable for grasping the red object"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_object", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Position end effector above the red object with 5cm clearance"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "red_object", "strategy": "top", "result_key": "std_top"},
      "description": "Calculate grasp pose with a top-down approach"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_object", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approach and align with the red object using 5mm tolerance"
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lower along z-axis until 5N force is detected or up to 5cm"
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Close gripper with 10N force to grasp the object"
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Verify if the red object is currently being held in the gripper"
    }
  ],
  "tree_stats": {"nodes_total": 12, "actions": 8, "conditions": 2, "depth": 11},
  "failure_modes": [
    "Object not initially visible",
    "Failed object scan",
    "No contact detected within max depth",
    "Unsuccessful grasp or slip after closing",
    "False positive in perception"
  ],
  "recovery_strategy": [
    "Retry scanning for object (max 2 attempts)",
    "Abort lowering if contact not detected; attempt again if grasp fails"
  ],
  "assumptions": [
    "Frames show that the red object is never picked up; it remains static and on the table throughout (frames 0-8). Thus, the logical BT stops at successful grasp verification.",
    "No evidence for a 'place' phase in this episode, despite the instruction mentioning pick up (no transfer, no object lift detected in frames).",
    "No placing action included; this aligns with visual data priority over instruction per the stated rules."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object grasped and secured",
      "No table collision",
      "Arm motion follows expected approach and grasp sequence"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_object","pattern":"raster","max_attempts":2,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_object","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}