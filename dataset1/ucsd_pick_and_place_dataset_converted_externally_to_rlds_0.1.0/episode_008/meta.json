{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_008",
  "task_summary": "Pick up the red block from the table using an arm-mounted gripper while following perception and contact cues shown in the frames.",
  "task_long_description": {
    "overview": "A robot arm is tasked to locate and securely grasp a red block resting on a table among other distractor objects (blue spiky ball, purple polyhedron). The robot must use visual and physical cues, opening its gripper, approaching, aligning, and gripping at moderate force as observed. Perceptual confirmation and stabilization are required before the block is lifted. The sequence follows a pragmatic approach, recovering from potential perception failures and confirming grasp stability.",
    "preconditions": [
      "Red block present and isolated on table",
      "Robot arm and gripper ready and empty",
      "Workspace clear of major obstructions",
      "Sensors provide sufficient perception of block"
    ],
    "stepwise_plan": [
      "Verify visibility of red block or scan workspace",
      "Locate red block precisely",
      "Open gripper to appropriate width",
      "Move to pre-grasp position above block",
      "Align with block within tight tolerance",
      "Lower gripper until light contact with block",
      "Close gripper with low-moderate force to grasp block",
      "Verify the grasp is stable",
      "Lift block gently from table surface"
    ],
    "success_criteria": [
      "Red block is securely held by gripper",
      "Block lifted clear of table without dropping",
      "No collisions with distractor objects"
    ],
    "failure_and_recovery": [
      "Object not detected: retry scan",
      "Grasp not stable: retry alignment and grasp",
      "Contact not detected: lower again gently"
    ],
    "termination": "End when the red block is lifted and held stably above table."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_block", "table", "blue_spiky_ball", "purple_polyhedron"],
  "objects_from_instruction": ["red_object", "table"],
  "blackboard_keys": ["grasp_pose", "red_block"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"red_block"},
      "description":"Verifies if the red block is visible to sensors."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{
        "target":"red_block",
        "pattern":"grid",
        "max_attempts":3,
        "timeout_ms":1200
      },
      "description":"Scans workspace in grid pattern to localize red block."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"red_block", "timeout_ms":800},
      "description":"Executes precise detection of the red block."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06, "timeout_ms":500},
      "description":"Opens gripper for block grasp."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"red_block","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves gripper to position above red block."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"red_block","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches and aligns gripper to block within tight tolerance."
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},
      "description":"Lowers gripper slowly until contact sensed with block."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":10,"timeout_ms":800},
      "description":"Closes gripper with moderate force (low end bin) to grip block."
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Checks if gripped block is stably held."
    },
    {
      "id":"RaiseHeld",
      "type":"Action",
      "ports":{"distance":0.05,"timeout_ms":1200},
      "description":"Raises block away from table."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Block occluded by other objects",
    "Unstable grasp, object drops",
    "Gripper fails to close",
    "Insufficient contact force sensed"
  ],
  "recovery_strategy": [
    "Retry perception up to 3 times",
    "Repeat approach/alignment for unstable grasp",
    "Reattempt lowering until contact detected"
  ],
  "assumptions": [
    "The instruction refers to 'red object', but in frames the target is consistently a red block shape.",
    "No pick-and-place destination is shown or specified, therefore only lifting is implemented.",
    "No explicit force/tolerance values in instruction; bins chosen per 'low force' approach per visual cues.",
    "No container or occlusion requiring special strategies detected."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red block lifted from table in gripper, visibly clear of surface"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "red_block"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "red_block", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.06, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "red_block", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "red_block", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {"force": 10, "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id": "IsGraspStable",
        "attrs": {}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "transfer",
      "active_leaf": {
        "id": "RaiseHeld",
        "attrs": {"distance": 0.05, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}