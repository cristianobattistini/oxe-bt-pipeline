{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_032",
  "task_summary": "Robot arm picks up the red cylindrical object from the table using top grasp strategy, after visually locating and approaching it.",
  "task_long_description": {
    "overview": "This episode involves a robotic arm interacting with a black tabletop scene. The main goal is to pick up a bright red cylindrical object that rests on the table, surrounded by blue tape markers and another blue rectangular object. The robot must reliably locate the red cylinder, approach from above, and grasp it precisely and securely, confirming that it is held before retreating. The sequence incorporates recovery if the object is initially not visible and leverages standard force, position, and timing constraints for a safe pick.",
    "preconditions": [
      "Red cylindrical object ('red_cylinder') is present and stationary on table",
      "Robot gripper is empty and ready (open)",
      "No obstacles obstructing approach"
    ],
    "stepwise_plan": [
      "Check if red_cylinder is visible; retry scanning if not",
      "Detect precise location of red_cylinder",
      "Open gripper with correct width",
      "Move above red_cylinder with sufficient clearance",
      "Compute grasp pose using top strategy",
      "Approach and align for grasp with fine tolerance",
      "Execute grasp at computed pose",
      "Verify red_cylinder is securely held",
      "Retreat after successful pick"
    ],
    "success_criteria": [
      "Red_cylinder is securely held in robot's gripper after retreat",
      "No collision with other objects",
      "Grasp is stable and object remains intact"
    ],
    "failure_and_recovery": [
      "If object not visible: scan grid pattern, retry up to 3 times",
      "If grasp failed: abort and reattempt approach or signal intervention"
    ],
    "termination": "Episode ends after successful retreat with red_cylinder held or upon failure to grasp after recovery attempts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "red_cylinder",
    "blue_tray",
    "table"
  ],
  "objects_from_instruction": [
    "red object"
  ],
  "blackboard_keys": [
    "grasp_red_cylinder"
  ],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"red_cylinder"},
      "description": "Checks if the red cylinder is visible in the robot's workspace."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"red_cylinder","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description": "Scans the workspace in a grid pattern to locate the red cylinder up to 3 attempts."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"red_cylinder","timeout_ms":800},
      "description": "Runs vision-based detection of the red cylinder with 800ms timeout."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06,"timeout_ms":500},
      "description": "Opens the robot gripper to 0.06m width in preparation for grasping."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"red_cylinder","offset_z":0.05,"timeout_ms":1500},
      "description": "Moves the end-effector above the red cylinder with 5cm vertical offset."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"red_cylinder","strategy":"top","result_key":"grasp_red_cylinder"},
      "description": "Computes the grasp pose for the red cylinder using the 'top' grasp strategy."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"red_cylinder","tolerance":0.005,"timeout_ms":1500},
      "description": "Robot arm approaches and aligns to the red cylinder with 5mm tolerance."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"grasp_red_cylinder","strategy":"top","timeout_ms":1000},
      "description": "Performs grasp at the computed grasp pose using the top strategy."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"red_cylinder"},
      "description": "Checks if the red cylinder is now securely held in the gripper."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.1,"timeout_ms":1200},
      "description": "Retracts the arm with the grasped object by 10cm after pick."
    }
  ],
  "tree_stats": {
    "nodes_total": 10,
    "actions": 7,
    "conditions": 2,
    "depth": 4
  },
  "failure_modes": [
    "Red cylinder not visible",
    "ScanForTarget fails to locate red cylinder",
    "GraspAtPose fails to hold object",
    "Collision with blue tray or tape markers",
    "Timeouts exceeded during detect or grasp"
  ],
  "recovery_strategy": [
    "Retry scanning up to 3 times if object not visible",
    "Abort and signal for manual intervention if grasp fails after single attempt"
  ],
  "assumptions": [
    "Red object in episode frames is mapped to 'red_cylinder' for symbolic BT/ports",
    "Frames show only pick, not place â€” place action omitted per visual evidence",
    "No explicit force/tolerance/time constraints stated in instruction; mapped to default bins",
    "If multiple red objects present, select most prominent (here, only one appears)",
    "Instruction specifies pick only; thus, only pick phase modeled"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red cylinder securely held in gripper after retreat phase"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_cylinder"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_cylinder","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_cylinder","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_cylinder","strategy":"top","result_key":"grasp_red_cylinder"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_cylinder","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_red_cylinder","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"red_cylinder"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}