{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_049",
  "task_summary": "Pick up the red object from the table using a robot arm: perceive, approach, grasp, verify in-hand.",
  "task_long_description": {
    "overview": "The robot must locate a small upright red object on a black tabletop, then sequentially approach, align, and securely grasp it. The process includes visual detection, pregrasp alignment from above, and a top-down grasp. Safety and accuracy are prioritized using gentle force and tight tolerances. Task completion is verified visually and by confirming the object is held after grasp closure.",
    "preconditions": [
      "Gripper is open and robot is above workspace",
      "Red object is present on table, unobstructed",
      "Gripper free of other objects"
    ],
    "stepwise_plan": [
      "Check for visibility of the red object",
      "Scan workspace if object not visible (max 3 retries)",
      "Detect precise object pose",
      "Open gripper to suitable width",
      "Move above object with small vertical offset",
      "Compute top-down grasp pose",
      "Approach precisely, align gripper",
      "Lower until contact detected with gentle force",
      "Close gripper with minimal force",
      "Verify object is grasped"
    ],
    "success_criteria": [
      "Red object securely held in gripper",
      "No excessive force applied",
      "Object position confirmed before grasp"
    ],
    "failure_and_recovery": [
      "Object not found — retry scan sequence",
      "Misgrasp — repeat approach and grasp steps",
      "Contact not detected — adjust lowering depth"
    ],
    "termination": "Task ends when object is confirmed inside gripper or after maximum scan attempts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.002,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_object", "table", "blue_container"],
  "objects_from_instruction": ["red_object", "table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"red_object"},
      "description":"Checks if the red object is visible in the robot's sensor frame."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"red_object","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description":"Scans workspace for the red object using a grid pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"red_object", "timeout_ms":800},
      "description":"Detects and localizes the red object's pose."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06, "timeout_ms":500},
      "description":"Opens the gripper to receive the object, width snapped to allowed bin."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"red_object", "offset_z":0.05, "timeout_ms":1500},
      "description":"Positions gripper directly above the red object with small offset."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"red_object", "strategy":"top", "result_key":"std_top"},
      "description":"Calculates a top-down grasp pose for the red object."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"red_object", "tolerance":0.002, "timeout_ms":1500},
      "description":"Moves towards object, aligns with tight tolerance."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed":"slow", "max_depth":0.05, "force_threshold":5, "timeout_ms":1200},
      "description":"Lowers gripper gently until contact detected."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force":5, "timeout_ms":800},
      "description":"Closes gripper on object with gentlest allowed force."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"red_object"},
      "description":"Checks if red object is being held securely."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Object occluded or missing",
    "Scan does not find object",
    "Pose estimation fails",
    "Misalignment during approach",
    "Contact not detected",
    "Gripper closes without object"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times",
    "Repeat approach and aligning steps",
    "Lower further if no contact",
    "Abort task after all recovery options exhausted"
  ],
  "assumptions": [
    "Frames show only pick; no evidence of place action",
    "Red object refers to the upright cuboid in all frames",
    "No apparent external disturbances or obstacles during picking",
    "Instruction asks for pick and place, but scene provides only pick; mapped strictly to observed frames"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object in gripper at final frame",
      "No collisions/knock-over of neighboring blue container"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_object","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.002,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"red_object"}},
      "active_path_ids": []
    }
  ]
}