{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_098",
  "task_summary": "The robot identifies and picks up the red block from the table, following a structured perception, approach, grasp, verification, and retreat sequence.",
  "task_long_description": {
    "overview": "A tabletop robot is tasked to pick up a red block located on a table surrounded by blue markers and other objects. The robot first verifies the visibility of the red block, detects its position, opens the gripper, moves above the block, computes a top grasp pose, aligns and approaches with precise tolerance, lowers until contact, then gently closes the gripper to grasp. After confirming a stable grasp, it ensures the block is secured and retreats from the table area. No placement is performed in this episode. Accuracy, contact sensing, and visual verification are emphasized.",
    "preconditions": [
      "Red block is present and accessible on table surface",
      "Robot gripper is empty and operational",
      "No obstacles immediately block approach path to red block",
      "Vision system operational to detect block and markers"
    ],
    "stepwise_plan": [
      "Check if red block is visible; if not, scan up to 3 times",
      "Detect precise location of red block",
      "Open gripper to suitable width",
      "Move above target block with safe offset",
      "Compute and select top grasp pose for block",
      "Approach and align with tight tolerance",
      "Lower gripper at slow speed until contact is detected",
      "Close gripper with gentle force",
      "Verify grasp stability and confirm is in gripper",
      "Retreat 10cm to clear area"
    ],
    "success_criteria": [
      "Red block is securely grasped in the robot's gripper",
      "No displacement or drop during approach and retreat",
      "No collision with blue markers or table"
    ],
    "failure_and_recovery": [
      "Block not visible: perform up to 3 scan attempts",
      "Failed grasp: reattempt approach and alignment",
      "Unstable grasp: abort or retry grasp sequence",
      "Collision detected: immediate stop and retreat"
    ],
    "termination": "Execution finishes upon successful grasp and 10cm retreat from pickup location, or upon exceeding allowed retry attempts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["red_block","table","blue_marker_1","blue_marker_2","blue_marker_3","blue_marker_4"],
  "objects_from_instruction": ["red_block","table"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"red_block"},"description":"Checks if the red block is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_block","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scans for the red block using a raster pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_block","timeout_ms":800},"description":"Detects the exact location of the red block."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens the gripper to a suitable width for pickup."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_block","offset_z":0.05,"timeout_ms":1500},"description":"Moves above the red block with a safe vertical offset."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"red_block","strategy":"top","result_key":"std_top"},"description":"Computes a grasp pose from the top side of the block."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_block","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns with the block precisely."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lowers until gentle contact is made with the block."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Closes gripper with gentle force to grasp the block."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks for stable grasp after closing."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"red_block"},"description":"Confirms the block is present in the gripper."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreats 10cm from pickup location after grasping."}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 4, "depth": 2},
  "failure_modes": [
    "Red block occluded or not detected",
    "Disturbance prevents alignment",
    "Contact not sensed during lowering",
    "Gripper fails to close or grasp is unstable"
  ],
  "recovery_strategy": [
    "Scan for target (up to 3 retries)",
    "Restart grasp approach if object slips",
    "Abort and log failure if contact not detected"
  ],
  "assumptions": [
    "Red block is cylindrical as in the frames, not generic 'object'",
    "No placement required (only pickup), despite possible ambiguity in instruction",
    "No conflicting objects obstruct the task; local scene matches frames"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red block is in gripper and robot has retreated from pickup pose"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_block"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_block","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_block","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_block","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_block","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_block","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}