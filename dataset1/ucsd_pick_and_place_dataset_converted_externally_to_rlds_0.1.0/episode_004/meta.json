{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_004",
  "task_summary": "A robot arm is instructed to pick up the red object from the table. The tree orchestrates visual detection, approach, grasp, and retreat, with contact and stability checks.",
  "task_long_description": {
    "overview": "In this episode, a robotic arm is tasked to pick up a distinct red block from a tabletop scene containing blue objects. The sequence starts from perception, verifying and re-acquiring the target, followed by prehension and confirmation. The robot uses contact sensing and stability feedback, aiming to grasp securely and lift, then retreats to separate the object from the table. Robust visual acquisition ensures redundancy if the object is occluded or misplaced.",
    "preconditions": [
      "Red object is on table, within manipulator reach",
      "Gripper is empty and calibrated",
      "No obstructions in workspace"
    ],
    "stepwise_plan": [
      "Verify visibility of red object",
      "If not visible, scan and reacquire target up to 3 attempts",
      "Detect and localize red object",
      "Open gripper to preset width",
      "Move above red object",
      "Compute top grasp pose",
      "Approach and align to target with close tolerance",
      "Lower until contact is detected",
      "Close gripper with low force",
      "Check grasp stability and object presence in gripper",
      "Retreat to clear object from table"
    ],
    "success_criteria": [
      "Red object grasped and lifted clear from the table",
      "Grasp is stable and object is present in gripper"
    ],
    "failure_and_recovery": [
      "If object not visible, reacquire by repeated scan",
      "If contact not detected, abort grasp and retry",
      "If grasp unstable or object missing, reattempt alignment/grasp"
    ],
    "termination": "Tree terminates after red object is securely grasped and lifted above table surface"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_object","blue_object_1","blue_object_2","table"],
  "objects_from_instruction": ["red_object"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"red_object"},"description":"Checks if red object is visible in scene"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"red_object","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Visually scan for red object with spiral pattern"},
    {"id":"DetectObject","type":"Action","ports":{"target":"red_object","timeout_ms":800},"description":"Detects and localizes red object"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper to width suited for grasp"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"red_object","offset_z":0.05,"timeout_ms":1500},"description":"Moves gripper above target"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"red_object","strategy":"top","result_key":"std_top"},"description":"Computes top-approach grasp pose"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"red_object","tolerance":0.005,"timeout_ms":1500},"description":"Approaches target, aligns within tight tolerance"},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lowers until gentle contact detected"},
    {"id":"CloseGripper","type":"Action","ports":{"force":5,"timeout_ms":800},"description":"Closes gripper with lowest force for gentle pick"},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Verifies stability of grasp"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"red_object"},"description":"Checks that the red object is in gripper"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.05,"timeout_ms":800},"description":"Retracts slightly after successful grasp"}
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 4, "depth": 3},
  "failure_modes": [
    "Object not in visible workspace",
    "Contact not made on lowering",
    "Grasp unstable or slips",
    "Object not detected after scan"
  ],
  "recovery_strategy": [
    "Fallback to scanning if initial perception fails",
    "Repeat alignment/grasp if grasp unstable",
    "Abort or retry grasp sequence if contact not sensed"
  ],
  "assumptions": [
    "The red object exists and is unoccluded in contact sheet frames",
    "Red object interpreted as block in center; instruction matches visual evidence",
    "No placing action since only pick/lift is observed in frames",
    "No adverse occlusions or major obstacles identified from frames"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object visibly held and lifted",
      "Gripper closed with stable grasp",
      "Retreat motion with object secured"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_object","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_object","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_object","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_object","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}