{
  "dataset_id": "ucsd_pick_and_place_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_062",
  "task_summary": "Pick up the red object from the table using a robotic arm with visual feedback, precise approach, and secure grasp.",
  "task_long_description": {
    "overview": "This episode depicts a robotic arm tasked with picking up a red object from a dark tabletop. The behavior tree governs each phase: visual detection, precise approach from above, gripper opening, alignment, gentle descent until contact, secure grasp, and lifting. The only target is a single red cylindrical object. Careful perception and control mitigate failure from misdetection or unstable grasp.",
    "preconditions": [
      "Red object is present on the table and visible to the robot.",
      "Robot is operational with an empty gripper.",
      "Workspace is free of obstructions."
    ],
    "stepwise_plan": [
      "Confirm visibility of red object; scan if not visible.",
      "Detect precise location of the red object.",
      "Move arm above the red object.",
      "Open gripper.",
      "Align and approach object precisely.",
      "Lower gripper until contact is detected.",
      "Close gripper to grasp the object.",
      "Check grasp stability.",
      "Lift the object from the table."
    ],
    "success_criteria": [
      "Red object is securely held in the gripper.",
      "Object is clearly raised above table surface.",
      "No collision or object slip occurs during grasp."
    ],
    "failure_and_recovery": [
      "If the object is not initially detected, scan and retry up to three times.",
      "If grasp is not stable, abort or attempt realignment and regrasp.",
      "If gripper closure fails to grasp, reset and retry."
    ],
    "termination": "Episode ends when the object is securely lifted above the table, or if retries are exhausted without success."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick up the red object from the table",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_object", "table", "blue_object"],
  "objects_from_instruction": ["red_object","table"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "red_object"},
      "description": "Checks whether the red object is visible to the robot."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "red_object", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans for the red object in a grid pattern with up to 3 attempts."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "red_object", "timeout_ms": 800},
      "description": "Locates the red object and refines its pose."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "red_object", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the gripper above the red object at a 5cm offset."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper to 6 cm."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "red_object", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Carefully approaches and aligns to the red object with 5mm precision."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lowers the gripper until gentle contact with the object is detected."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes the gripper on the object using minimal allowed force."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks that the grasp of the red object is secure."
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": {"target": "red_object", "distance": 0.10, "timeout_ms": 1200},
      "description": "Lifts the red object 10cm above the table to complete pickup."
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 8,
    "conditions": 2,
    "depth": 10
  },
  "failure_modes": [
    "Red object not detected within scan attempts.",
    "Arm misalignment during approach.",
    "Unstable or failed grasp.",
    "Mechanical jam in gripper.",
    "Object slippage during lift."
  ],
  "recovery_strategy": [
    "Rescan if object is not visible.",
    "Abort and alert if grasp fails after all attempts.",
    "Pause for operator intervention if persistent errors."
  ],
  "assumptions": [
    "Frames confirm the red object is the only grasp target present; instruction and episode are aligned.",
    "Object is a red cylinder; no container or occlusion.",
    "The blue object is not referenced in the instruction and is ignored for this BT."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red object lifted and held securely above table.",
      "No damaging collision or object loss."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "red_object"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "red_object", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "red_object", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "red_object", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.06, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "red_object", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id": "LowerUntilContact", "attrs": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id": "CloseGripper", "attrs": {"force": 10, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id": "RaiseHeld", "attrs": {"target": "red_object", "distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}