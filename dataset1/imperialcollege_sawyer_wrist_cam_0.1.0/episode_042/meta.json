{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_042",
  "task_summary": "Pick up the apple and place it inside the pot, as evidenced by sequential visual confirmation from the robot's wrist camera.",
  "task_long_description": {
    "overview": "A robot arm, likely Sawyer, must grasp an apple lying on a blue surface and deposit it into a metal pot. The workspace is uncluttered, and only the apple and pot are involved. Visual perception and grasping precision are critical, utilizing top-down strategies and sequential manipulation steps as depicted across the episode frames.",
    "preconditions": [
      "Apple is present and on the workspace surface.",
      "Pot is open, empty, and accessible.",
      "Robot gripper is empty and functional.",
      "Workspace is clear of obstructive objects."
    ],
    "stepwise_plan": [
      "Visually localize apple; retry up to 3 times if needed.",
      "Approach apple from above and open gripper.",
      "Compute a top grasp pose and execute grasp.",
      "Confirm apple is in the gripper.",
      "Locate the pot visually; retry up to 2 times if needed.",
      "Approach above the pot.",
      "Place apple inside the pot, release gripper, and retreat."
    ],
    "success_criteria": [
      "Apple ends inside the pot, not resting on rim or outside.",
      "Pot and apple remain undamaged; apple is stable in pot.",
      "Robot successfully grasps and releases the apple with gripper.",
      "No collisions or spills occur."
    ],
    "failure_and_recovery": [
      "If apple not found: scan up to 3 times for visual reacquisition.",
      "If pot not found: scan up to 2 times.",
      "If grasp fails: reacquire pose and retry.",
      "If apple dropped prematurely: abort or repeat from search."
    ],
    "termination": "Tree ends when apple is released inside the pot and robot retreats."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "put apple in pot",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["apple", "pot"],
  "objects_from_instruction": ["apple", "pot"],
  "blackboard_keys": ["grasp_apple"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "apple"},
      "description": "Checks if the apple is visible to the robot."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "apple",
        "pattern": "raster",
        "max_attempts": 3,
        "timeout_ms": 1200
      },
      "description": "Runs a raster scan to locate the apple."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "apple", "timeout_ms": 800},
      "description": "Executes object detection to refresh apple pose."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "apple", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Positions end-effector above the apple for grasping."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens gripper to accept the apple."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "apple", "strategy": "top", "result_key": "grasp_apple"},
      "description": "Computes grasp pose for apple (top strategy)."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_apple", "strategy": "top", "timeout_ms": 1200},
      "description": "Executes grasp at computed pose."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "apple"},
      "description": "Verifies apple is held in gripper."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "pot"},
      "description": "Checks if the pot is visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "pot",
        "pattern": "raster",
        "max_attempts": 3,
        "timeout_ms": 1200
      },
      "description": "Scans workspace for the pot."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "pot", "timeout_ms": 800},
      "description": "Detects and refines pose of the pot."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "pot", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves gripper holding apple above the pot."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {"target": "apple", "area_id": "pot", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1200},
      "description": "Places apple inside the pot and presses gently."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Opens gripper to release apple into pot."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retracts arm from pot."
    }
  ],
  "tree_stats": {
    "nodes_total": 16,
    "actions": 11,
    "conditions": 5,
    "depth": 3
  },
  "failure_modes": [
    "Apple not found",
    "Pot not found",
    "Failed grasp",
    "Apple dropped outside pot"
  ],
  "recovery_strategy": [
    "Retry scans for object detection (apple: 3 times, pot: 2 times)",
    "Reattempt grasp upon failure",
    "Abort if objects remain undetected"
  ],
  "assumptions": [
    "Assumes the red object is the apple and the metal container is the pot by visual evidence in frames.",
    "No explicit instruction on grasp strategy, 'top' is used due to scene geometry.",
    "Instruction and visual evidence are aligned; apple is placed inside the pot with no apparent lid or obstacles.",
    "Timeouts and tolerance values chosen from bin closest to efficient but robust task execution."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Apple visually confirmed inside the pot (frames 7-8).",
      "No object remains in the gripper after retreat."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "apple"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "apple",
          "pattern": "raster",
          "max_attempts": 3,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "apple",
          "offset_z": 0.05,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {
          "pose_key": "grasp_apple",
          "strategy": "top",
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "pot",
          "offset_z": 0.10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {
          "target": "apple",
          "area_id": "pot",
          "yaw_deg": 0,
          "press_force": 10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.08,
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    }
  ]
}