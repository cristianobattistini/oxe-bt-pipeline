{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_046",
  "task_summary": "Locate and grasp a can visible against a blue background using a top grasp, verifying its presence and secure acquisition.",
  "task_long_description": {
    "overview": "In this episode, a robot arm is tasked to grasp a single metallic can that lies on a blue surface. The procedure involves visually locating the can, positioning the end effector above it for a top-down grasp, aligning based on computed grasp pose, opening the gripper, and securely grasping the can. The visual evidence from the frames shows gradual approach and alignment. Key constraints include object visibility and ensured acquisition.",
    "preconditions": [
      "Can is present on workspace surface",
      "Gripper is open and accessible",
      "Robot arm has unobstructed workspace",
      "Camera is calibrated"
    ],
    "stepwise_plan": [
      "Check for can visibility and retry scan if necessary",
      "Detect can precisely",
      "Move above can for grasping",
      "Compute a top grasp pose",
      "Approach the can and finely align",
      "Open gripper to appropriate width",
      "Execute grasp at computed pose using top grasp",
      "Verify can is in gripper"
    ],
    "success_criteria": [
      "Can is securely grasped and held in gripper",
      "No slippage or failed grasp detected",
      "Can remains visible throughout procedure"
    ],
    "failure_and_recovery": [
      "Can not detected: retry ScanForTarget",
      "Grasp unsuccessful: re-align and reattempt grasp",
      "Object slips during grasp: retry alignment and grasp"
    ],
    "termination": "Tree terminates when can is held in gripper and condition verified."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "grasp can",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["can"],
  "objects_from_instruction": ["can"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "can"},
      "description": "Checks if the can is currently visible to the robot."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"can", "pattern":"grid", "max_attempts":3, "timeout_ms":1200},
      "description": "Actively scans workspace using grid pattern to reacquire can visibility."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"can", "timeout_ms":800},
      "description": "Detects and precisely localizes the can."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"can", "offset_z":0.05, "timeout_ms":1000},
      "description": "Moves the end effector directly above the can at safe offset."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"can", "strategy":"top", "result_key":"std_top"},
      "description": "Computes the optimal top-down grasp pose for the can."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"can", "tolerance":0.005, "timeout_ms":1000},
      "description": "Approaches the can and fine-tunes the alignment."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06, "timeout_ms":500},
      "description": "Opens gripper to a width suitable for a standard can."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"std_top", "strategy":"top", "timeout_ms":1000},
      "description": "Executes grasp at the computed pose with a top grasp strategy."
    },
    {
      "id":"ObjectInGripper",
      "type":"Condition",
      "ports":{"target":"can"},
      "description":"Verifies that the can is held by the gripper after grasp."
    }
  ],
  "tree_stats": {"nodes_total": 9, "actions": 6, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Object out of view",
    "Imprecise pose estimation",
    "Failed grasp",
    "Slipped object during grasp"
  ],
  "recovery_strategy": [
    "Retry scan if can not detected",
    "Realign and repeat grasp on instability",
    "Abort if object repeatedly missed"
  ],
  "assumptions": [
    "Frames show only the can, no obstacles; scene is uncluttered",
    "Grasp force not specified in instruction or frames; using default strategy",
    "Top grasp appropriate due to object orientation and isolation",
    "Can is assumed metallic and non-deformable"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Can is securely inside the gripper at the end",
      "No loss during alignment or grasp"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"can"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"can","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"can","offset_z":0.05,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"can","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"can","tolerance":0.005,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"can"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"can"}},
      "active_path_ids": []
    }
  ]
}