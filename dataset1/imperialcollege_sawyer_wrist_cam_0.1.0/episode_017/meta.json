{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_017",
  "task_summary": "Robot swipes a small white spherical object across a blue surface using a dustpan-like tool, starting with perception, alignment, actuation, and retreat.",
  "task_long_description": {
    "overview": "The episode captures a robot equipped with a dustpan performing a 'swipe' task, moving a small white object (possibly a ball or pellet) across a flat blue surface. The behavior progresses from initial perception of the object's position, maneuvering the dustpan above it, aligning to the intended direction, actuating a surface swipe, and finally retreating the tool. Visual feedback dictates phase transitions and successful manipulation.",
    "preconditions": [
      "Robot is positioned over blue surface.",
      "White object is present and visible on surface.",
      "Dustpan tool is attached and unobstructed."
    ],
    "stepwise_plan": [
      "Perceive the location of the white object.",
      "Move the dustpan tool to an approach pose above the object.",
      "Align the tool for the swipe direction.",
      "Slide dustpan along the surface to push/sweep the object.",
      "Retreat tool after swipe actuation."
    ],
    "success_criteria": [
      "White object has been displaced along intended direction.",
      "Tool and object avoid collisions with other items.",
      "No missed detection or tool misalignment during swipe."
    ],
    "failure_and_recovery": [
      "Object not detected: Retry scan.",
      "Misalignment: Re-perform approach and align steps.",
      "Swipe incomplete: Repeat slide or retreat."
    ],
    "termination": "Successful swipe and retreat by dustpan; object in new (swept) location."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "swipe",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_object","dustpan","blue_surface"],
  "objects_from_instruction": ["white_object"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_object"},"description":"Checks if the target object is visible in the scene."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_object","pattern":"line","max_attempts":3,"timeout_ms":1200},"description":"Scans the area using a line pattern to detect the white object."},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_object","timeout_ms":800},"description":"Performs focused detection of the white object."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_object","offset_z":0.05,"timeout_ms":1500},"description":"Moves the tool above the object within a small offset."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"white_object","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns the dustpan with tight position tolerance for swipe initiation."},
    {"id":"SlideAlongSurface","type":"Action","ports":{"target":"white_object","area_id":"blue_surface","distance":0.10,"direction_deg":0,"pattern":"line","timeout_ms":1500},"description":"Performs sliding swipe along surface in the intended direction to displace object."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreats tool after swipe execution."}
  ],
  "tree_stats": {"nodes_total": 7, "actions": 5, "conditions": 1, "depth": 2},
  "failure_modes": ["object not visible","detect fails","misalignment","slide incomplete"],
  "recovery_strategy": [
    "Scan up to 3 times if object not visible.",
    "Re-attempt alignment if approach fails.",
    "Repeat slide/retreat if swipe unsuccessful."
  ],
  "assumptions": [
    "Instruction 'swipe' does not specify force, direction, or tool; frames confirm dustpan performs left-right swipe.",
    "Object identified in frames is a white spherical entity.",
    "Direction_deg set to 0 (left-to-right) inferred from frames.",
    "No grasp required; interaction is a pushing/sliding swipe action."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "White object displaced by at least 0.10m on surface.",
      "No tool collision or object lost during swipe."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail (N/A)","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target":"white_object"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target":"white_object","timeout_ms":800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target":"white_object","offset_z":0.05,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target":"white_object","tolerance":0.005,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {
        "id": "SlideAlongSurface",
        "attrs": {"target":"white_object","area_id":"blue_surface","distance":0.10,"direction_deg":0,"pattern":"line","timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "SlideAlongSurface",
        "attrs": {"target":"white_object","area_id":"blue_surface","distance":0.10,"direction_deg":0,"pattern":"line","timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance":0.10,"timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance":0.10,"timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance":0.10,"timeout_ms":1200}
      },
      "active_path_ids": []
    }
  ]
}