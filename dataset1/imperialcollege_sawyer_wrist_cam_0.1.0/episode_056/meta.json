{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_056",
  "task_summary": "The robot must grasp a can from a flat surface, executing perceive, approach, and grasping phases, grounded strictly in observed visual data.",
  "task_long_description": {
    "overview": "This scenario involves a single metallic can lying on a blue planar surface, as visible in all frames. The robot (presumably Sawyer) must first ensure the can is detected and visible, then open its gripper, position itself above and beside the can at the correct z-offset, compute a stable side grasp pose, approach and align, and finally close the gripper with minimal force to secure the can. The entire manipulation is visually constrained: there is one object present, unobstructed, and no distractors or other clear objects or surfaces. The act terminates after confirming the can is grasped.",
    "preconditions": [
      "Can is visible and isolated on planar surface",
      "Gripper is empty and capable of opening",
      "No occlusions or secondary objects"
    ],
    "stepwise_plan": [
      "Check can visibility; re-scan if needed",
      "Detect precise can position",
      "Open gripper suitably",
      "Move above can with offset",
      "Compute a side grasp pose",
      "Approach and align for grasp",
      "Close gripper using side strategy and minimal force",
      "Verify can is secured in gripper"
    ],
    "success_criteria": [
      "Can is stably held in gripper",
      "No slippage or failed grasp",
      "No collisions with surface or other objects"
    ],
    "failure_and_recovery": [
      "Perception failure: retry scan up to 3 times",
      "Grasp failure: execution halts for safety",
      "Object not in gripper: do not proceed to manipulation"
    ],
    "termination": "Terminate after can is confirmed held by gripper"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "grasp can",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["can"],
  "objects_from_instruction": ["can"],
  "blackboard_keys": ["std_side"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "can"},
      "description": "Checks if the can is visible to the perception system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "can", "pattern":"raster", "max_attempts":3, "timeout_ms":1200},
      "description": "Scans the workspace for the can with a raster pattern up to 3 attempts."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "can", "timeout_ms":800},
      "description": "Detects the can for localization."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms":500},
      "description": "Opens the gripper to width for the can."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"can", "offset_z":0.05, "timeout_ms":1500},
      "description": "Moves gripper to a position above the can."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"can", "strategy":"side", "result_key":"std_side"},
      "description": "Computes the grasp pose for a side approach."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"can", "tolerance":0.005, "timeout_ms":1500},
      "description": "Approaches and aligns with the can to within tight tolerance."
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {"target":"can", "strategy":"side", "force":5, "timeout_ms":800},
      "description": "Closes gripper to grasp the can with side strategy and minimal force."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"can"},
      "description": "Checks whether the can is held in the gripper."
    }
  ],
  "tree_stats": {
    "nodes_total": 9,
    "actions": 7,
    "conditions": 2,
    "depth": 9
  },
  "failure_modes": [
    "Can not visible: ScanForTarget retries up to 3 times",
    "Object detection fails",
    "MoveAbove or Approach misalignment",
    "Grasp fails (insufficient force or poor alignment)"
  ],
  "recovery_strategy": [
    "Re-attempt perception up to 3 times",
    "Abort task if grasp fails or can not detected after retries"
  ],
  "assumptions": [
    "All frames show only a can; no other objects, surfaces, or placement steps are visible",
    "No transfer, place, or retreat depicted; tree terminates after successful grasp",
    "Strategy 'side' chosen due to can's orientation on planar surface"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Can is detected and visually confirmed", 
      "Can is stably held after grasp"
    ],
    "test_scenarios": [
      "happy path", 
      "object_missing", 
      "grasp_fail", 
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"can"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"can","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"can","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"can","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"can","strategy":"side","result_key":"std_side"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"can","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"Grasp","attrs":{"target":"can","strategy":"side","force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"can"}},
      "active_path_ids": []
    }
  ]
}