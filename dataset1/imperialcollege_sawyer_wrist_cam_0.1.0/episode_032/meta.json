{
  "dataset_id": "imperialcollege_sawyer_wrist_cam_0.1.0",
  "episode_id": "episode_032",
  "task_summary": "Pick up an apple and place it into a pot using visual perception, grasping, and precise placement.",
  "task_long_description": {
    "overview": "The robot must locate an apple and a pot, grasp the apple, and place it inside the pot. The environment is uncluttered, blue background with a pot and a red apple. The wrist camera provides sequential overhead views. The robot must ensure secure grasp and precise placement within the pot, using visual feedback to detect and localize both objects. Task is executed with error recovery for perception failures.",
    "preconditions": [
      "Apple and pot are present in the workspace.",
      "Robot starts ungrasped, with an empty gripper.",
      "Camera has unobstructed view of target objects."
    ],
    "stepwise_plan": [
      "Locate apple visually and reacquire if needed.",
      "Open gripper and move above the apple.",
      "Compute and approach a top grasp pose.",
      "Grasp the apple and verify grasp stability.",
      "Locate the pot visually and reacquire if needed.",
      "Move above the potâ€™s opening.",
      "Place apple inside the pot with light press force and open gripper.",
      "Retreat and wait to confirm placement."
    ],
    "success_criteria": [
      "Apple is released and resting inside the pot.",
      "Neither object is knocked over, and the apple is not grasped at end."
    ],
    "failure_and_recovery": [
      "If apple or pot is not visible, the robot retries scanning up to 3 times.",
      "If grasp fails or is unstable, the sequence aborts.",
      "If placement fails, robot does not force the apple."
    ],
    "termination": "Tree ends after apple is released inside pot and a short wait."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "put apple in pot",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["apple", "pot"],
  "objects_from_instruction": ["apple", "pot"],
  "blackboard_keys": ["grasp_apple"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"apple"},
      "description": "Checks if the apple is visible in the camera frame."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"apple","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description": "Actively scans workspace for apple."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"apple","timeout_ms":800},
      "description": "Runs perception on apple."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06,"timeout_ms":500},
      "description": "Opens gripper for grasping."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"apple","offset_z":0.05,"timeout_ms":1500},
      "description": "Moves above the apple for pre-grasp alignment."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"apple","strategy":"top","result_key":"grasp_apple"},
      "description": "Computes a top grasp on the apple."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"apple","tolerance":0.005,"timeout_ms":1500},
      "description": "Approaches and aligns to grasp pose."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"grasp_apple","strategy":"top","timeout_ms":800},
      "description": "Executes grasp at computed pose for the apple."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Verifies the apple is securely grasped."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"pot"},
      "description": "Checks if the pot is visible in the camera frame."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"pot","timeout_ms":800},
      "description": "Runs perception on pot."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"pot","offset_z":0.10,"timeout_ms":1500},
      "description": "Moves above the pot to prepare for placement."
    },
    {
      "id": "PlaceAtTol",
      "type": "Action",
      "ports": {"pose_key":"goal_pose","yaw_deg":0,"press_force":5,"tolerance":0.005,"timeout_ms":1200},
      "description": "Places the apple into the pot with gentle press and precise tolerance."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.08,"timeout_ms":500},
      "description": "Opens gripper to release apple in pot."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.10,"timeout_ms":1200},
      "description": "Retracts the gripper from pot area."
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {"timeout_ms":500},
      "description": "Waits to let apple settle and to confirm completion."
    }
  ],
  "tree_stats": {"nodes_total": 17, "actions": 13, "conditions": 4, "depth": 3},
  "failure_modes": [
    "Apple or pot not detected.",
    "Grasp unsuccessful or unstable.",
    "Placement misses pot or applies too much force.",
    "Robot obstructed during reach/retreat."
  ],
  "recovery_strategy": [
    "Retry up to 3 times for perception failures.",
    "Abort on repeatedly unstable grasp.",
    "Abort gently on repeated placement error; do not force."
  ],
  "assumptions": [
    "Frame evidence suggests entire sequence; all actions take place as per instruction.",
    "Apple is grasped by frame_0 and released by frame_8; grasping action inferred, as grasp action itself is not visible.",
    "Naming convention matches instruction and visual context."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Apple placed and not grasped at end.",
      "Apple visible within pot in final frame(s)."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"apple","strategy":"top","result_key":"grasp_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"apple","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_apple","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"pot","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAtTol","attrs":{"pose_key":"goal_pose","yaw_deg":0,"press_force":5,"tolerance":0.005,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}