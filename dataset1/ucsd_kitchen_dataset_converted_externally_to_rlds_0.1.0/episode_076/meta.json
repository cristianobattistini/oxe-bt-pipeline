{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_076",
  "task_summary": "The robot locates, grasps, and places a teapot onto the stove using visual and contact feedback, with retries for robust perception.",
  "task_long_description": {
    "overview": "This episode shows a manipulator arm executing the task of placing a teapot on the stove in a kitchen-like environment. The sequence involves perception to locate both objects, controlled grasping with contact force feedback, and a precise placement on the stove. Recovery is supported through retry logic for visual failures; gentle, stable manipulation is enforced via sensed contact and pose computation. The arm opens its gripper, approaches from above, aligns and grasps the teapot, transfers it, and places it on the stove before releasing and retreating.",
    "preconditions": [
      "Teapot is present and accessible on the workspace.",
      "Stove surface is clear and reachable.",
      "Robot arm is initialized and gripper is empty.",
      "Vision system is operational."
    ],
    "stepwise_plan": [
      "Check for teapot visibility, scan if not found.",
      "Detect the exact pose of the teapot.",
      "Open gripper; move above the teapot.",
      "Compute grasp pose and align the gripper; lower till gentle contact.",
      "Close gripper to grasp teapot with stable grip.",
      "Verify grasp; acquire/locate stove position.",
      "Move above stove; lower, align and place teapot.",
      "Open gripper to release; retreat safely.",
      "Wait to confirm placement stability."
    ],
    "success_criteria": [
      "Teapot is resting stably on the stove surface.",
      "No objects are dropped or moved unintentionally.",
      "Robot arm and gripper return to safe, idle state."
    ],
    "failure_and_recovery": [
      "If teapot not initially visible: scan/visual retry up to 3 times.",
      "If grasp fails: abort or reattempt.",
      "If contact is not detected during lowering: retry or abort.",
      "If place location unclear: retry detect/scan for stove."
    ],
    "termination": "Task ends successfully after confirmed teapot placement and retreat, or aborts on repeated unrecoverable failures."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place the teapot on the stove",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm", "teapot", "stove"],
  "objects_from_instruction": ["teapot", "stove"],
  "blackboard_keys": ["grasp_teapot"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"teapot"},"description":"Check if teapot is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"teapot","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scan workspace for teapot with raster pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"teapot","timeout_ms":800},"description":"Run object detection for teapot."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Open gripper to 0.06m for grasping."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"teapot","offset_z":0.05,"timeout_ms":1500},"description":"Move gripper above the teapot, 5cm offset."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"teapot","strategy":"top","result_key":"grasp_teapot"},"description":"Compute top-down grasp pose for teapot."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"teapot","tolerance":0.005,"timeout_ms":1500},"description":"Align gripper to teapot with 5mm positional tolerance."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},"description":"Lower gripper until 5N contact or 5cm depth reached."},
    {"id":"CloseGripper","type":"Action","ports":{"force":10,"timeout_ms":800},"description":"Close gripper gently to 10N force."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Check if the grasp is stable."},
    {"id":"IsObjectVisible(stove)","type":"Condition","ports":{"target":"stove"},"description":"Check if stove is visible."},
    {"id":"DetectObject(stove)","type":"Action","ports":{"target":"stove","timeout_ms":800},"description":"Detect the stove."},
    {"id":"MoveAbove(stove)","type":"Action","ports":{"target":"stove","offset_z":0.10,"timeout_ms":1500},"description":"Move teapot above stove by 10cm."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"teapot","area_id":"stove","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Place teapot on stove with 10N press force."},
    {"id":"OpenGripper(place)","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Release teapot after placement."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreat end effector by 10cm."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Wait 500ms to confirm stability."}
  ],
  "tree_stats": {"nodes_total": 18, "actions": 13, "conditions": 3, "depth": 3},
  "failure_modes": [
    "Teapot not detected within 3 scans.",
    "Contact not sensed during lowering.",
    "Grasp not stable after closing.",
    "Stove not detected.",
    "Placement fails due to misalignment."
  ],
  "recovery_strategy": [
    "Retry scan for teapot up to 3 times.",
    "Retry detect stove.",
    "Abort task if stable grasp fails.",
    "Abort if unrecoverable perception error."
  ],
  "assumptions": [
    "Frames confirm teapot is present and remains upright throughout.",
    "The action sequence is directly observable in the 9 frames.",
    "Stove is accessible in the robot workspace; mapping instruction object names to visible entities.",
    "No explicit instruction for force/tolerance; used moderate settings."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Teapot is visibly stable and squarely placed on the stove at the end.",
      "Robot drops off the teapot by opening the gripper above stove and retreats.",
      "All steps are visible in the provided contact sheet."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"teapot"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"teapot","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"teapot","strategy":"top","result_key":"grasp_teapot"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"stove","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"teapot","area_id":"stove","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}