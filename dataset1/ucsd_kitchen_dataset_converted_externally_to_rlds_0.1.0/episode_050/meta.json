{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_050",
  "task_summary": "The robot turns on the faucet by visually localizing, approaching, grasping, and actuating the faucet handle.",
  "task_long_description": {
    "overview": "This task takes place in a kitchen mockup, where a robotic arm must turn on the faucet. The robot first locates the faucet handle using visual perception, approaches it, grasps it securely from the side, rotates the handle to the 'on' direction, and then retreats from the sink area. Key constraints are reliable perception, sufficiently strong but safe manipulation, and the correct handle identified. The main object is the blue faucet handle mounted over the sink.",
    "preconditions": [
      "Robot is positioned in front of the kitchen playset",
      "Faucet handle is reachable and visible",
      "No obstacles between the gripper and faucet handle",
      "Robot gripper is open and ready for grasping"
    ],
    "stepwise_plan": [
      "Check if faucet handle is visible or scan for it",
      "Run DetectObject on faucet handle",
      "Move above the handle",
      "Approach and align with handle using fine tolerance",
      "Grasp faucet handle from the side with suitable force",
      "Turn handle by 45 degrees in the open direction",
      "Retreat after actuation"
    ],
    "success_criteria": [
      "Faucet handle turned to open position (at least 45 degrees)",
      "No objects knocked over; smooth actuation",
      "Robot arm retreats clear of faucet after actuation"
    ],
    "failure_and_recovery": [
      "If handle not visible: scan for target and retry",
      "If grasp fails: attempt again from above",
      "If unable to rotate: check grasp and force, retry actuation"
    ],
    "termination": "Task ends when faucet handle is successfully rotated and robot retreats"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1000,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "robot_arm",
    "faucet_handle",
    "sink",
    "kitchen playset"
  ],
  "objects_from_instruction": [
    "faucet"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "faucet_handle"},
      "description": "Checks visibility of the faucet handle."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "faucet_handle", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1000},
      "description": "Scans the scene in a raster pattern to find the faucet handle."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "faucet_handle", "timeout_ms": 800},
      "description": "Runs object detection on faucet handle."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "faucet_handle", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the gripper above the faucet handle."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "faucet_handle", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns with the handle for grasping."
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {"target": "faucet_handle", "strategy": "side", "force": 10, "timeout_ms": 1000},
      "description": "Performs a side grasp of the faucet handle."
    },
    {
      "id": "TurnKnob",
      "type": "Action",
      "ports": {"target": "faucet_handle", "knob_type": "knob", "angle_deg": 45, "direction": "open", "force_limit": 10, "timeout_ms": 1000},
      "description": "Turns the faucet handle to open by 45 degrees."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves the arm away from faucet after turning it on."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 1, "depth": 8},
  "failure_modes": [
    "Faucet handle not visible",
    "Grasp fails/slips",
    "Turn actuation insufficient or wrong direction",
    "Obstacle between gripper and handle"
  ],
  "recovery_strategy": [
    "Scan and retry detection if handle not found",
    "Retry grasp if initial attempt unsuccessful",
    "Increase force or adjust alignment if actuation fails"
  ],
  "assumptions": [
    "Instruction refers to faucet; in frames, blue handle above sink is treated as faucet_handle.",
    "Turning faucet = rotate handle open by 45 degrees (angle chosen as a standard value)."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot rotates faucet handle to open (>=45 degrees)",
      "Robot retreats without collisions or damage"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "faucet_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "faucet_handle", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "faucet_handle", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "faucet_handle", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "faucet_handle", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "Grasp", "attrs": {"target": "faucet_handle", "strategy": "side", "force": 10, "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id": "TurnKnob", "attrs": {"target": "faucet_handle", "knob_type": "knob", "angle_deg": 45, "direction": "open", "force_limit": 10, "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}