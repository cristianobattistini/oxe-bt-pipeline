{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_096",
  "task_summary": "Place the white box into the sink using a robot arm, confirming visual detection, grasp stability, and sequential transfer with recovery for possible perception failures.",
  "task_long_description": {
    "overview": "This task involves a robot arm performing a pick-and-place operation, relocating a white box from the countertop into a sink in a kitchen environment. The robot first visually searches for the box, opens its gripper, moves above, computes a top-down grasp, verifies grasp, then searches for and approaches the sink. It places the box in the sink, releases it, and retreats. The process includes recovery steps for object search and sink detection, emphasizing robustness in perception and manipulation under typical kitchen scene constraints.",
    "preconditions": [
      "Robot arm powered and initialized",
      "White box present and accessible on the countertop",
      "Sink location visually accessible",
      "Gripper functional"
    ],
    "stepwise_plan": [
      "Visually check for white box; rescan up to 3 times if not found",
      "Detect white box",
      "Open gripper (width 0.06)",
      "Move above white box (offset_z 0.05)",
      "Compute top grasp pose ('std_top')",
      "Grasp at computed pose (strategy: top); verify object in gripper",
      "Search for sink if necessary; detect sink",
      "Move above sink (offset_z 0.10)",
      "Place down into sink",
      "Open gripper to release (width 0.08)",
      "Retreat 0.10 meters"
    ],
    "success_criteria": [
      "White box securely transferred into sink",
      "Box released, not grasped after placement",
      "No collisions or dropped objects during transfer"
    ],
    "failure_and_recovery": [
      "White box not found: retry visual scan up to 3 attempts",
      "Sink not found: retry detection",
      "Grasp unsuccessful: abort after verification",
      "Partial placement: retry placement if not fully released"
    ],
    "termination": "Tree completes the retreat action after opening the gripper in sink area."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the white box into the sink",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["white_box", "sink", "robot_arm", "gripper", "countertop", "other bottles"],
  "objects_from_instruction": ["white_box", "sink"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"white_box"},"description":"Checks whether white box is visible to camera"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"white_box","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Rescans for white box using raster pattern"},
    {"id":"DetectObject","type":"Action","ports":{"target":"white_box","timeout_ms":800},"description":"Detects white box in workspace"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper to 0.06m for grasp preparation"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"white_box","offset_z":0.05,"timeout_ms":1500},"description":"Moves end-effector above white box"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"white_box","strategy":"top","result_key":"std_top"},"description":"Computes top grasp pose for white box"},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"std_top","strategy":"top","timeout_ms":1500},"description":"Performs grasp at computed pose"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"white_box"},"description":"Verifies box is held after grasp"},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"sink"},"description":"Checks if sink is visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"sink","timeout_ms":800},"description":"Detects sink location"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500},"description":"Moves above sink for placing"},
    {"id":"PlaceDown","type":"Action","ports":{"target":"sink","timeout_ms":1000},"description":"Places object down into sink area"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens gripper to release box"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Moves arm away from sink"}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 11, "conditions": 4, "depth": 2},
  "failure_modes": [
    "White box not found (perceptual failure)",
    "Box grasp unsuccessful or unstable",
    "Sink not detected",
    "Placement fails: box remains grasped or misaligned",
    "Collision with sink or surrounding objects"
  ],
  "recovery_strategy": [
    "Visual scanning retries for box/sink (up to 3 attempts)",
    "Abort if grasp verification fails",
    "Reattempt placement if box detected still in gripper"
  ],
  "assumptions": [
    "Frames [0]-[8] verify white box is present and manipulated into sink (instruction and visuals stably align)",
    "No clear evidence of required additional force/tolerance as in more complex manipulation (no explicit 'gently'/'precisely')",
    "Sink is open and empty from frames, so 'PlaceDown' is valid"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Box comes to rest in sink and is released",
      "No grasp instability or placement error"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"white_box"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"white_box","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"white_box","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"white_box","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceDown","attrs":{"target":"sink","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}