{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_045",
  "task_summary": "A robot is tasked to pick up a teapot and place it securely onto the stove, following robust perception and manipulation steps as verified visually throughout the episode frames.",
  "task_long_description": {
    "overview": "In a kitchen environment, a robotic manipulator locates a teapot, grasps it from the countertop, and transfers it onto the stove. The robot relies on visual cues for object detection and alignment. The behavior sequence follows clear perception, grasping, and placement stages according to environmental constraints and safety. Recovery mechanisms are included for failed detections, and force/timing parameters are binned for stability.",
    "preconditions": [
      "Teapot present and visually accessible on the counter",
      "Stove available and unobstructed",
      "Robot gripper empty and functional",
      "Environmental lighting permits object detection"
    ],
    "stepwise_plan": [
      "Scan and confirm visibility of the teapot",
      "Detect precise location of the teapot",
      "Open the gripper to clear contact",
      "Move above the teapot in preparation for grasp",
      "Compute grasp pose with top strategy",
      "Align and approach for stable grasp",
      "Lower gripper until contact is detected",
      "Close gripper to secure grasp",
      "Verify grasp stability",
      "Scan and confirm visibility of the stove",
      "Move above stove for placement",
      "Place teapot on stove with measured force",
      "Open gripper to release",
      "Retreat from stove area",
      "Wait briefly to confirm completion"
    ],
    "success_criteria": [
      "Teapot is stably placed on stove surface",
      "No collision or drop during transfer",
      "Gripper successfully releases teapot",
      "Task completion visually confirmed"
    ],
    "failure_and_recovery": [
      "Failure to detect teapot triggers rescan (up to 3 times)",
      "Failed grasp triggers retry from re-alignment",
      "Misplacement triggers repeat placement",
      "Recovery handled by fallback detection branches"
    ],
    "termination": "Task terminates when the teapot is released on the stove and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Place the teapot on the stove",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1200,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["teapot", "stove"],
  "objects_from_instruction": ["teapot", "stove"],
  "blackboard_keys": ["grasp_teapot"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "teapot"},
      "description": "Check if teapot is visible to sensors"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "teapot", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Perform visual scan to locate teapot"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "teapot", "timeout_ms": 800},
      "description": "Detect teapot position using sensors"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Open gripper to specified width"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "teapot", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Position gripper above teapot"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "teapot", "strategy": "top", "result_key": "grasp_teapot"},
      "description": "Compute grasp pose for teapot with top grasp"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "teapot", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approach and align gripper for grasping"
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lower gripper until contact with teapot is detected"
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Close gripper to grasp teapot"
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Verify if grasp is stable"
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "stove"},
      "description": "Check if stove is visible"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "stove", "timeout_ms": 800},
      "description": "Detect stove position"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "stove", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Move above stove for placement"
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {"target": "teapot", "area_id": "stove", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1200},
      "description": "Place teapot onto stove surface"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Open gripper to release teapot"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.1, "timeout_ms": 1200},
      "description": "Retreat gripper from stove"
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {"timeout_ms": 500},
      "description": "Wait briefly to confirm completion"
    }
  ],
  "tree_stats": {
    "nodes_total": 18,
    "actions": 13,
    "conditions": 5,
    "depth": 3
  },
  "failure_modes": [
    "Teapot not detected in scene",
    "Grasp attempt slips or fails",
    "Stove not detected",
    "Teapot dropped mid-transfer",
    "Gripper fails to open/release"
  ],
  "recovery_strategy": [
    "Perception failures trigger repeat scan (up to 3 times)",
    "Grasp failures allow retry after re-alignment",
    "Placement failures allow re-attempt; fallback to perception branch"
  ],
  "assumptions": [
    "Teapot and stove locations inferred strictly from visual evidence (frames [0]..[8])",
    "Instruction correctly aligned: task matches observed arm transfer in sequence",
    "Some intermediate steps like fine alignment are abstracted to library actions per constraints"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Teapot visibly placed on stove surface at episode end",
      "No visible errors in grasp or transfer in final frames"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "teapot"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "teapot", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "teapot", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "teapot", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {"speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "stove", "offset_z": 0.10, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {"target": "teapot", "area_id": "stove", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {"width": 0.08, "timeout_ms": 500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.1, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}