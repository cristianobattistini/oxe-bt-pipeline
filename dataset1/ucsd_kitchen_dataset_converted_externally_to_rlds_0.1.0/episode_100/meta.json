{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_100",
  "task_summary": "Pick up the canned spam and place it into the kitchen sink, using visual feedback and stable grasping.",
  "task_long_description": {
    "overview": "The robot is tasked to pick up a can of spam from the kitchen work area and place it into the sink. The scene involves a robotic arm interacting with a cluttered mini-kitchen environment containing the spam can and the sink as primary objects. The robot must perceive, approach, grasp, transfer, and place the can accurately, ensuring object visibility and grasp stability at each step.",
    "preconditions": [
      "Spam can and sink are present and visible within workspace.",
      "Gripper is free and open.",
      "Robot is powered and ready."
    ],
    "stepwise_plan": [
      "Scan for visibility and detect the spam can.",
      "Open the gripper and move above the can.",
      "Compute a top grasp and align.",
      "Lower the gripper, establish gentle contact, and close to grasp.",
      "Verify grasp stability.",
      "Detect and confirm sink location.",
      "Move above the sink.",
      "Place the spam can onto the sink's surface with gentle force.",
      "Open the gripper and retreat."
    ],
    "success_criteria": [
      "Spam can is stably placed within sink area.",
      "Gripper releases object.",
      "No collision or object drop during transfer."
    ],
    "failure_and_recovery": [
      "Object not visible: retry scanning up to three times.",
      "Grasp fails: verify and retry sensing/grasp.",
      "Placement fails: verify location and retry alignment/placement."
    ],
    "termination": "Tree terminates after waiting for brief confirmation post-retreat."
  },
  "frame_ranking": {
    "order": [
      "frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the canned spam into the sink",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["spam_can", "sink", "gripper", "kitchen_structures"],
  "objects_from_instruction": ["spam_can", "sink"],
  "blackboard_keys": ["grasp_spam"],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"spam_can"}, "description":"Check if spam can is visible."},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"spam_can","pattern":"raster","max_attempts":3,"timeout_ms":1200}, "description":"Scan workspace for spam can if not visible."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"spam_can","timeout_ms":800}, "description":"Detect spam can position."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.06,"timeout_ms":500}, "description":"Open gripper for grasp."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"spam_can","offset_z":0.05,"timeout_ms":1500}, "description":"Move gripper above the can."},
    {"id":"ComputeGraspPose", "type":"Action", "ports":{"target":"spam_can","strategy":"top","result_key":"grasp_spam"}, "description":"Compute grasp pose for top grasp."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"spam_can","tolerance":0.005,"timeout_ms":1500}, "description":"Approach can and align for grasp."},
    {"id":"LowerUntilContact", "type":"Action", "ports":{"speed":"slow","max_depth":0.08,"force_threshold":5,"timeout_ms":1200}, "description":"Lower until gentle contact is made with can."},
    {"id":"CloseGripper", "type":"Action", "ports":{"force":5,"timeout_ms":800}, "description":"Close gripper to grasp spam can."},
    {"id":"IsGraspStable", "type":"Condition", "ports":{}, "description":"Check stability of grasp."},
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"sink"}, "description":"Check if sink is visible."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"sink","timeout_ms":800}, "description":"Detect sink position if not visible."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500}, "description":"Move gripper above sink."},
    {"id":"PlaceOnSurface", "type":"Action", "ports":{"target":"spam_can","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200}, "description":"Place spam can on sink surface with gentle force."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.08,"timeout_ms":500}, "description":"Open gripper to release spam can."},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.1,"timeout_ms":1200}, "description":"Retreat after placing object."},
    {"id":"Wait", "type":"Action", "ports":{"timeout_ms":500}, "description":"Wait briefly to confirm placement."}
  ],
  "tree_stats": {"nodes_total": 19, "actions": 14, "conditions": 3, "depth": 2},
  "failure_modes": [
    "Spam can occluded or missing.",
    "Sink not located.",
    "Gripper fails to grasp or releases prematurely.",
    "Object dropped before/at placement.",
    "Collisions with environment or object."
  ],
  "recovery_strategy": [
    "Retry object/sink scanning up to three attempts.",
    "Verify and reattempt grasp if unstable.",
    "Recompute placement pose and retry if placement fails."
  ],
  "assumptions": [
    "Object inferred as 'spam_can' from visual frames, not explicit from instruction.",
    "Sink positioning verified visually; mapping may shift due to occlusions.",
    "Instruction generic, but frames validate object is canned spam."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Spam can placed securely in sink.",
      "No drop or misplacement.",
      "Recovery engaged on initial failures."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"spam_can","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"spam_can","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"spam_can","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"spam_can","strategy":"top","result_key":"grasp_spam"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"spam_can","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}