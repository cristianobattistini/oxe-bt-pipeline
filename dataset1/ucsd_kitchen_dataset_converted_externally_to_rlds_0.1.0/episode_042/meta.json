{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_042",
  "task_summary": "The robot is instructed to turn on a kitchen faucet by manipulating the faucet knob, using perception, approach, grasp, and actuation steps visible in the provided frames.",
  "task_long_description": {
    "overview": "The episode takes place in a kitchen scene featuring a robot arm tasked with turning on the faucet. The robot must locate the faucet knob visually, approach from above, compute and execute a stable grasp, then rotate the knob to the 'on' position. The contact sheet confirms the robot interacts with a round knob directly above the sink, progressing from perception to actuation. Constraints include maintaining object visibility and stable grasp throughout the sequence.",
    "preconditions": [
      "Robot is powered and initialized at starting position.",
      "Faucet knob is visible and accessible.",
      "No foreign objects obstruct the knob or workspace."
    ],
    "stepwise_plan": [
      "Visually locate the faucet knob.",
      "Approach the knob from above.",
      "Compute and execute a grasp on the knob.",
      "Verify grasp stability.",
      "Rotate the knob 90 degrees in the open direction with low force.",
      "Verify actuation by detecting button press.",
      "Retreat from the knob."
    ],
    "success_criteria": [
      "Knob is successfully rotated to open the faucet.",
      "Robot retreats without collision.",
      "Grasp and actuation are stable throughout."
    ],
    "failure_and_recovery": [
      "Object not found: retry detection before proceeding.",
      "Unstable grasp: recompute and attempt grasp again.",
      "Actuation blocked: reduce force or re-align and retry."
    ],
    "termination": "The tree terminates upon successful rotation and retreat, or after recovery options are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1500,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["faucet_knob", "sink", "robot_arm", "control_panel", "kitchen_table"],
  "objects_from_instruction": ["faucet"],
  "blackboard_keys": ["grasp_faucet_knob"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "faucet_knob"},
      "description": "Checks if the faucet knob is visible to the perception system."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "faucet_knob", "timeout_ms": 800},
      "description": "Performs object detection on the faucet knob if not already visible."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "faucet_knob", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the robot arm to a position above the faucet knob."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "faucet_knob", "strategy": "side", "result_key": "grasp_faucet_knob"},
      "description": "Computes a side grasp pose for the faucet knob and stores it in the blackboard."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_faucet_knob", "strategy": "side", "timeout_ms": 1500},
      "description": "Executes a grasp at the computed pose for the faucet knob."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Checks if the current grasp of the faucet knob is stable."
    },
    {
      "id": "TurnKnob",
      "type": "Action",
      "ports": {"target": "faucet_knob", "knob_type": "knob", "angle_deg": 90, "direction": "open", "force_limit": 5, "timeout_ms": 1500},
      "description": "Rotates the faucet knob by 90 degrees with low force to the open position."
    },
    {
      "id": "ButtonPressed",
      "type": "Condition",
      "ports": {"target": "faucet_knob"},
      "description": "Checks if the knob's button/actuation has been successfully performed."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Retracts the robot arm from the faucet knob after actuation."
    }
  ],
  "tree_stats": {
    "nodes_total": 9,
    "actions": 6,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "Faucet knob not detected due to occlusion or lighting.",
    "Unstable grasp on knob.",
    "Actuation (rotation) blocked or resisted.",
    "Collision with faucet or other objects."
  ],
  "recovery_strategy": [
    "Retry detection if knob not found.",
    "Recompute and retry grasp on failure.",
    "Reduce force or re-align for actuation.",
    "Abort sequence on repeated failures and log error."
  ],
  "assumptions": [
    "Instruction refers to turning on faucet, but frames confirm knob manipulation.",
    "No water flow confirmation visible; success constrained to knob actuation.",
    "Robot hand designed for knob manipulation (as shown in frames)."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Visible knob rotation to open position.",
      "No collisions or unstable grasps.",
      "Retreat of robot from workspace after actuation."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"faucet_knob"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"faucet_knob","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"faucet_knob","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"faucet_knob","strategy":"side","result_key":"grasp_faucet_knob"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_faucet_knob","strategy":"side","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"TurnKnob","attrs":{"target":"faucet_knob","knob_type":"knob","angle_deg":90,"direction":"open","force_limit":5,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"ButtonPressed","attrs":{"target":"faucet_knob"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}