{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_027",
  "task_summary": "Turn on the faucet by detecting, approaching, grasping, and actuating the faucet lever.",
  "task_long_description": {
    "overview": "This sequence guides a robot arm in a kitchen setting to successfully turn on the faucet. The task involves perception (locating the faucet), precise approach and alignment in space above the faucet, computing and executing a suitable grasp using a top strategy, then rotating the faucet lever to the 'open' position. Constraints include spatial precision and low force actuation to avoid damage. The sink, faucet, and closed cabinet are visible, with the robot using visual feedback throughout.",
    "preconditions": [
      "Faucet is closed",
      "Faucet is visually accessible",
      "No external obstacles at sink",
      "Robot gripper is free"
    ],
    "stepwise_plan": [
      "Detect the faucet position",
      "Position the arm above the faucet",
      "Approach and align with the faucet",
      "Compute a top grasp pose for the faucet",
      "Grasp the faucet lever",
      "Turn the faucet lever 45° to open",
      "Retreat to a safe distance"
    ],
    "success_criteria": [
      "Faucet visibly rotated to 'on' position",
      "No damage or collision with objects",
      "Faucet water flow initiates (if water available)"
    ],
    "failure_and_recovery": [
      "Faucet not detected: retry detection",
      "Failed approach/alignment: reattempt with adjusted pose",
      "Unstable grasp: recompute grasp pose and retry",
      "Actuation blocked: release gripper and abort"
    ],
    "termination": "Task terminates after successful actuation and robot retreat from faucet."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm","faucet","sink","cabinet"],
  "objects_from_instruction": ["faucet"],
  "blackboard_keys": ["grasp_faucet"],
  "node_specs": [
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"faucet","timeout_ms":800},
      "description":"Detect the faucet in the visual scene."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"faucet","offset_z":0.05,"timeout_ms":1500},
      "description":"Move robot end-effector above the faucet at a 5cm offset."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"faucet","tolerance":0.005,"timeout_ms":1500},
      "description":"Approach and align the gripper with the faucet, with tight tolerance."
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"faucet","strategy":"top","result_key":"grasp_faucet"},
      "description":"Compute grasp pose for faucet using top strategy."
    },
    {
      "id":"GraspAtPose",
      "type":"Action",
      "ports":{"pose_key":"grasp_faucet","strategy":"top","timeout_ms":1500},
      "description":"Grasp the faucet at computed pose."
    },
    {
      "id":"TurnKnob",
      "type":"Action",
      "ports":{"target":"faucet","knob_type":"lever","angle_deg":45,"direction":"open","force_limit":5,"timeout_ms":1000},
      "description":"Turn the faucet lever by 45° with minimal force to open."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":800},
      "description":"Retreat robot end-effector 10cm from faucet."
    }
  ],
  "tree_stats": {"nodes_total": 7, "actions": 7, "conditions": 0, "depth": 1},
  "failure_modes": [
    "Faucet not visible",
    "Alignment error",
    "Grasp unsuccessful",
    "Actuation blocked or lever does not move"
  ],
  "recovery_strategy": [
    "Reattempt detection or approach as needed",
    "Recompute grasp",
    "Abort actuation if excessive force is detected"
  ],
  "assumptions": [
    "Frames confirm faucet lever actuation by robot arm; task instruction matches observed action.",
    "Visual evidence shows lever, not a twist knob.",
    "Minimal force sufficient for actuation as lever is unobstructed.",
    "No explicit evidence of water flow, but physical actuation observed."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot physically rotates faucet lever to open position by approx 45°",
      "Robot retreats from faucet after manipulation"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"faucet","timeout_ms":800}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"faucet","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"faucet","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"faucet","strategy":"top","result_key":"grasp_faucet"}},
      "active_path_ids": ["Sequence","ComputeGraspPose"]
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_faucet","strategy":"top","timeout_ms":1500}},
      "active_path_ids": ["Sequence","GraspAtPose"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"TurnKnob","attrs":{"target":"faucet","knob_type":"lever","angle_deg":45,"direction":"open","force_limit":5,"timeout_ms":1000}},
      "active_path_ids": ["Sequence","TurnKnob"]
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":800}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}