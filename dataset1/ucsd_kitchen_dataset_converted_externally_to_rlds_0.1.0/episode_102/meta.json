{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_102",
  "task_summary": "Turn on the faucet by locating the faucet handle, grasping it, and rotating it to the open position using a robotic arm.",
  "task_long_description": {
    "overview": "This episode depicts a robot arm operating in a kitchen playset, tasked with turning on the faucet. The arm locates the faucet handle, approaches from above, aligns precisely, grasps it, and rotates the handle to the open direction. Actions proceed in a sequence with basic perception, approach, manipulation, and retreat. The visual context shows a typical toy kitchen faucet with a rotatable handle. Constraints include accurate object detection, sufficiently precise grasping, and gentle force application to prevent damage. The faucet handle is the primary manipulation target.",
    "preconditions": [
      "Faucet handle is present and accessible.",
      "No obstructions between robot and faucet.",
      "Robot is in starting pose with empty gripper."
    ],
    "stepwise_plan": [
      "Check if faucet handle is visible; otherwise scan.",
      "Detect and localize the faucet handle.",
      "Move the gripper above the faucet handle.",
      "Approach and align precisely to the handle.",
      "Grasp the handle with a pinch grasp.",
      "Rotate (turn) the handle in the open direction by 45 degrees.",
      "Wait briefly to ensure handle is open.",
      "Open the gripper to release handle.",
      "Retreat arm from faucet area."
    ],
    "success_criteria": [
      "Faucet handle is rotated to the open position.",
      "No collision or dropped objects.",
      "Robot end-effector returns safely."
    ],
    "failure_and_recovery": [
      "Perception fails: retry scanning for handle up to three times.",
      "Grasp slips: reacquire and retry grasp.",
      "If handle rotation fails: abort and retreat safely."
    ],
    "termination": "Task completes when the faucet handle is successfully rotated open, and arm retreated."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1000,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "faucet_handle",
    "faucet_spout",
    "sink"
  ],
  "objects_from_instruction": [
    "faucet"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {
        "target": "faucet_handle"
      },
      "description": "Check if the faucet handle is visible"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {
        "target": "faucet_handle",
        "pattern": "raster",
        "max_attempts": 3,
        "timeout_ms": 1200
      },
      "description": "Scan the scene for the faucet handle in raster pattern"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {
        "target": "faucet_handle",
        "timeout_ms": 800
      },
      "description": "Detect and localize the faucet handle"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {
        "target": "faucet_handle",
        "offset_z": 0.05,
        "timeout_ms": 1500
      },
      "description": "Move arm above the faucet handle"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {
        "target": "faucet_handle",
        "tolerance": 0.005,
        "timeout_ms": 1500
      },
      "description": "Approach and align end-effector precisely to faucet handle"
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {
        "target": "faucet_handle",
        "strategy": "pinch",
        "force": 10,
        "timeout_ms": 800
      },
      "description": "Grasp the faucet handle with a pinch grasp"
    },
    {
      "id": "TurnKnob",
      "type": "Action",
      "ports": {
        "target": "faucet_handle",
        "knob_type": "knob",
        "angle_deg": 45,
        "direction": "open",
        "force_limit": 10,
        "timeout_ms": 1000
      },
      "description": "Turn the faucet handle by 45 degrees in the open direction"
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {
        "timeout_ms": 500
      },
      "description": "Wait briefly after actuation"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {
        "width": 0.08,
        "timeout_ms": 500
      },
      "description": "Open the gripper to release handle"
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {
        "distance": 0.1,
        "timeout_ms": 1200
      },
      "description": "Retreat the arm from faucet area"
    }
  ],
  "tree_stats": {
    "nodes_total": 13,
    "actions": 9,
    "conditions": 1,
    "depth": 2
  },
  "failure_modes": [
    "Handle not detected",
    "Failed to grasp handle",
    "Obstacle during approach",
    "Handle rotation blocked",
    "Unintended collision"
  ],
  "recovery_strategy": [
    "Retry perception up to 3 times",
    "Retry grasp if slip detected",
    "Abort and retreat on collision"
  ],
  "assumptions": [
    "The faucet handle is represented as 'faucet_handle' and can be grasped with a pinch strategy.",
    "Frames confirm manipulation is of a turnable handle (rotary), not a lever or push-button.",
    "Physical water state not tracked; success is judged by handle position.",
    "Instruction refers to turning (rotating) handle, as visually inferred from robotâ€™s action."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Faucet handle visibly turned to open position"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": { "target": "faucet_handle" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "faucet_handle",
          "pattern": "raster",
          "max_attempts": 3,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "faucet_handle",
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "faucet_handle",
          "offset_z": 0.05,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {
          "target": "faucet_handle",
          "tolerance": 0.005,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "Grasp",
        "attrs": {
          "target": "faucet_handle",
          "strategy": "pinch",
          "force": 10,
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "TurnKnob",
        "attrs": {
          "target": "faucet_handle",
          "knob_type": "knob",
          "angle_deg": 45,
          "direction": "open",
          "force_limit": 10,
          "timeout_ms": 1000
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": {
          "width": 0.08,
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.1,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    }
  ]
}