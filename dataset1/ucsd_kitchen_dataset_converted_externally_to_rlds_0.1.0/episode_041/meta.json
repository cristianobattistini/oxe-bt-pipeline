{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_041",
  "task_summary": "The robot arm must place the bowl inside the kitchen cabinet, starting with visual detection, grasping, cabinet opening, and final placement.",
  "task_long_description": {
    "overview": "This episode involves a robot arm operating in a mock kitchen environment. The primary objects are a bowl on the counter and an upper kitchen cabinet. The robot perceives and grasps the bowl, opens the cabinet, and then places the bowl inside. The sequence is strictly ordered and requires visual confirmation, stable grasp, correct container handling, and successful transfer of the bowl. Recovery mechanisms such as repeated scanning for targets and verifying grasp are included to improve robustness.",
    "preconditions": [
      "Bowl is present and visible on the counter.",
      "Cabinet is physically accessible and can be opened.",
      "Gripper is empty and operational."
    ],
    "stepwise_plan": [
      "Scan and confirm visibility of the bowl.",
      "Detect precise bowl location.",
      "Open the gripper to the required width.",
      "Move above the bowl.",
      "Compute the grasp pose for the bowl (top grasp).",
      "Grasp at computed pose.",
      "Verify the bowl is in the gripper.",
      "Scan and confirm visibility of the cabinet.",
      "Open the cabinet.",
      "Move above the cabinet.",
      "Place the bowl on the cabinet surface.",
      "Open gripper to release the bowl.",
      "Retreat from the placement."
    ],
    "success_criteria": [
      "Bowl is placed fully inside the kitchen cabinet.",
      "No collisions or dropped objects occurred.",
      "Cabinet is left open or closed as required."
    ],
    "failure_and_recovery": [
      "Failure to detect objects triggers retry scans.",
      "Failed grasps re-initiate grasp sequence.",
      "If bowl drops, retry full sequence from detection."
    ],
    "termination": "Successfully retreated after releasing the bowl inside the cabinet, or after repeated failures/timeout."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92, "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": [
    "bowl",
    "cabinet"
  ],
  "objects_from_instruction": [
    "bowl",
    "kitchen cabinet"
  ],
  "blackboard_keys": [
    "std_top"
  ],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bowl"},"description":"Checks if the bowl is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"bowl","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scans scene to locate the bowl visually."},
    {"id":"DetectObject","type":"Action","ports":{"target":"bowl","timeout_ms":800},"description":"Detects precise position of the bowl."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens the gripper to 0.08m width for grasping."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},"description":"Moves gripper above bowl."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bowl","strategy":"top","result_key":"std_top"},"description":"Computes grasp pose for top grasp of bowl."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"std_top","strategy":"top","timeout_ms":1000},"description":"Performs grasp using computed pose and strategy."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"bowl"},"description":"Checks bowl is held by gripper."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"cabinet"},"description":"Verifies cabinet is visible."},
    {"id":"DetectObject","type":"Action","ports":{"target":"cabinet","timeout_ms":800},"description":"Detects precise location of cabinet."},
    {"id":"OpenContainer","type":"Action","ports":{"target":"cabinet","container_type":"cabinet","timeout_ms":1200},"description":"Opens the cabinet door."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"cabinet","offset_z":0.10,"timeout_ms":1500},"description":"Moves above cabinet opening for placement."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"bowl","area_id":"cabinet","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Places bowl on cabinet surface with light force."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens gripper to release bowl."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.1,"timeout_ms":1200},"description":"Retreats after placing bowl."}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 11, "conditions": 4, "depth": 3},
  "failure_modes": [
    "Object not detected (bowl/cabinet obscured)",
    "Grasp unsuccessful (miss/slip)",
    "Cabinet cannot open (jam)",
    "Placement misaligned (partial in cabinet)",
    "Release fails (bowl stuck in gripper)"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget",
    "Retry grasp sequence after DetectObject",
    "Skip placement if cabinet not detected after retries"
  ],
  "assumptions": [
    "Frames strictly support the stepwise manipulation (no visible closed cabinet doors, so opening succeeds)",
    "Cabinet is visually and physically openable per frames",
    "Instruction and frames agree: task is bowl placement but frames prioritize a top-down approach; If cabinet closing was required, frames do not support",
    "No explicit force/tolerance in instruction or visually inferable"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl fully transferred to cabinet",
      "Gripper empty on final frame",
      "No object dropped outside cabinet"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"bowl","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bowl","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"bowl","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"cabinet","container_type":"cabinet","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"bowl","area_id":"cabinet","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}