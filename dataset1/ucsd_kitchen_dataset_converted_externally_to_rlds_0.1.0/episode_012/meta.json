{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_012",
  "task_summary": "The robot is instructed to pick up the green box from the workspace and place it into the sink, following a robust object search, grasp, transfer, and placement routine as verified across 9 visual frames.",
  "task_long_description": {
    "overview": "This task requires a robot arm to locate a green box within a cluttered kitchen environment, grasp it securely, and transport it over to the sink for placement. The behavior tree design provides both robust object detection with fallback logic, staged grasp execution, and precise transfer using contact-feedback and alignment actions. Performance is verified across a nine-step visual sequence, with transitions from perception, approach, and grasp, through transfer and final placement. Constraints include workspace clutter and need for reliable grasp and drop-off in a structured basin.",
    "preconditions": [
      "Green box is present and visible somewhere in workspace",
      "Sink is accessible, clear, and identifiable",
      "Gripper is initially open",
      "No occlusions/obstacles block the arm path"
    ],
    "stepwise_plan": [
      "Search for the green box; retry via scan if needed",
      "Detect and localize green box",
      "Open gripper for grasp prep",
      "Move above green box and compute grasp pose",
      "Approach and align to box",
      "Lower until contact detected",
      "Close gripper to grasp",
      "Verify grasp stability",
      "Search for sink and detect its position",
      "Move above sink, compute drop-off pose",
      "Approach and align over sink",
      "Place box onto sink surface",
      "Open gripper to release box",
      "Retreat arm from sink",
      "Wait briefly confirming placement"
    ],
    "success_criteria": [
      "Green box visually confirmed inside sink",
      "Gripper released object and no longer holding it",
      "No collisions or misplacement detected",
      "Arm clear of sink after retreat"
    ],
    "failure_and_recovery": [
      "Object detection fail: retry scans",
      "Grasp instability: reattempt approach and grasp",
      "Collision or misplacement: fallback and replan",
      "Sink occluded: alternate camera angles or scan"
    ],
    "termination": "Task ends when the green box is released into the sink and the arm is in the post-retreat position."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the green box into the sink",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "robot_arm",
    "green_box",
    "sink",
    "other_box",
    "workspace"
  ],
  "objects_from_instruction": [
    "green_box",
    "sink"
  ],
  "blackboard_keys": [
    "grasp_green_box",
    "pose_sink"
  ],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "green_box"},
      "description": "Checks if the green box is visible to the robot."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "green_box", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the workspace for the green box in a raster pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "green_box", "timeout_ms": 800},
      "description": "Detects and localizes the green box precisely."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper for grasp preparation."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "green_box", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the robot's end-effector above the green box."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "green_box", "strategy": "top", "result_key": "grasp_green_box"},
      "description": "Computes the grasp pose for picking up the green box from above."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "green_box", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns the gripper to the green box with high precision."
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": {"speed": "slow", "max_depth": 0.10, "force_threshold": 5, "timeout_ms": 1200},
      "description": "Lowers the gripper until contact with the box is detected."
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": {"force": 10, "timeout_ms": 800},
      "description": "Closes the gripper to grasp the green box tightly."
    },
    {
      "id": "IsGraspStable",
      "type": "Condition",
      "ports": {},
      "description": "Confirms that the grasped object is secure."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "sink"},
      "description": "Checks visibility of the sink."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "sink", "timeout_ms": 800},
      "description": "Detects and localizes the sink's position."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "sink", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves the gripper above the sink."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "sink", "strategy": "top", "result_key": "pose_sink"},
      "description": "Computes a pose for placement above the sink."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "sink", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns the gripper over the sink for placing the object."
    },
    {
      "id": "PlaceOnSurface",
      "type": "Action",
      "ports": {"target": "green_box", "area_id": "sink", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1200},
      "description": "Places the green box onto the sink surface."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Opens the gripper to release the green box in the sink."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves the robot arm away from the sink after object release."
    },
    {
      "id": "Wait",
      "type": "Action",
      "ports": {"timeout_ms": 500},
      "description": "Brief pause after completion for confirmation."
    }
  ],
  "tree_stats": {"nodes_total": 20, "actions": 15, "conditions": 3, "depth": 1},
  "failure_modes": [
    "Green box not found: repeated scan attempts",
    "Sink not detected: fallback to detection",
    "Unstable grasp: requires re-alignment and retry",
    "Misplacement in sink: retreat and report"
  ],
  "recovery_strategy": [
    "Retry object scan for green box up to three times",
    "Use fallback detection if sink not visible",
    "Re-attempt approach and grasp if stability not confirmed",
    "Pause briefly and re-verify placement with a wait"
  ],
  "assumptions": [
    "Assumed green box is the intended object as per visual evidence.",
    "Sink location visually confirmed in multiple frames, matches instruction.",
    "No unexpected occlusions detected in contact sheet frames.",
    "Frame evidence matches instruction; no mismatches identified."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Green box visually confirmed in sink following action sequence",
      "No residual grasp detected after release",
      "Sequence completes without arm collisions"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "green_box",
          "pattern": "raster",
          "max_attempts": 3,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "green_box",
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "green_box",
          "offset_z": 0.05,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": {
          "target": "green_box",
          "strategy": "top",
          "result_key": "grasp_green_box"
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.10,
          "force_threshold": 5,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {
          "force": 10,
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "sink",
          "offset_z": 0.10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceOnSurface",
        "attrs": {
          "target": "green_box",
          "area_id": "sink",
          "yaw_deg": 0,
          "press_force": 10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    }
  ]
}