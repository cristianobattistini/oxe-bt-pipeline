{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_001",
  "task_summary": "The robot must pick up the bowl from the countertop and place it inside the kitchen cabinet by opening the cabinet, placing the bowl, and closing the cabinet.",
  "task_long_description": {
    "overview": "The task is to move a bowl from its initial position on the kitchen countertop into the kitchen cabinet using a robot arm. The sequence involves detecting and grasping the bowl, finding and opening the kitchen cabinet, transporting the bowl, placing it on the cabinet shelf, and finally closing the cabinet. The workspace includes a kitchen playset with a bowl, utensils, and a cabinet with a door. The actions must be precise to avoid collisions and ensure successful placement inside the cabinet.",
    "preconditions": [
      "Bowl is on the counter and freely accessible.",
      "Cabinet is closed.",
      "No obstacles block the arm's trajectory."
    ],
    "stepwise_plan": [
      "Visually locate the bowl.",
      "Approach and grasp the bowl from above.",
      "Check and if necessary locate the kitchen cabinet.",
      "Open the cabinet door.",
      "Move bowl inside the cabinet, above the shelf.",
      "Place the bowl onto the shelf.",
      "Release the bowl.",
      "Retreat the gripper.",
      "Close the cabinet."
    ],
    "success_criteria": [
      "Bowl is inside the kitchen cabinet, placed on the shelf.",
      "Cabinet door is closed at the end.",
      "No items are dropped or misplaced."
    ],
    "failure_and_recovery": [
      "If the bowl is not visible, scan with multiple attempts.",
      "If the cabinet is not detected, retry detection.",
      "If grasp fails or is unstable, repeat approach/grasp up to three times."
    ],
    "termination": "Task terminates after the bowl is placed in the cabinet, the gripper is retreated, and the cabinet is closed."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["bowl","kitchen_cabinet"],
  "objects_from_instruction": ["bowl","kitchen_cabinet"],
  "blackboard_keys": ["grasp_bowl"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"bowl"},
      "description":"Checks if bowl is visible in current view"
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"bowl","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Performs a raster scan for the bowl"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"bowl","timeout_ms":800},
      "description":"Detects the bowl with time-limited effort"
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.08,"timeout_ms":500},
      "description":"Opens gripper to 8cm for grasping"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves above the bowl with 5cm clearance"
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"},
      "description":"Computes a top-down grasp pose for the bowl"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"bowl","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches the bowl and aligns within 5mm"
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow","max_depth":0.08,"force_threshold":5,"timeout_ms":1200},
      "description":"Lowers with contact feedback for safe grasp initiation"
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":10,"timeout_ms":800},
      "description":"Closes gripper with low force for gentle grasp"
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Checks if the bowl is stably grasped"
    },
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"kitchen_cabinet"},
      "description":"Checks if the kitchen cabinet is visible"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"kitchen_cabinet","timeout_ms":800},
      "description":"Detects the kitchen cabinet"
    },
    {
      "id":"OpenContainer",
      "type":"Action",
      "ports":{"target":"kitchen_cabinet","container_type":"cabinet","timeout_ms":2000},
      "description":"Opens the kitchen cabinet door"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"kitchen_cabinet","offset_z":0.10,"timeout_ms":1500},
      "description":"Moves above the kitchen cabinet (10cm above shelf)"
    },
    {
      "id":"PlaceAt",
      "type":"Action",
      "ports":{"pose_key":"place_on_shelf","yaw_deg":0,"press_force":10,"timeout_ms":1200},
      "description":"Places bowl onto the cabinet shelf"
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.08,"timeout_ms":500},
      "description":"Opens gripper to release the bowl"
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.1,"timeout_ms":1200},
      "description":"Retreats the gripper after placement"
    },
    {
      "id":"CloseContainer",
      "type":"Action",
      "ports":{"target":"kitchen_cabinet","container_type":"cabinet","timeout_ms":2000},
      "description":"Closes the kitchen cabinet door"
    }
  ],
  "tree_stats": {
    "nodes_total": 19,
    "actions": 13,
    "conditions": 3,
    "depth": 1
  },
  "failure_modes": [
    "Object not visible—trigger scan and retry",
    "Failed grasp—repeat approach/grasp",
    "Cabinet not detected—retry detection",
    "Cabinet does not open/close fully"
  ],
  "recovery_strategy": [
    "Retry perception actions up to 3 times for bowl/cabinet",
    "Repeat grasp on failure; abort if stable grasp not achieved",
    "Timeout and notify operator if container actions fail"
  ],
  "assumptions": [
    "Actions and phase transitions grounded in visual cues from frames 0–8.",
    "Cabinet is operated as a 'cabinet' type container per library.",
    "If a mismatch between cabinet physical configuration and 'cabinet' type arises, execution will fail after retry."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl transferred into and left inside the closed kitchen cabinet at episode end"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"bowl"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"bowl","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.08,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":10,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"kitchen_cabinet","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"place_on_shelf","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"CloseContainer","attrs":{"target":"kitchen_cabinet","container_type":"cabinet","timeout_ms":2000}},
      "active_path_ids": []
    }
  ]
}