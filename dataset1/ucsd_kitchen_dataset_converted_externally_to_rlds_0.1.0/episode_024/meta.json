{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_024",
  "task_summary": "Robot places the bowl from the counter into a kitchen cabinet by grasping, opening the cabinet if closed, and transferring the bowl safely onto the shelf inside.",
  "task_long_description": {
    "overview": "This episode involves a robotic manipulator tasked to pick up a bowl from a kitchen counter and insert it into a cabinet. The scene features a standard kitchen playset with a cabinet, counter, and bowl in easy reach. The robot must visually locate the bowl, grasp it securely using a top grasp, verify a stable grip, open the cabinet door if necessary, move the bowl above the cabinet, and place it gently onto the shelf. Key constraints include ensuring the gripper is properly opened for the bowl, verifying the cabinet is open prior to placement, and retreating after release. The task emphasizes careful object handling and precise placement inside a constrained space.",
    "preconditions": [
      "Bowl is present on the counter", 
      "Cabinet is accessible", 
      "Robot is ready and gripper is operational"
    ],
    "stepwise_plan": [
      "Visually locate bowl", 
      "Open gripper to suitable width", 
      "Move above bowl", 
      "Compute top grasp pose", 
      "Grasp bowl", 
      "Verify bowl in gripper", 
      "Check and open cabinet if needed", 
      "Move above cabinet shelf", 
      "Place bowl on shelf", 
      "Open gripper to release", 
      "Retreat arm"
    ],
    "success_criteria": [
      "Bowl is placed stably on the cabinet shelf", 
      "No damage to objects or cabinet", 
      "Robot arm retreats after placement"
    ],
    "failure_and_recovery": [
      "Bowl not detected – retry scan", 
      "Grasp fails – re-try grasp sequence", 
      "Cabinet is closed – open cabinet",
      "Placement unstable – alert and retry"
    ],
    "termination": "Task ends after bowl is released and robot retreats from the cabinet."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["bowl", "cabinet", "kitchen shelf", "counter", "gripper"],
  "objects_from_instruction": ["bowl", "cabinet"],
  "blackboard_keys": ["grasp_bowl"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"bowl"},"description":"Check if bowl is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"bowl","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Scan for bowl"},
    {"id":"DetectObject","type":"Action","ports":{"target":"bowl","timeout_ms":800},"description":"Detect bowl precisely"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Open gripper for bowl"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},"description":"Move arm above bowl"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"},"description":"Compute grasp pose for bowl"},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_bowl","strategy":"top","timeout_ms":1500},"description":"Grasp bowl at computed pose"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"bowl"},"description":"Verify bowl is grasped"},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"cabinet"},"description":"Check if cabinet is open"},
    {"id":"OpenContainer","type":"Action","ports":{"target":"cabinet","container_type":"cabinet","timeout_ms":1500},"description":"Open kitchen cabinet"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"cabinet","offset_z":0.10,"timeout_ms":1500},"description":"Move bowl above cabinet shelf"},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"bowl","area_id":"shelf","yaw_deg":0,"press_force":10,"timeout_ms":1200},"description":"Place bowl onto shelf"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.10,"timeout_ms":500},"description":"Release bowl"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreat arm from cabinet"}
  ],
  "tree_stats": {
    "nodes_total": 15,
    "actions": 10,
    "conditions": 5,
    "depth": 4
  },
  "failure_modes": [
    "Bowl not visible or occluded",
    "Gripper fails to grasp bowl",
    "Cabinet door not open",
    "Incorrect placement on shelf"
  ],
  "recovery_strategy": [
    "Scan and retry up to 3 times if bowl not seen",
    "Repeat grasp action on failure",
    "Open cabinet if not already open",
    "Alert and retry placement if unstable"
  ],
  "assumptions": [
    "Frames show cabinet already open; instruction does not specify. BT allows checking and opening as needed.",
    "Cabinet location corresponds to 'cabinet', placement area is 'shelf', gripper config inferred from bowl diameter.",
    "Frame evidence preferred—for instance, cabinet door state read visually."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl inside cabinet, resting stably on the shelf, gripper open, arm retreated"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "bowl"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "bowl", "pattern": "spiral", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "bowl", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.08, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "bowl", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "ComputeGraspPose", "attrs": {"target": "bowl", "strategy": "top", "result_key": "grasp_bowl"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "GraspAtPose", "attrs": {"pose_key": "grasp_bowl", "strategy": "top", "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id": "PlaceOnSurface", "attrs": {"target": "bowl", "area_id": "shelf", "yaw_deg": 0, "press_force": 10, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}