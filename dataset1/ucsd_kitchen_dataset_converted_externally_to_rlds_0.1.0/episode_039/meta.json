{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_039",
  "task_summary": "Open the kitchen cabinet door using visual servoing, alignment, actuation, and retreat.",
  "task_long_description": {
    "overview": "A robot arm is tasked with opening a cabinet door in a kitchen scene. The robot begins by locating the cabinet door with its sensors, approaches and aligns to the door, actuates the opening operation using the 'OpenContainer' action, verifies successful opening, and then retreats. Objects involved include the cabinet door as the main target, with the workspace containing a sink and drawers. Success hinges on correct perception, actuation, and retreat. The main constraint is accurate target identification; multiple perception attempts may be needed if the door is not initially visible.",
    "preconditions": [
      "Robot is close enough to visually perceive the cabinet door.",
      "Cabinet door is closed at start.",
      "No obstructions prevent gripper approach."
    ],
    "stepwise_plan": [
      "Check if cabinet door is visible; scan if not.",
      "Detect and localize the cabinet door.",
      "Approach and align with the cabinet door.",
      "Execute the open container operation on the cabinet door.",
      "Verify that the door is open.",
      "Retreat to a safe position."
    ],
    "success_criteria": [
      "Cabinet door is visually verified as open after the action.",
      "Robot retreat completes without collision."
    ],
    "failure_and_recovery": [
      "If the cabinet door is not visible: perform up to three scanning attempts.",
      "If actuation fails to open the door: repeat from alignment phase or alert operator."
    ],
    "termination": "Tree terminates successfully once the cabinet door is confirmed open and the robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Open the carbinet door",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cabinet_door","sink","drawer","cabinet_body"],
  "objects_from_instruction": ["cabinet_door"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"cabinet_door"},
      "description":"Checks if the cabinet door is visible."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"cabinet_door", "pattern":"raster", "max_attempts":3, "timeout_ms":1200},
      "description":"Scan for the cabinet door using a raster pattern; up to 3 attempts."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"cabinet_door", "timeout_ms":800},
      "description":"Detect and localize the cabinet door."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"cabinet_door", "tolerance":0.01, "timeout_ms":1500},
      "description":"Approach the cabinet door and align with a tolerance of 0.01."
    },
    {
      "id":"OpenContainer",
      "type":"Action",
      "ports":{"target":"cabinet_door", "container_type":"cabinet", "timeout_ms":2000},
      "description":"Actuate the cabinet door to the open position."
    },
    {
      "id":"ContainerOpen",
      "type":"Condition",
      "ports":{"target":"cabinet_door"},
      "description":"Checks if the cabinet door is now open."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10, "timeout_ms":1200},
      "description":"Retreat the arm 0.10 m from current position safely."
    }
  ],
  "tree_stats": {"nodes_total": 9, "actions": 5, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Cabinet door not visible to sensors.",
    "Perception errors in localizing door.",
    "Alignment fails or collision detected.",
    "Actuation fails to open the door.",
    "Door does not respond as expected."
  ],
  "recovery_strategy": [
    "Retry scanning for visibility (max 3 attempts).",
    "Repeat detection and alignment step.",
    "Alert operator if repeated actuation fails."
  ],
  "assumptions": [
    "Instruction spelling ('carbinet') mapped to 'cabinet_door' object in scene.",
    "Contact sheet frames confirm the entire sequence for opening a right-hinged upper cabinet door.",
    "Assumed the robot is not required to grasp a handleâ€”the OpenContainer is directly used per observed frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cabinet door visually open in post-action frames.",
      "Robot retreats without collision."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"cabinet_door"}},
      "active_path_ids": ["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"cabinet_door","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Fallback","RetryUntilSuccessful","ScanForTarget"]
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cabinet_door","timeout_ms":800}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cabinet_door","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cabinet_door","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"OpenContainer","attrs":{"target":"cabinet_door","container_type":"cabinet","timeout_ms":2000}},
      "active_path_ids": ["Sequence","OpenContainer"]
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"cabinet_door"}},
      "active_path_ids": ["Sequence","ContainerOpen"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}