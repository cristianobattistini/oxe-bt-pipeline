{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_017",
  "task_summary": "Pick up the green box and place it into the sink using a robot arm in a kitchen environment.",
  "task_long_description": {
    "overview": "The robot arm is tasked to detect, pick up, and transfer a green box into the sink of a miniature kitchen setup. The scenario involves reliable perception, careful grasping from above, transport across the workspace, and accurate placement within the sink. The arm must adapt to possible occlusion, limited workspace, and ensure that the object is securely moved and deposited without collisions.",
    "preconditions": [
      "The green box is visible and accessible on the work surface.",
      "The sink area is empty and reachable.",
      "The gripper is ready to open and close."
    ],
    "stepwise_plan": [
      "Perceive and locate the green box.",
      "Open the gripper.",
      "Move above the green box and plan a top grasp.",
      "Align and lower until contact is sensed.",
      "Close the gripper to grasp the box.",
      "Verify stable grasp.",
      "Perceive and locate the sink.",
      "Move above the sink.",
      "Place the box on the sink surface.",
      "Open the gripper to release.",
      "Retreat from the sink.",
      "Wait briefly to confirm release."
    ],
    "success_criteria": [
      "Green box is fully inside the sink.",
      "No object drops or collisions occur.",
      "The arm completes all motions as planned."
    ],
    "failure_and_recovery": [
      "If the object is not detected: retry scanning up to 3 times.",
      "If grasp fails: abort and signal error.",
      "If placement is unstable: abort and log event."
    ],
    "termination": "Task ends after retreating post-release with the green box placed in the sink."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the green box into the sink",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["green_box", "sink"],
  "objects_from_instruction": ["green_box", "sink"],
  "blackboard_keys": ["grasp_green_box"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"green_box"},
      "description":"Checks if green_box is visible."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"green_box", "pattern":"raster", "max_attempts":3, "timeout_ms":1200},
      "description":"Scans workspace to find the green_box."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"green_box", "timeout_ms":800},
      "description":"Detects the green_box and localizes."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06, "timeout_ms":500},
      "description":"Opens gripper for object grasp preparation."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"green_box", "offset_z":0.10, "timeout_ms":1500},
      "description":"Moves arm above the green_box with vertical offset."
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"green_box", "strategy":"top", "result_key":"grasp_green_box"},
      "description":"Computes top grasp pose for green_box."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"green_box", "tolerance":0.005, "timeout_ms":1500},
      "description":"Approach green_box and align with 5mm tolerance."
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow", "max_depth":0.05, "force_threshold":5, "timeout_ms":1200},
      "description":"Lower until 5N contact is sensed or 0.05m travelled."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":10, "timeout_ms":800},
      "description":"Closes gripper with 10N force."
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Verifies that grasp is stable."
    },
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"sink"},
      "description":"Checks if sink is visible."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"sink", "timeout_ms":800},
      "description":"Detects the sink and localizes."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"sink", "offset_z":0.10, "timeout_ms":1500},
      "description":"Moves arm above the sink with vertical offset."
    },
    {
      "id":"PlaceOnSurface",
      "type":"Action",
      "ports":{"target":"green_box", "area_id":"sink", "yaw_deg":0, "press_force":10, "timeout_ms":1200},
      "description":"Places green_box on sink surface with 10N press."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.08, "timeout_ms":500},
      "description":"Opens gripper to release."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10, "timeout_ms":1200},
      "description":"Retreats arm by 10cm from placement location."
    },
    {
      "id":"Wait",
      "type":"Action",
      "ports":{"timeout_ms":500},
      "description":"Short wait to confirm task termination."
    }
  ],
  "tree_stats": {"nodes_total": 19, "actions": 14, "conditions": 3, "depth": 3},
  "failure_modes": [
    "Green box not found after retries",
    "Sink not found after retries",
    "Unstable grasp",
    "Placement failure or collision"
  ],
  "recovery_strategy": [
    "Rescan for green box up to 3 times",
    "Fallback detection for sink",
    "Abort on repeated grasp or placement failure"
  ],
  "assumptions": [
    "Instruction says 'into the sink'; frames show placement on the sink surface interpreted as 'in the sink' due to miniature sink geometry.",
    "Green box is unambiguously identified by visual evidence in frames.",
    "No prior information about gripper force/timeout required."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Green box comes to rest within the sink region."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_box", "pattern":"raster", "max_attempts":3, "timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_box","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_box","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"green_box","strategy":"top","result_key":"grasp_green_box"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"green_box","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"green_box","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}