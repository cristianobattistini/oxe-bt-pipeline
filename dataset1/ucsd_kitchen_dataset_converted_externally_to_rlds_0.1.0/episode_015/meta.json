{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_015",
  "task_summary": "Open the oven door using a robotic arm that first detects the oven door, approaches its handle, grasps, pulls to open, verifies, releases, and retreats.",
  "task_long_description": {
    "overview": "This episode shows a robot arm tasked to open the oven door in a kitchen scene. The oven door is initially closed, with the handle clearly accessible. The arm perceives the oven door, approaches and aligns with the handle, grasps it from the side, pulls to unlatch and open, checks that the door is open, then releases the handle and retreats. Critical constraints include a careful grasp, proper alignment for effective pulling, and verification of the open state.",
    "preconditions": [
      "Oven door is closed and handle accessible",
      "Robot gripper is empty and operational",
      "No obstructions around the oven door and workspace",
      "Visual sensors are calibrated for object detection"
    ],
    "stepwise_plan": [
      "Check visibility of oven door (fallback: detect if not visible)",
      "Move above oven door handle and approach",
      "Align precisely with the handle",
      "Grasp the handle with side strategy, applying minimum force required",
      "Verify stable grasp",
      "Pull handle outward to open oven door",
      "Confirm oven door is open",
      "Release (open gripper) from handle",
      "Retreat from oven area"
    ],
    "success_criteria": [
      "Oven door is visibly and physically open after the sequence",
      "Handle is released without damage",
      "Arm safely retreats from oven after completion"
    ],
    "failure_and_recovery": [
      "Failure: Oven door or handle not detected — retry perception",
      "Failure: Grasp unstable — retry approach/grasp",
      "Failure: Door does not open — increase pulling force or check for obstructions",
      "Recovery: Abort and retreat upon repeated failures"
    ],
    "termination": "Task terminates when oven door is open, handle is released, and robot arm is in safe post-task position."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Open the oven door",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["oven_door", "oven_door_handle"],
  "objects_from_instruction": ["oven_door"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"oven_door"}, "description":"Tests if the oven door is visible."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"oven_door", "timeout_ms":800}, "description":"Detect oven door in visual field."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"oven_door_handle", "offset_z":0.05, "timeout_ms":1500}, "description":"Move end-effector above oven door handle."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"oven_door_handle", "tolerance":0.005, "timeout_ms":1500}, "description":"Align gripper with oven door handle."},
    {"id":"Grasp", "type":"Action", "ports":{"target":"oven_door_handle", "strategy":"side", "force":5, "timeout_ms":800}, "description":"Grasp oven door handle from side, gently."},
    {"id":"IsGraspStable", "type":"Condition", "ports":{}, "description":"Check that grasp on handle is stable."},
    {"id":"Pull", "type":"Action", "ports":{"target":"oven_door_handle", "distance":0.30, "direction_deg":90, "timeout_ms":2000}, "description":"Pull oven door handle towards robot to open."},
    {"id":"ContainerOpen", "type":"Condition", "ports":{"target":"oven_door"}, "description":"Check that oven door is open."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.08, "timeout_ms":500}, "description":"Release handle by opening gripper."},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.15, "timeout_ms":1200}, "description":"Move arm away from oven after task completion."}
  ],
  "tree_stats": {
    "nodes_total": 10,
    "actions": 7,
    "conditions": 3,
    "depth": 2
  },
  "failure_modes": [
    "Oven door/handle not detected",
    "Grasp fails or is unstable",
    "Pull insufficient to unlatch/open",
    "Container open check fails"
  ],
  "recovery_strategy": [
    "Retry object detection",
    "Retry approach and grasp",
    "Increase force/pulling distance on failure",
    "Abort and retreat if repeated failures"
  ],
  "assumptions": [
    "Instruction aligns with frames: oven door is present and can be opened by grasping handle.",
    "Frames do not show explicit human in loop nor unexpected obstacles.",
    "No indication of retry or explicit timeouts in instruction; set defaults from library bins.",
    "Handle is present and reachable throughout sequence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Oven door observed to transition from closed to open",
      "Gripper releases handle after door opens",
      "Arm retreats from task area"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"oven_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"oven_door","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"oven_door_handle","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"oven_door_handle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Grasp","attrs":{"target":"oven_door_handle","strategy":"side","force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"IsGraspStable","attrs":{}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Pull","attrs":{"target":"oven_door_handle","distance":0.30,"direction_deg":90,"timeout_ms":2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"oven_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.15,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}