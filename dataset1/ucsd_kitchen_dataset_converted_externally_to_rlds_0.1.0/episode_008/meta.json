{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_008",
  "task_summary": "The robot retrieves a bowl from a surface and places it inside a kitchen cabinet, performing perception, grasping, and precise placement.",
  "task_long_description": {
    "overview": "This task involves a mobile manipulator in a toy kitchen environment. The primary object is a bowl resting on a counter or stove, with the target destination being the kitchen cabinet (upper compartment). The robot must reliably locate, grasp, and transfer the bowl while handling confined spaces and possibly occluded views. Required actions include perception, approach, alignment, gentle grasping, navigating to the target, and placing the bowl inside the cabinet with sufficient accuracy.",
    "preconditions": [
      "Bowl is present on the counter/stove and is accessible.",
      "Kitchen cabinet is empty or has enough space.",
      "Cabinet is open and reachable.",
      "Robot starts with open gripper and no object held."
    ],
    "stepwise_plan": [
      "Ensure the bowl is visible; if not, scan to locate it.",
      "Detect, approach, and align above the bowl.",
      "Open gripper and compute a grasp pose.",
      "Lower until gentle contact and close gripper to grasp.",
      "Lift and verify grasp stability.",
      "Ensure kitchen cabinet is visible or detected.",
      "Move above and inside the cabinet.",
      "Place the bowl at the goal pose.",
      "Open gripper, retreat arm, and wait momentarily."
    ],
    "success_criteria": [
      "Bowl is detected within the cabinet after placement.",
      "No collision or dropped object during transfer.",
      "Gripper is open and free after retreat."
    ],
    "failure_and_recovery": [
      "If bowl or cabinet is not visible, perform up to three scans.",
      "If grasp fails, abort and report error.",
      "If collision or placement problem, attempt gentle placement with press force.",
      "If perception is noisy, retry detection sequences."
    ],
    "termination": "Task terminates after bowl is placed in the cabinet, gripper opens, and robot retreats."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the bowl inside the kitchen cabinet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["bowl","kitchen_cabinet"],
  "objects_from_instruction": ["bowl","kitchen_cabinet"],
  "blackboard_keys": ["grasp_bowl","goal_pose"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"bowl"},
      "description":"Checks if the bowl is currently visible."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"bowl","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Scans the scene in a raster pattern to find the bowl, retrying if needed."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"bowl","timeout_ms":800},
      "description":"Detects the bowl to localize it precisely."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.08,"timeout_ms":500},
      "description":"Opens the gripper to grasp or release bowl."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"bowl","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves above the bowl to a pregrasp pose."
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"bowl","strategy":"top","result_key":"grasp_bowl"},
      "description":"Computes the grasp pose using a top-down strategy."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"bowl","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches and aligns with the bowl with precise tolerance."
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},
      "description":"Lowers until contact with bowl is detected before grasping."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":10,"timeout_ms":800},
      "description":"Closes the gripper to grasp the bowl with moderate force."
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Checks if the grasp is stable after closing the gripper."
    },
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"kitchen_cabinet"},
      "description":"Checks if the kitchen cabinet is currently visible."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"kitchen_cabinet","timeout_ms":800},
      "description":"Detects kitchen cabinet if not already visible."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"kitchen_cabinet","offset_z":0.10,"timeout_ms":1500},
      "description":"Moves above the kitchen cabinet to prepare for placing."
    },
    {
      "id":"PlaceAt",
      "type":"Action",
      "ports":{"pose_key":"goal_pose","yaw_deg":0,"press_force":10,"timeout_ms":1200},
      "description":"Places the bowl inside the cabinet at goal pose."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":1200},
      "description":"Retreats the arm safely from the cabinet."
    },
    {
      "id":"Wait",
      "type":"Action",
      "ports":{"timeout_ms":500},
      "description":"Waits to signal task completion and allow system stabilization."
    }
  ],
  "tree_stats": {"nodes_total": 18, "actions": 13, "conditions": 3, "depth": 3},
  "failure_modes": [
    "Object occlusion or not visible",
    "Failed bowl detection or mislocalization",
    "Grasp slip or instability",
    "Collision during bowl transfer",
    "Failure to detect kitchen cabinet",
    "Placement collision/interference",
    "Premature release by gripper"
  ],
  "recovery_strategy": [
    "Up to three scan attempts for object or cabinet",
    "Abort on failed grasp stability",
    "Retreat arm and wait after failed placement"
  ],
  "assumptions": [
    "Instruction and frame data agree on object and goal locations.",
    "Cabinet door remains open throughout; no explicit open/close action used.",
    "Bowl is sufficiently accessible and not occluded in this episode.",
    "Placement pose ('goal_pose') matches visual target inside the cabinet.",
    "No additional obstacles in cabinet; insertion is feasible."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bowl is successfully transferred inside the kitchen cabinet with no collisions.",
      "Robot retreats after placement and does not retain object."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {
          "target": "bowl",
          "pattern": "raster",
          "max_attempts": 3,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "verify",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {
          "target": "bowl",
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "bowl",
          "offset_z": 0.05,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": {
          "speed": "slow",
          "max_depth": 0.05,
          "force_threshold": 5,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": {
          "force": 10,
          "timeout_ms": 800
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {
          "target": "kitchen_cabinet",
          "offset_z": 0.10,
          "timeout_ms": 1500
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "PlaceAt",
        "attrs": {
          "pose_key": "goal_pose",
          "yaw_deg": 0,
          "press_force": 10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {
          "distance": 0.10,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Wait",
        "attrs": {
          "timeout_ms": 500
        }
      },
      "active_path_ids": []
    }
  ]
}