{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_104",
  "task_summary": "The robot detects, grasps, and moves a canned spam into the sink, releasing it and retreating.",
  "task_long_description": {
    "overview": "This behavior tree controls a robot arm inside a kitchen scene tasked with moving a canned spam from the counter into the sink. The sequence involves perception of the spam can, approach and top grasp acquisition, transporting it above the sink, placing it within the sink area, releasing the object, and retracting the gripper. Visual cues and spatial constraints are managed via robust perception and approach actions. The robot's gripper and arm handle the manipulation and transfer, balancing accuracy and gentle placement.",
    "preconditions": [
      "Canned spam present and accessible",
      "Sink is empty and reachable",
      "Gripper open and operational",
      "No obstructions in robot workspace"
    ],
    "stepwise_plan": [
      "Detect visibility of canned spam",
      "Scan for spam if not visible",
      "Detect and localize spam object",
      "Open gripper for grasp",
      "Move above spam",
      "Compute top grasp pose",
      "Grasp spam from computed pose",
      "Confirm spam in gripper",
      "Detect and confirm visibility of sink",
      "Move above sink area",
      "Place spam onto sink surface",
      "Release object by opening gripper",
      "Retreat gripper from sink"
    ],
    "success_criteria": [
      "Spam can reliably placed inside sink",
      "No drop or misplacement of can",
      "Gripper releases object over sink center"
    ],
    "failure_and_recovery": [
      "Spam not detected – scan again",
      "Grasp failure – retry detection and regrasp",
      "Sink not detected – scan sink area",
      "Placement miss – verify pose and retry place"
    ],
    "termination": "Ends successfully after retreat or if maximum retries exceeded due to repeated failures."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the canned spam into the sink",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["canned_spam","sink","counter","robot_arm"],
  "objects_from_instruction": ["canned_spam","sink"],
  "blackboard_keys": ["grasp_spam"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"canned_spam"},"description":"Checks if canned spam is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"canned_spam","pattern":"grid","max_attempts":3,"timeout_ms":1000},"description":"Scans area for spam if not visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"canned_spam","timeout_ms":800},"description":"Detects and localizes canned spam"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Open gripper to prep for grasp"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"canned_spam","offset_z":0.05,"timeout_ms":1000},"description":"Moves gripper above spam"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"canned_spam","strategy":"top","result_key":"grasp_spam"},"description":"Computes top grasp pose for spam"},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_spam","strategy":"top","timeout_ms":1200},"description":"Grasps spam using top pose"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"canned_spam"},"description":"Checks spam grasped"},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"sink"},"description":"Checks sink visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"sink","timeout_ms":800},"description":"Detects and localizes sink"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500},"description":"Moves spam above sink"},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"canned_spam","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1000},"description":"Places spam on sink surface"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens gripper to release"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retracts gripper post-placement"}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 10, "conditions": 4, "depth": 2},
  "failure_modes": [
    "spam not detected",
    "spam grasp fail",
    "sink not detected",
    "placement error",
    "gripper does not open"
  ],
  "recovery_strategy": [
    "re-scan for target",
    "retry detection",
    "verify grasp and regrasp if fail",
    "retry placement/approach"
  ],
  "assumptions": [
    "Frames [0]-[8] show robot arm moving spam from counter to sink; order supports direct top grasp and movement.",
    "Spam can identity is assumed from the can on the counter (visual cue)",
    "No explicit evidence for transport failures; the robot appears to succeed.",
    "No low-force or tight tolerance implied by instruction."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Canned spam ends inside sink",
      "Object released without drop or crash"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"canned_spam"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"canned_spam","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"canned_spam","offset_z":0.05,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"canned_spam","strategy":"top","result_key":"grasp_spam"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_spam","strategy":"top","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"canned_spam","area_id":"sink","yaw_deg":0,"press_force":10,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}