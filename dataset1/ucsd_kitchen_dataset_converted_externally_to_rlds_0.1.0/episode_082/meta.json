{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_082",
  "task_summary": "Robot must locate, grasp, and transfer a canned spam from the counter area into the sink.",
  "task_long_description": {
    "overview": "The episode occurs in a toy kitchen with a robotic arm and a canned spam placed on the counter, near the sink. The robot's mission is to find and visually confirm the spam can, grasp it with a top-down approach, transport it above the sink, and release it gently onto the sink surface. The robot relies on perception, grasp stability checks, and visual reacquisition for reliable execution.",
    "preconditions": [
      "Spam can is present on the counter and unobstructed.",
      "Sink area has sufficient space for the can.",
      "Gripper open and arm is reachable."
    ],
    "stepwise_plan": [
      "Check if spam can is visible, scan if not.",
      "Detect and localize spam can.",
      "Open gripper adequately.",
      "Move above spam can with safe vertical offset.",
      "Compute top grasp pose.",
      "Execute grasp with top strategy.",
      "Verify grasp stability.",
      "Check if sink is visible, localize if needed.",
      "Move above the sink.",
      "Place can on sink surface with minimum press force.",
      "Open gripper fully to release.",
      "Retreat to avoid collision.",
      "Wait briefly to confirm task completion."
    ],
    "success_criteria": [
      "Spam can is physically located in the sink after release.",
      "No collision or drop occurs during transfer.",
      "Final robot state is safe and retracted."
    ],
    "failure_and_recovery": [
      "Spam can not detected: scan up to 3 times.",
      "Grasp unsuccessful: abort or reattempt.",
      "Sink not detected: reacquire via visual scan.",
      "Collision or force excessive: stop and retract."
    ],
    "termination": "Robot releases object and moves away, confirming spam can is inside sink."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Put the canned spam into the sink",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 1200,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["spam_can","sink","counter","gripper","robot_arm"],
  "objects_from_instruction": ["spam_can","sink"],
  "blackboard_keys": ["grasp_spam"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"spam_can"},"description":"Checks if the spam can is visible to the robot's sensors."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"spam_can","pattern":"grid","max_attempts":3,"timeout_ms":1200},"description":"Scans the scene in a grid pattern for up to 3 attempts to locate the spam can."},
    {"id":"DetectObject","type":"Action","ports":{"target":"spam_can","timeout_ms":800},"description":"Performs focused detection on the spam can."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":500},"description":"Opens the gripper to 8cm for pre-grasp."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"spam_can","offset_z":0.05,"timeout_ms":1500},"description":"Moves end effector above spam can."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"spam_can","strategy":"top","result_key":"grasp_spam"},"description":"Computes a grasp pose from the top for the spam can."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_spam","strategy":"top","timeout_ms":1000},"description":"Executes top-down grasp."},
    {"id":"IsGraspStable","type":"Condition","ports":{},"description":"Checks stability of object in grasp."},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"sink"},"description":"Checks for visibility of the sink."},
    {"id":"DetectObject","type":"Action","ports":{"target":"sink","timeout_ms":800},"description":"Detects the sink for later placement."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"sink","offset_z":0.10,"timeout_ms":1500},"description":"Moves above the sink for placement."},
    {"id":"PlaceOnSurface","type":"Action","ports":{"target":"spam_can","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200},"description":"Places the spam can on the sink surface with light press."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.12,"timeout_ms":500},"description":"Opens gripper fully to release can."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Moves away from sink after placement."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Waits to ensure placement is stable."}
  ],
  "tree_stats": {"nodes_total":15,"actions":11,"conditions":2,"depth":3},
  "failure_modes": [
    "Spam can not detected",
    "Grasping fails or is unstable",
    "Sink not detected for placement",
    "Drop or collision during transfer"
  ],
  "recovery_strategy": [
    "Visual scan and retry for perception",
    "Abort and retract if grasp fails",
    "Retry sink detection via fallback",
    "Retreat immediately after collision"
  ],
  "assumptions": [
    "Visual evidence matches instruction: spam can is present and transferred to sink",
    "No requirement for tight tolerance is visible in frames; press_force set to minimum",
    "Object category 'spam_can' matched from can visual in frames",
    "Placement performed by 'PlaceOnSurface' as sink surface is clearly defined in images"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Spam can ends in sink, upright or toppled, but completely inside",
      "No visible damage or collision",
      "Robot arm safe and clear post-placement"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"spam_can","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"spam_can","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"spam_can","strategy":"top","result_key":"grasp_spam"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_spam","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"sink","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "place",
      "active_leaf": {"id":"PlaceOnSurface","attrs":{"target":"spam_can","area_id":"sink","yaw_deg":0,"press_force":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.12,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}