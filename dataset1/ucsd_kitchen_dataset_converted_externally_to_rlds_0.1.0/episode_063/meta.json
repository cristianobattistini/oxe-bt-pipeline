{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_063",
  "task_summary": "Robot opens the oven door by searching, aligning, grasping the handle, pulling to open, verifying success, and retreating from the oven.",
  "task_long_description": {
    "overview": "The behavior tree orchestrates a robot arm in a kitchen scene to open the oven door. The robot first locates and verifies the oven door visually, then moves to align with it and computes a suitable pull grasp. After grasping the oven door handle, it pulls with a defined force and direction to open the door, checks if the door is now open, and finally retreats to ensure safe clearance. The process is robust to perception failures via retries and ensures alignment before actuation.",
    "preconditions": [
      "Oven door is closed and accessible.",
      "Robot is powered and in starting position.",
      "Workspace is clear of obstructions."
    ],
    "stepwise_plan": [
      "Visually check if oven door is present.",
      "Scan for oven door up to 3 attempts if not visible.",
      "Detect precise pose of oven door.",
      "Approach and align end-effector to door.",
      "Compute an appropriate pull grasp on the oven door.",
      "Grasp at computed pose using pull strategy.",
      "Pull the oven door open in a defined direction and distance.",
      "Verify door is open.",
      "Retreat from the oven door."
    ],
    "success_criteria": [
      "Oven door is visibly open to the required angle.",
      "Robot retreats with no collision.",
      "No door or robot damage; operation completes within allowed time."
    ],
    "failure_and_recovery": [
      "If oven door is not detected, retry up to 3 scans.",
      "If grasp fails, operation aborts.",
      "If door does not open, fail and alert.",
      "Unexpected contacts or collisions trigger retreat."
    ],
    "termination": "Tree terminates after oven door is confirmed open and robot has retreated from oven."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Open the oven door",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm","oven_door","oven","counter","sink"],
  "objects_from_instruction": ["oven_door"],
  "blackboard_keys": ["grasp_oven_door"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"oven_door"},"description":"Checks if oven door is visible to sensors."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"oven_door","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Actively scan for oven door up to 3 times."},
    {"id":"DetectObject","type":"Action","ports":{"target":"oven_door","timeout_ms":800},"description":"Detect precise pose of oven door."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"oven_door","tolerance":0.005,"timeout_ms":1500},"description":"Move end-effector to oven door and align within tight tolerance."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"oven_door","strategy":"pull","result_key":"grasp_oven_door"},"description":"Compute grasp pose for pulling the oven door open."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_oven_door","strategy":"pull","timeout_ms":1500},"description":"Grasp oven door at computed pose using pull strategy."},
    {"id":"Pull","type":"Action","ports":{"target":"oven_door","distance":0.20,"direction_deg":90,"timeout_ms":1500},"description":"Pull the oven door open in upward direction by 0.2 meters."},
    {"id":"ContainerOpen","type":"Condition","ports":{"target":"oven_door"},"description":"Verify oven door is now open."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Retreat arm by 0.1 meters after opening oven door."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 7, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Oven door not detected; scan fails.",
    "Grasp calculation fails or grasp execution fails.",
    "Pull movement fails (door stuck or blocked).",
    "Container open verification fails."
  ],
  "recovery_strategy": [
    "Retry oven door scan up to 3 times.",
    "Abort upon persistent perception or grasp failures.",
    "Retreat and alert if collision or force anomalies detected."
  ],
  "assumptions": [
    "Frames [0-8] depict a robot approaching and opening an oven door, consistent with the instruction.",
    "Frame [8] does not show fully open state; final verification is presumed after retreat.",
    "No clear force or precision constraints given in instruction; defaults assumed.",
    "Contact sheet supports sequence: perceive→approach→align/grasp→pull→verify→retreat."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Oven door is visibly open at end of sequence.",
      "Robot retreats safely; no errors."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"oven_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"oven_door","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"oven_door","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"oven_door","strategy":"pull","result_key":"grasp_oven_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_oven_door","strategy":"pull","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Pull","attrs":{"target":"oven_door","distance":0.20,"direction_deg":90,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ContainerOpen","attrs":{"target":"oven_door"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}