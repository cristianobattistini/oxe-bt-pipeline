{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_009",
  "task_summary": "Robot locates the faucet handle, approaches, grasps, turns it to open the faucet, then releases and retreats.",
  "task_long_description": {
    "overview": "In a kitchen scene, a robot arm performs the instructed task of turning on the faucet by interacting with a physical faucet handle. The robot begins by perceiving and locating the correct handle, then moves into position, aligns, grasps, and actuates the handle to the 'open' state. Afterwards, it releases its grip and moves away, ensuring the faucet is on. The robot uses visual feedback for perception and tactile feedback for manipulation.",
    "preconditions": [
      "Faucet and faucet handle are unobstructed and reachable.",
      "Robot gripper is empty and able to grasp.",
      "Scene lighting sufficient for visual detection."
    ],
    "stepwise_plan": [
      "Locate the faucet handle using perception.",
      "Approach and align end-effector to faucet handle.",
      "Grasp the handle securely for actuation.",
      "Turn handle to 'open' (angle ~45°).",
      "Release handle by opening gripper.",
      "Retreat from the manipulation area."
    ],
    "success_criteria": [
      "Faucet handle turned such that water flow begins.",
      "No collision or disturbance of surrounding objects.",
      "Robot safely releases and moves away."
    ],
    "failure_and_recovery": [
      "Failure to detect handle: retry scanning up to three times.",
      "Grasp failure: retry approach and grasp.",
      "Actuation blocked: abort and alert human operator.",
      "Recovery: reset to initial position after failure."
    ],
    "termination": "Terminate after successful actuation and retreat or after maximum retry attempts/failure recovery."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["faucet_handle", "sink", "faucet", "robot_arm"],
  "objects_from_instruction": ["faucet"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "faucet_handle"},
      "description": "Checks if faucet handle is visible to sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "faucet_handle", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans scene for faucet handle using grid pattern, up to 3 times."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "faucet_handle", "timeout_ms": 800},
      "description": "Initiates visual detection for faucet handle."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "faucet_handle", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches and aligns end-effector precisely to the faucet handle."
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {"target": "faucet_handle", "strategy": "twist", "force": 5, "timeout_ms": 800},
      "description": "Grasps faucet handle with twist strategy and light force."
    },
    {
      "id": "TurnKnob",
      "type": "Action",
      "ports": {"target": "faucet_handle", "knob_type": "knob", "angle_deg": 45, "direction": "open", "force_limit": 5, "timeout_ms": 1000},
      "description": "Rotates faucet handle by 45 degrees in 'open' direction with light force."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens gripper to release the faucet handle."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.05, "timeout_ms": 800},
      "description": "Moves end-effector away from faucet area."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 1, "depth": 3},
  "failure_modes": [
    "Handle occluded",
    "Perception failure",
    "Grasp slip",
    "Insufficient force for actuation",
    "Mechanical collision"
  ],
  "recovery_strategy": [
    "Scan and retry perception",
    "Re-approach after failed grasp",
    "Abort after repeated actuation failure"
  ],
  "assumptions": [
    "Instruction specifies 'faucet' but frames show clear manipulation of the faucet handle/knob.",
    "Angle of actuation inferred from typical faucet handle operation (~45°); no water flow visible, task assumption accepted.",
    "No clear evidence of container opening is present."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Handle turned to open position; water flow state changed.",
      "Robot retreats safely; no collisions."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"faucet_handle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"faucet_handle","pattern":"grid","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"faucet_handle","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"faucet_handle","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"Grasp","attrs":{"target":"faucet_handle","strategy":"twist","force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"TurnKnob","attrs":{"target":"faucet_handle","knob_type":"knob","angle_deg":45,"direction":"open","force_limit":5,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.05,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}