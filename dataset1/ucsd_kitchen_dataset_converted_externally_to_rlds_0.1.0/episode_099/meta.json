{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_099",
  "task_summary": "The robot must turn on the faucet by manipulating the faucet knob, following sequential perception, approach, grasp, actuation, and validation phases observed in the frames.",
  "task_long_description": {
    "overview": "This episode involves a robot arm interacting with the kitchen faucet. The task is to turn on the faucet by detecting, approaching, grasping, and rotating the knob. Visual evidence across 9 frames shows the arm first perceives the scene, then moves above the faucet, aligns with the knob, grasps using a twisting strategy, rotates it appropriately (likely to the 'on' position), checks actuation, and finally retreats. The object of manipulation is the faucet knob, and the workflow prioritizes accurate perception and gentle turning to avoid mechanical failure.",
    "preconditions": [
      "Faucet knob accessible and visible to sensors.",
      "Robot arm unoccluded and able to reach faucet.",
      "No obstacles between robot and target."
    ],
    "stepwise_plan": [
      "Check if faucet knob is visible. If not, scan for it.",
      "Detect and localize faucet knob.",
      "Move above faucet knob with safe offset.",
      "Approach and align to the knob.",
      "Compute grasp pose favoring twist strategy.",
      "Grasp at computed pose.",
      "Turn knob counterclockwise ('open') by 90 degrees.",
      "Verify actuation (button press or water flow).",
      "Retreat from the knob."
    ],
    "success_criteria": [
      "Knob is successfully rotated as intended.",
      "Faucet turns on (water flow or mechanism engaged).",
      "Arm retreats, leaving faucet in the 'on' position."
    ],
    "failure_and_recovery": [
      "Knob not detected: trigger scan retries.",
      "Misalignment or grasp failure: recompute and retry approach.",
      "Knob fails to turn: apply limit force, do not exceed threshold.",
      "Unexpected obstacles: abort or replan path."
    ],
    "termination": "Task ends once faucet knob is turned and robot retreats or after recovery attempts are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 10,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["faucet_knob", "sink", "kitchen_unit"],
  "objects_from_instruction": ["faucet"],
  "blackboard_keys": ["grasp_faucet"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"faucet_knob"},"description":"Checks if faucet knob is visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"faucet_knob","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scans for faucet knob using raster pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"faucet_knob","timeout_ms":800},"description":"Detects and localizes faucet knob."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"faucet_knob","offset_z":0.05,"timeout_ms":1500},"description":"Moves robot arm above faucet knob."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"faucet_knob","tolerance":0.005,"timeout_ms":1500},"description":"Aligns end effector with faucet knob."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"faucet_knob","strategy":"twist","result_key":"grasp_faucet"},"description":"Computes pose for twisting grasp on knob."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_faucet","strategy":"twist","timeout_ms":1200},"description":"Executes grasp at computed twist pose."},
    {"id":"TurnKnob","type":"Action","ports":{"target":"faucet_knob","knob_type":"knob","angle_deg":90,"direction":"open","force_limit":10,"timeout_ms":1500},"description":"Turns faucet knob 90 degrees to open with limited force."},
    {"id":"ButtonPressed","type":"Condition","ports":{"target":"faucet_knob"},"description":"Checks if pressing/actuation of knob occurred."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Robot arm retreats from faucet area."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 2, "depth": 2},
  "failure_modes": [
    "Faucet knob not detected",
    "Failed grasp or alignment",
    "Knob fails to rotate",
    "Excessive force detected"
  ],
  "recovery_strategy": [
    "Retry scanning and detection",
    "Reattempt alignment and grasp with adjusted parameters",
    "Abort or reduce applied force below threshold",
    "Record failure, alert operator"
  ],
  "assumptions": [
    "Instruction refers to faucet; frames confirm target as a faucet knob.",
    "No direct visual evidence of water flow; knob turning is used as proxy for actuation.",
    "Knob actuation mapped to 'TurnKnob' with twist strategy; assumed 90 degrees is enough.",
    "ButtonPressed condition is used as proxy for actuation feedback.",
    "Faucet is a 'knob', not lever, per scene visual."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Knob visually rotates as intended",
      "Knob actuation (ButtonPressed) indicates faucet 'on'"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"faucet_knob"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"faucet_knob","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"faucet_knob","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"faucet_knob","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"faucet_knob","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"faucet_knob","strategy":"twist","result_key":"grasp_faucet"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_faucet","strategy":"twist","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"TurnKnob","attrs":{"target":"faucet_knob","knob_type":"knob","angle_deg":90,"direction":"open","force_limit":10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}