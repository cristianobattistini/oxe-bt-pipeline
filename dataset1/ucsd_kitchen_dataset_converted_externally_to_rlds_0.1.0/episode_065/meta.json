{
  "dataset_id": "ucsd_kitchen_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_065",
  "task_summary": "The robot must locate the faucet, approach and align its end-effector with the handle, grasp the faucet handle, turn it to the 'on' position, release the handle, and retreat, thereby turning on the faucet.",
  "task_long_description": {
    "overview": "In a domestic kitchen scene, the robot arm is tasked with turning on the sink faucet. The process involves visually detecting the faucet, moving above it to the appropriate orientation, aligning the gripper with the faucet handle, grasping the handle using minimal force, and rotating the handle towards the 'open' position. After manipulation, the robot safely releases the handle and moves away. The procedure must be robust to perception failures and ensure gentle interaction with the faucet components.",
    "preconditions": [
      "Faucet and faucet handle are visible and accessible",
      "Robot arm in default starting pose",
      "Gripper is open"
    ],
    "stepwise_plan": [
      "Verify faucet visibility; re-scan if needed",
      "Detect faucet precisely",
      "Move above faucet handle with pregrasp offset",
      "Approach and align with handle (within tight tolerance)",
      "Close gripper to gently grasp handle",
      "Rotate handle 45 degrees in 'open' direction",
      "Open gripper to release handle",
      "Retreat from faucet"
    ],
    "success_criteria": [
      "Faucet handle is rotated to ON",
      "No excessive force or damage",
      "Robot arm poses are safe post-manipulation"
    ],
    "failure_and_recovery": [
      "If faucet not detected, scan again (retry up to 3 times)",
      "If grasp fails, abort and retreat",
      "If excessive force sensed, abort and release handle"
    ],
    "termination": "Sequence completes once faucet handle is turned and robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Turn on the faucet",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["faucet", "faucet_handle", "sink"],
  "objects_from_instruction": ["faucet"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"faucet"},
      "description":"Checks if the faucet is currently visible to the robot."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"faucet","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Actively scans the environment to find the faucet using a raster pattern."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"faucet","timeout_ms":800},
      "description":"Performs fast detection of the faucet."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"faucet","offset_z":0.05,"timeout_ms":1500},
      "description":"Positions the end-effector above the faucet for pregrasp."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"faucet","tolerance":0.005,"timeout_ms":1500},
      "description":"Carefully approaches and aligns to the faucet handle within tight tolerance."
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":5,"timeout_ms":800},
      "description":"Closes the gripper gently to grasp the faucet handle."
    },
    {
      "id":"TurnKnob",
      "type":"Action",
      "ports":{"target":"faucet_handle","knob_type":"knob","angle_deg":45,"direction":"open","force_limit":5,"timeout_ms":1200},
      "description":"Rotates the faucet handle by 45 degrees in the open direction using minimum force."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.08,"timeout_ms":500},
      "description":"Opens the gripper to release the faucet handle."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10,"timeout_ms":1200},
      "description":"Moves the arm away from the faucet safely."
    }
  ],
  "tree_stats": {"nodes_total": 12, "actions": 8, "conditions": 1, "depth": 3},
  "failure_modes": [
    "Faucet not detected",
    "Gripper fails to grasp handle",
    "Handle rotation unsuccessful",
    "Obstacle blocking path"
  ],
  "recovery_strategy": [
    "Retry scanning for faucet up to 3 times",
    "Abort & retreat on failed grasp or excessive force",
    "Abort if unable to rotate handle"
  ],
  "assumptions": [
    "Frames [0]-[8] suggest the faucet is actuated by turning the handle at the end of the approach; instruction refers to 'turn on', visual sequence supports a knob turning rather than pressing.",
    "Handle type is interpreted as 'knob'; rotation angle set as 45 deg based on visual evidence.",
    "Minimal force and tight tolerance selected for gentle interaction.",
    "No explicit timeout requested in instruction; chosen from quickest bins close to standard task demands.",
    "No blackboard usage visible nor required for this task."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot moves faucet handle and water can flow."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "faucet"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "faucet", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "faucet", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "faucet", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "faucet", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id": "CloseGripper", "attrs": {"force": 5, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "TurnKnob", "attrs": {"target": "faucet_handle", "knob_type": "knob", "angle_deg": 45, "direction": "open", "force_limit": 5, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.08, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}