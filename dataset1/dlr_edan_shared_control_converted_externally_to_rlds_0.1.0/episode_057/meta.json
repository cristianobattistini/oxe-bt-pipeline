{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_057",
  "task_summary": "Sequential behavior to locate, approach, and grasp a cube from a shelf using an arm.",
  "task_long_description": {
    "overview": "This episode depicts a mobile-manipulator robot tasked to pick a white cube placed inside the lower shelf of a black cabinet. The arm must first visually locate the cube, then move above and align, execute a grasp using a top-down strategy with an appropriate gripper opening, and finally secure the object in the gripper. The workspace is relatively uncluttered but constrained within the shelf, requiring careful approach and pose control.",
    "preconditions": [
      "Robot is at a suitable starting pose near the cabinet.",
      "Cube is located in the lower right shelf compartment.",
      "Gripper is initially open or openable.",
      "No major occlusions between camera and cube."
    ],
    "stepwise_plan": [
      "Check if the cube is visible; otherwise, trigger object detection.",
      "Move the end-effector above the cube with sufficient clearance.",
      "Carefully approach and align to the cube within a tight tolerance.",
      "Open the gripper to the needed width.",
      "Compute a top-down grasp pose.",
      "Execute the grasp at the computed pose.",
      "Verify the cube is in the gripper."
    ],
    "success_criteria": [
      "Cube is securely held by the gripper at sequence end.",
      "No collision with the cabinet.",
      "No dropped object."
    ],
    "failure_and_recovery": [
      "Failure to detect object: retry detection action.",
      "Failure to align: halt and log error.",
      "Grasp unsuccessful: no explicit retry mechanism in this tree.",
      "Collision: abort sequence."
    ],
    "termination": "Terminate sequence once cube is detected as held in gripper."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the cube",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cube","cabinet","shelf"],
  "objects_from_instruction": ["cube"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"cube"},
      "description": "Check if the cube is currently visible in the robot's sensors."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"cube","timeout_ms":800},
      "description": "Attempt to visually detect the cube within a time window."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"cube","offset_z":0.10,"timeout_ms":1500},
      "description": "Move the end-effector to a position above the cube, 10 cm above."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"cube","tolerance":0.005,"timeout_ms":1500},
      "description": "Carefully approach and align the end-effector over the cube with 5 mm tolerance."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06,"timeout_ms":500},
      "description": "Open the gripper to a 6 cm width, ready for grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"cube","strategy":"top","result_key":"std_top"},
      "description": "Compute a grasp pose for the cube using a top-down approach."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"std_top","strategy":"top","timeout_ms":1000},
      "description": "Execute the grasp at the computed top pose."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"cube"},
      "description": "Verify that the cube is secured in the gripper."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Cube not detected visually",
    "No solution found for approach or alignment",
    "Grasp fails (cube not in gripper)",
    "Arm collision with shelf/cabinet"
  ],
  "recovery_strategy": [
    "Retry object detection when not visible",
    "Abort if approach or alignment fails after first attempt",
    "No automated recovery for failed grasp in this BT"
  ],
  "assumptions": [
    "The object in the shelf is a cube as per instruction and visual evidence.",
    "No explicit force or tolerance was specified in instruction, values chosen from typical manipulation.",
    "Frames show a continuous pick process starting with perception and ending with grasp verification.",
    "No place or transfer is performed after grasp, as shown in frames and instruction."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot gripper securely holds the cube.",
      "No major collisions occur during reach or grasp."
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"cube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cube","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cube","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cube","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"cube","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"cube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"cube"}},
      "active_path_ids": []
    }
  ]
}