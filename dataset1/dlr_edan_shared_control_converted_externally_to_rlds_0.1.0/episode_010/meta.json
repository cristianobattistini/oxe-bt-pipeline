{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_010",
  "task_summary": "Pick up the tube from the shelf using the robotic arm.",
  "task_long_description": {
    "overview": "A mobile manipulator with a two-finger gripper operates in an indoor kitchen-like environment. The goal is to perceive, approach, and pick up a white cylindrical tube from a black shelving unit. No obstacles are present near the tube. The robot starts from a distance, detects the tube, moves above, aligns, and grasps it from the top. Phases are visible in the sequential frames, which constrain the design.",
    "preconditions": ["Tube is visible or detectable on the shelf", "Gripper is empty and open", "Robot has room to approach from the front"],
    "stepwise_plan": [
      "Check tube visibility, else attempt to detect",
      "Open gripper to suitable width",
      "Move above the tube with moderate clearance",
      "Approach and align precisely to grasp pose",
      "Compute grasp pose using top-down strategy",
      "Execute grasp at computed pose",
      "Verify tube is held in gripper"
    ],
    "success_criteria": [
      "Tube is securely held by gripper at the end",
      "No collisions with shelf or other objects"
    ],
    "failure_and_recovery": [
      "Tube not visible: retry detection",
      "Grasp fails: does not proceed to verification",
      "Obstruction or contact during alignment: task abort or retry"
    ],
    "termination": "Task completes when tube is verified in gripper or on failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the tube",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["tube", "cuboid (distractor)", "shelf", "robot arm"],
  "objects_from_instruction": ["tube"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "tube" },
      "description": "Checks if the tube is visible before actuation."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "tube", "timeout_ms": 800 },
      "description": "Detects the tube if not already visible with a moderate timeout."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": { "width": 0.08, "timeout_ms": 500 },
      "description": "Opens the gripper to a width suitable for the tube."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": { "target": "tube", "offset_z": 0.05, "timeout_ms": 1500 },
      "description": "Moves above the tube with a vertical offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": { "target": "tube", "tolerance": 0.005, "timeout_ms": 1500 },
      "description": "Approaches and aligns to the grasp pose over the tube."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": { "target": "tube", "strategy": "top", "result_key": "std_top" },
      "description": "Computes a top-down grasp pose and stores in blackboard as 'std_top'."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": { "pose_key": "std_top", "strategy": "top", "timeout_ms": 800 },
      "description": "Grasps the tube at the computed pose with a top grasp."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": { "target": "tube" },
      "description": "Checks that the tube is successfully gripped."
    }
  ],
  "tree_stats": {
    "nodes_total": 8,
    "actions": 6,
    "conditions": 2,
    "depth": 3
  },
  "failure_modes": [
    "Tube is not detected or visible",
    "Approach misaligned due to pose error",
    "Grasp unsuccessful (slippage, collision)",
    "Tube not in gripper after grasp"
  ],
  "recovery_strategy": [
    "Re-attempt detection if not visible",
    "Abort if repeated pose computation fails",
    "Do not proceed to verification if grasp fails"
  ],
  "assumptions": [
    "Instruction refers to 'tube', assumed white cylinder at front-right of shelf in all frames.",
    "No dynamic obstacles during approach (per frames).",
    "No force/tolerance commands given; strategies inferred from typical manipulation and visual evidence.",
    "No placement or transfer required beyond picking; task ends at secure grasp."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Tube is held by the gripper and lifted clear of the shelf"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"tube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"tube","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"tube","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"tube","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"tube","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"tube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"tube"}},
      "active_path_ids": []
    }
  ]
}