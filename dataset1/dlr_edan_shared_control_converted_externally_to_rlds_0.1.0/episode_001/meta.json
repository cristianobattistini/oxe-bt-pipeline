{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_001",
  "task_summary": "Pick the die from the shelf using the robot arm, based strictly on observed contact-sheet evidence.",
  "task_long_description": {
    "overview": "The episode involves a robot arm tasked with locating, approaching, and grasping a die situated on an open shelf. The sequence uses vision to detect the die and coordinates motion to align, grasp, and confirm successful pickup. The arm starts away from the shelf, moves towards it, aligns over the die, and then executes a top-down grasp. Reliability mechanisms are incorporated for die detection. Performance is bound by action success and phase completion, as observable in the 9 contact-sheet frames.",
    "preconditions": [
      "Robot arm is operational and initialized",
      "Die is on the shelf in field of view or can be localized via scanning",
      "No obstructions between arm and die",
      "Gripper starts open"
    ],
    "stepwise_plan": [
      "Check if die is visible; if not, scan the area to find it",
      "Detect precise die location",
      "Open the gripper to the required width",
      "Move the end effector above the die with a vertical offset",
      "Compute an appropriate top grasp pose for the die",
      "Approach and align over the die with tight tolerance",
      "Execute the grasp at the computed pose using a top strategy",
      "Verify that the die is in the gripper"
    ],
    "success_criteria": [
      "Die is firmly held in the gripper at the end",
      "No collision with shelf or environment during actions",
      "All sequential actions are completed without failure"
    ],
    "failure_and_recovery": [
      "If die not perceived, scan is retried up to 3 times",
      "If grasp is unsuccessful, the sequence fails (no explicit recovery except for perception failure)",
      "If object not in gripper after grasp, sequence terminates unsuccessfully"
    ],
    "termination": "Tree ends when die is confirmed in gripper or when any step fails irrecoverably."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the die",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["die","shelf","robot_arm","table_container","vase"],
  "objects_from_instruction": ["die"],
  "blackboard_keys": ["grasp_die"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "die"},
      "description": "Checks if the die is currently visible to the sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "die", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the scene with a grid pattern up to 3 times (within timeout) to find the die."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "die", "timeout_ms": 800},
      "description": "Detect the die and localize its pose."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Open gripper to standard width for picking up the die."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "die", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Move to position directly above the die."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "die", "strategy": "top", "result_key": "grasp_die"},
      "description": "Compute top-down grasp pose for the die and store in blackboard."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "die", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approach and perform fine alignment above the die with tight tolerance."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_die", "strategy": "top", "timeout_ms": 1000},
      "description": "Perform the grasp using the computed pose (top strategy)."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "die"},
      "description": "Checks if the die is held within the gripper."
    }
  ],
  "tree_stats": {"nodes_total": 12, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Die not visible after all scan attempts",
    "Die detection fails",
    "Incorrect or unstable grasp pose",
    "Robot fails to move above die or cannot approach due to collision",
    "Gripper fails to close or hold die"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times if die is not visible"
  ],
  "assumptions": [
    "The small white cube is the die as inferred from visual evidence",
    "No explicit instruction on force, so default library settings used",
    "If grasp fails, tree ends at verification step; no programmed retry for failed grasp",
    "Scene is clear of occlusions per all frames",
    "Instruction minimally specified; phase allocation purely from frames"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot holds the die at the end, as in final frames"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "die", "pattern": "grid", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "die", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "OpenGripper", "attrs": {"width": 0.06, "timeout_ms": 500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "die", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id": "ComputeGraspPose", "attrs": {"target": "die", "strategy": "top", "result_key": "grasp_die"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "die", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id": "GraspAtPose", "attrs": {"pose_key": "grasp_die", "strategy": "top", "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "die"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id": "ObjectInGripper", "attrs": {"target": "die"}},
      "active_path_ids": []
    }
  ]
}