{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_048",
  "task_summary": "The robot arm must pick the cube, executing perception, approach, alignment, grasping, and verification steps.",
  "task_long_description": {
    "overview": "In this scene, a robot arm interacts with a cube located in the lower shelf compartment of a black cabinet. The environment suggests an indoor workspace with the robot beginning at a distance and approaching the cabinet shelf to pick the cube. The robot must visually locate the cube, move close, align itself accurately above the target, execute a top grasp, and confirm successful pickup. Environmental constraints include possible occlusion, precise alignment with the open shelf space, and robust grasping. All phases (perceive, approach, align, grasp, verify) must be executed sequentially for a successful pick.",
    "preconditions": [
      "Cube is present and visible in the shelf.",
      "The gripper is open and capable of performing a top grasp.",
      "No obstructions between robot and target."
    ],
    "stepwise_plan": [
      "Verify the cube is visible; re-scan if needed.",
      "Detect and localize the cube.",
      "Open the gripper to correct width.",
      "Move above the cube to pre-grasp position.",
      "Approach and align with a tight tolerance.",
      "Perform top grasp with minimal force.",
      "Verify that the cube is held in the gripper."
    ],
    "success_criteria": [
      "Cube is securely held by the gripper.",
      "No collision with cabinet or other objects during approach.",
      "Grasp is stable without slippage."
    ],
    "failure_and_recovery": [
      "Cube not visible—trigger re-scan up to three attempts.",
      "Alignment problems—retry approach and realignment.",
      "Grasp fails—reopen gripper and attempt grasp again.",
      "Occlusions or mis-detections—log and recover by retreating and retrying detection."
    ],
    "termination": "Behavior tree terminates upon confirmation that the cube is held securely in the gripper."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the cube",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": [
    "robot arm", "cube", "cabinet", "shelf", "vase", "cups"
  ],
  "objects_from_instruction": ["cube"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "cube"},
      "description": "Checks if the cube is visible to the robot sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "cube", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the workspace in a raster pattern to search for the cube; up to 3 attempts."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "cube", "timeout_ms": 800},
      "description": "Performs precise detection and localization of the cube."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Opens the gripper to a width suited for grasping the cube."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "cube", "offset_z": 0.05, "timeout_ms":1500},
      "description": "Moves the gripper to a position above the cube, pre-grasp."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "cube", "tolerance": 0.005, "timeout_ms":1500},
      "description": "Carefully approaches and aligns TCP over the cube with tight tolerance."
    },
    {
      "id": "Grasp",
      "type": "Action",
      "ports": {"target":"cube", "strategy":"top", "force":5, "timeout_ms":800},
      "description": "Executes a top grasp on the cube with gentle force."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "cube"},
      "description": "Confirms that the cube is held in the gripper after grasp action succeeds."
    }
  ],
  "tree_stats": {"nodes_total": 8, "actions": 6, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Cube occluded or not detected",
    "Approach misaligned",
    "Grasp slips or fails",
    "Timeout on movement or perception"
  ],
  "recovery_strategy": [
    "Retry visibility scan up to three times",
    "Re-attempt alignment if approach failed",
    "Retry grasp with gripper reopening",
    "Abort if repeated failures persist"
  ],
  "assumptions": [
    "Instruction 'pick the cube' matches visual scene—the cube is identified in the lower shelf compartment.",
    "No adversarial objects interfere with pick.",
    "Cube location and shape inferred directly from shelf content in all frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cube held by gripper, robot disengaged from shelf.",
      "Successful approach and grasp confirmed by ObjectInGripper condition."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"cube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"cube","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cube","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cube","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cube","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"Grasp","attrs":{"target":"cube","strategy":"top","force":5,"timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"cube"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"cube"}},
      "active_path_ids": []
    }
  ]
}