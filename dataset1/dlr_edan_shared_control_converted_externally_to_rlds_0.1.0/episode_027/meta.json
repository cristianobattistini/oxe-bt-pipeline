{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_027",
  "task_summary": "The robot arm is tasked to pick up a white disk from the top of a shelf. The behavior tree covers perception, approach, grasp, verification, and retreat. Action nodes and conditions ensure the disk is visible, allow recovery scanning, and verify grasp success before retreating.",
  "task_long_description": {
    "overview": "This task involves a robot arm visually locating, approaching, and grasping a white disk placed on the top surface of a black shelf in a lab environment. The arm moves through perception, alignments, and grasp planning phases before attempting the pick. Visual feedback and verification ensure that the disk is securely in the gripper before withdrawing. No explicit placement is shown; the task focuses solely on picking the disk with resilience to perception issues.",
    "preconditions": [
      "Disk is present and accessible on the shelf",
      "Robot arm is initialized with empty gripper",
      "Workspace is unobstructed and target visible or detectable"
    ],
    "stepwise_plan": [
      "Check visibility of the disk",
      "Scan if disk is not visible",
      "Detect exact disk pose",
      "Open gripper to proper width",
      "Move above disk with appropriate offset",
      "Align to top grasp pose",
      "Compute grasp pose using top strategy",
      "Execute grasp at pose",
      "Verify disk is held",
      "Retreat with disk held"
    ],
    "success_criteria": [
      "Disk detected and approached",
      "Gripper closed on disk with stable verification",
      "Disk lifted and clear of initial surface"
    ],
    "failure_and_recovery": [
      "Object not visible – retry scan",
      "Misaligned grasp – reattempt approach and pose computation",
      "Unstable grasp – retry or abort",
      "Gripper closed without object – re-perceive and repeat"
    ],
    "termination": "Tree terminates after robot retreats from the pick location with disk securely held."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the disk",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["disk", "shelf"],
  "objects_from_instruction": ["disk"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"disk"},"description":"Checks whether disk is visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"disk","pattern":"grid","max_attempts":3,"timeout_ms":800},"description":"Performs scanning for disk using grid pattern"},
    {"id":"DetectObject","type":"Action","ports":{"target":"disk","timeout_ms":800},"description":"Detects pose of the disk"},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":500},"description":"Opens gripper to fit disk"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"disk","offset_z":0.05,"timeout_ms":1500},"description":"Moves above disk with safety offset"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"disk","tolerance":0.005,"timeout_ms":1500},"description":"Aligns to disk with tight tolerance"},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"disk","strategy":"top","result_key":"std_top"},"description":"Computes grasp pose from above"},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"std_top","strategy":"top","timeout_ms":1500},"description":"Performs grasp of disk at computed pose"},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"disk"},"description":"Checks if disk is in gripper"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1200},"description":"Moves away from shelf with disk held"}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Disk not detected",
    "Scans fail to localize object",
    "Grasp pose miscomputed",
    "Grasp fails or object slips",
    "Object not in gripper after grasp"
  ],
  "recovery_strategy": [
    "Retry scan and perception if object not visible",
    "Adjust approach or pose computation",
    "Repeat grasp if disk not secured"
  ],
  "assumptions": [
    "The white object on the shelf is treated as 'disk', inferred from frames.",
    "No placement or stacking involved, per visual evidence (frames only show pick and retreat, not place).",
    "Object width inferred for gripper opening is not explicit in instruction.",
    "If presence or category is ambiguous, priority is given to visual cues in frames."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Disk visibly secured in gripper and arm retreats safely"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"disk","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"disk","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"disk","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"disk","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"disk"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}