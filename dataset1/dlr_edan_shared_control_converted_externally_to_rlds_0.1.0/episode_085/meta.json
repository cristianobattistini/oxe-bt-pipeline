{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_085",
  "task_summary": "Pick the red apple from the table using the manipulator arm.",
  "task_long_description": {
    "overview": "This task involves a robotic arm detecting, approaching, and grasping a red apple from a table positioned near other objects, following the provided instruction. The robot must ensure the red apple is visible, open its gripper, position above, compute a top grasp, align, lower gently, grasp, confirm the apple is held, and lift it. Key constraints include safe interaction, minimal disturbance of nearby objects, and robust perception under clutter.",
    "preconditions": [
      "Red apple is present on the table within reachable workspace",
      "Robot is initialized with an empty gripper",
      "Visual sensors are operational"
    ],
    "stepwise_plan": [
      "Check if red apple is visible; otherwise, scan for target",
      "Detect precise position of red apple",
      "Open gripper",
      "Move above the red apple",
      "Compute top grasp pose",
      "Approach and align to grasp pose",
      "Lower gripper until gentle contact",
      "Close gripper to grasp apple",
      "Verify that the red apple is in gripper",
      "Lift the apple"
    ],
    "success_criteria": [
      "Red apple is securely grasped by the gripper",
      "Manipulation does not disturb neighboring objects"
    ],
    "failure_and_recovery": [
      "Red apple not detected: rescan up to 3 times",
      "Grasp fails: halt and report for human intervention",
      "Collision or object drop: abort and retry if safe"
    ],
    "termination": "Task ends after red apple is grasped and raised above the table."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the red apple",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_apple", "green_apple", "yellow_lemon", "cube_white", "cube_white_2", "vase", "table", "manipulator"],
  "objects_from_instruction": ["red_apple"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "red_apple" },
      "description": "Checks if the red apple is visible to sensors"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": { "target": "red_apple", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200 },
      "description": "Scans workspace in raster pattern to locate red apple"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "red_apple", "timeout_ms": 800 },
      "description": "Detects the position of the red apple"
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": { "width": 0.08, "timeout_ms": 500 },
      "description": "Opens gripper to prepare for grasp"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": { "target": "red_apple", "offset_z": 0.10, "timeout_ms": 1500 },
      "description": "Moves the gripper above the detected red apple"
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": { "target": "red_apple", "strategy": "top", "result_key": "std_top" },
      "description": "Computes a top-down grasp pose for the apple"
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": { "target": "red_apple", "tolerance": 0.005, "timeout_ms": 1500 },
      "description": "Aligns gripper with grasp pose at fine tolerance"
    },
    {
      "id": "LowerUntilContact",
      "type": "Action",
      "ports": { "speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200 },
      "description": "Lowers gripper gently until contact detected"
    },
    {
      "id": "CloseGripper",
      "type": "Action",
      "ports": { "force": 10, "timeout_ms": 800 },
      "description": "Closes gripper with low force to pick apple"
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": { "target": "red_apple" },
      "description": "Checks if red apple is held after grasp"
    },
    {
      "id": "RaiseHeld",
      "type": "Action",
      "ports": { "distance": 0.10, "timeout_ms": 1200 },
      "description": "Lifts object away from table after pick"
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 9,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "Target object (red apple) not detected",
    "Grasp not secure",
    "Excessive force damages object or nearby items",
    "Collision with environment"
  ],
  "recovery_strategy": [
    "Rescan up to 3 times if object not detected",
    "Abort and report if object not held after grasp",
    "Use gentle grasp force and maintain alignment to reduce collision risk"
  ],
  "assumptions": [
    "Assumed visible red apple in all relevant frames is the goal object based on position and color.",
    "Instruction and frames are consistent: the depicted sequence matches the instruction."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot securely holds the red apple",
      "No disturbance to other scene objects"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": { "target": "red_apple" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": { "target": "red_apple", "timeout_ms": 800 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "OpenGripper",
        "attrs": { "width": 0.08, "timeout_ms": 500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": { "target": "red_apple", "offset_z": 0.10, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ComputeGraspPose",
        "attrs": { "target": "red_apple", "strategy": "top", "result_key": "std_top" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": { "target": "red_apple", "tolerance": 0.005, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {
        "id": "LowerUntilContact",
        "attrs": { "speed": "slow", "max_depth": 0.05, "force_threshold": 5, "timeout_ms": 1200 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {
        "id": "CloseGripper",
        "attrs": { "force": 10, "timeout_ms": 800 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {
        "id": "RaiseHeld",
        "attrs": { "distance": 0.10, "timeout_ms": 1200 }
      },
      "active_path_ids": []
    }
  ]
}