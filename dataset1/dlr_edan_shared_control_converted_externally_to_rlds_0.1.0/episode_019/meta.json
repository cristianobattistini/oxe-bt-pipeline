{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_019",
  "task_summary": "Pick up the green apple and place it onto the plate using the robot arm.",
  "task_long_description": {
    "overview": "A robot arm is instructed to locate, grasp, and pick up a green apple from a table and place it onto a nearby white plate. The scene contains distractor objects (white cubes and a flowerpot) on a black shelf, while the apple sits alone on a small table. The task requires robust perception, precise manipulation, and control phases for successful transfer.",
    "preconditions": [
      "The green apple is present and reachable on the table.",
      "The plate is visible and accessible for placing the apple.",
      "No obstacles impede the robot’s motion.",
      "Gripper and vision system are operational."
    ],
    "stepwise_plan": [
      "Verify the green apple is visible or scan to detect it.",
      "Detect the apple’s position precisely.",
      "Open the gripper to the grasp width.",
      "Move above the apple to pre-grasp pose.",
      "Compute an appropriate grasp pose using a top grasp.",
      "Approach and align to the grasp pose.",
      "Execute grasp using the saved grasp pose.",
      "Confirm the apple is grasped securely.",
      "Move above the plate for placement.",
      "Place apple at target pose and open gripper.",
      "Retreat from the placement area."
    ],
    "success_criteria": [
      "Green apple is placed on the plate.",
      "Apple is not dropped during transfer.",
      "No collision with other objects."
    ],
    "failure_and_recovery": [
      "Apple not visible: scan area and retry 3 times.",
      "Failed grasp: sequence halts unless object is in gripper after grasp.",
      "Placement fails: attempt is not retried in current plan."
    ],
    "termination": "Tree terminates upon successful retreat after placement or on unrecoverable failure (e.g., apple not detected after 3 scans)."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the green apple",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0", "frame_1", "frame_2", "frame_3", "frame_4", "frame_5", "frame_6", "frame_7", "frame_8"],
  "objects": ["green_apple", "plate", "white_cube_1", "white_cube_2", "flowerpot", "table", "black_shelf"],
  "objects_from_instruction": ["green_apple"],
  "blackboard_keys": ["grasp_green_apple", "place_on_plate"],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"green_apple"}, "description":"Checks if the green apple is visible."},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"green_apple", "pattern":"raster", "max_attempts":3, "timeout_ms":1200}, "description":"Scans workspace in raster pattern to find the green apple."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"green_apple", "timeout_ms":800}, "description":"Attempts to detect the green apple’s pose."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.06, "timeout_ms":500}, "description":"Opens gripper to prepare for grasping."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"green_apple", "offset_z":0.05, "timeout_ms":1500}, "description":"Moves above the apple for pre-grasp alignment."},
    {"id":"ComputeGraspPose", "type":"Action", "ports":{"target":"green_apple", "strategy":"top", "result_key":"grasp_green_apple"}, "description":"Computes the grasp pose for the green apple using a top grasp."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"green_apple", "tolerance":0.005, "timeout_ms":1500}, "description":"Approaches and aligns to computed grasp pose with precise tolerance."},
    {"id":"GraspAtPose", "type":"Action", "ports":{"pose_key":"grasp_green_apple", "strategy":"top", "timeout_ms":1200}, "description":"Executes grasp at computed pose."},
    {"id":"ObjectInGripper", "type":"Condition", "ports":{"target":"green_apple"}, "description":"Checks object is securely in gripper."},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"plate", "offset_z":0.05, "timeout_ms":1500}, "description":"Moves above the plate for placing apple."},
    {"id":"PlaceAt", "type":"Action", "ports":{"pose_key":"place_on_plate", "yaw_deg":0, "press_force":5, "timeout_ms":1200}, "description":"Places apple on plate with gentle press."},
    {"id":"OpenGripper", "type":"Action", "ports":{"width":0.08, "timeout_ms":500}, "description":"Opens gripper to release apple."},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.10, "timeout_ms":1200}, "description":"Retreats from placement area after release."}
  ],
  "tree_stats": {"nodes_total": 14, "actions": 10, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Green apple not detected/visible",
    "Failed grasp (apple slips or is dropped)",
    "Collision with table or other objects",
    "Mislocalization of plate"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget up to 3 times if not visible",
    "Do not retry grasp within this plan; assumes halt for human/outer loop intervention"
  ],
  "assumptions": [
    "The green apple corresponds to the visual object in the center of the small table.",
    "The plate is represented as the white round object on the table.",
    "No color or pose ambiguity among white cubes and the plate.",
    "The task is interpreted as both pick and place despite instruction only specifying pick—the frames show explicit placement."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Green apple visually on the plate",
      "Robot arm disengaged from apple after placement",
      "No collision with scene elements"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},

  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"green_apple","strategy":"top","result_key":"grasp_green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_green_apple","strategy":"top","timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"plate","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {"id":"PlaceAt","attrs":{"pose_key":"place_on_plate","yaw_deg":0,"press_force":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}