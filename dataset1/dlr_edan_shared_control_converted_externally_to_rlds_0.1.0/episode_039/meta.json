{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_039",
  "task_summary": "The robot is instructed to pick up the green apple from a table. The episode follows the robot as it perceives, approaches, aligns with, grasps, and lifts the apple, using visual and kinematic feedback.",
  "task_long_description": {
    "overview": "This task involves an articulated robot arm tasked with identifying and picking a green apple from a glass table within a modern kitchen-like environment. The scene contains distractor objects (white blocks, cup) and spatial constraints (table edge), and the robot operates sequentially: perceive, approach, align, grasp, lift. Phases are observable in the contact sheet frames, showing visual search, pregrasp positioning, grasp execution, and post-grasp retreat. The approach prioritizes robustness: visual reacquisition, adaptive alignment, and verification before transferring the object. Success is determined by a stable grasp of the green apple and clear separation from the table.",
    "preconditions": [
      "Robot is powered and initialized",
      "Gripper is open and capable of grasping",
      "Green apple is present and visible on the glass table",
      "No major obstructions near the apple"
    ],
    "stepwise_plan": [
      "Visually locate the green apple",
      "Open gripper to appropriate width",
      "Move above the apple with vertical clearance",
      "Compute grasp pose for top approach",
      "Approach and align with the apple",
      "Perform grasp using computed pose",
      "Verify apple is held in gripper",
      "Retreat with the apple away from the table"
    ],
    "success_criteria": [
      "Green apple securely held by gripper at the end of episode",
      "No collision with surrounding objects",
      "Correct phase progression without premature termination"
    ],
    "failure_and_recovery": [
      "Apple not detected: perform repeated visual scan (fallback node)",
      "Grasp fails: abort or retry (per higher level policy)",
      "Object slips: alert and return to search"
    ],
    "termination": "The episode terminates once the apple is lifted and the robot retreats, holding the object stably."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the green apple",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["green_apple","table","white_block_1","white_block_2","cup"],
  "objects_from_instruction": ["green_apple"],
  "blackboard_keys": ["grasp_green_apple"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "green_apple"},
      "description": "Checks if the green apple is visible to the robot."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "green_apple", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Performs a visual scan to locate the green apple if not immediately visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "green_apple", "timeout_ms": 800},
      "description": "Confirms and localizes the apple for manipulation."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.06, "timeout_ms": 500},
      "description": "Sets gripper to open width suited for grasping the apple."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "green_apple", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the end effector above the apple, preparing for grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "green_apple", "strategy": "top", "result_key": "grasp_green_apple"},
      "description": "Computes the optimal top-down grasp pose for the apple."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "green_apple", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Robot approaches the previously computed pose and aligns with apple within tight tolerance."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "grasp_green_apple", "strategy": "top", "timeout_ms": 800},
      "description": "Executes top-down grasp on apple at computed pose."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "green_apple"},
      "description": "Confirms that the apple is now held by the gripper."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves away from the table surface after successful grasp."
    }
  ],
  "tree_stats": {"nodes_total": 13, "actions": 9, "conditions": 2, "depth": 4},
  "failure_modes": [
    "Green apple not detected by vision",
    "Grasp pose computation fails",
    "Alignment error leads to failed grasp",
    "Apple slips during lift"
  ],
  "recovery_strategy": [
    "Fallback to repeated scanning if object not visible",
    "Abort and return to initial pose if grasp is unstable",
    "Notify user/operator if all retries fail"
  ],
  "assumptions": [
    "Instruction refers to a ‘green apple’ which matches the round green fruit visible in the contact sheet.",
    "No explicit place operation is described or observed in episode frames beyond picking and lifting.",
    "Timeout, force, and tolerance values chosen per absence of direct instruction cues; mapped to suitable defaults for fruit manipulation."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "After final retreat, apple is grasped and held securely",
      "No collision with other objects during approach or retreat"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"green_apple","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"green_apple","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"green_apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"green_apple","strategy":"top","result_key":"grasp_green_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"green_apple","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_green_apple","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}