{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_028",
  "task_summary": "Pick the yellow ball from the table using a robot arm.",
  "task_long_description": {
    "overview": "The robot arm locates, approaches, and grasps a yellow ball placed on a table. Visual perception ensures the ball is detected, after which the arm approaches from above, aligns, opens its gripper, computes an appropriate grasp pose, performs the grasp, and verifies it is holding the ball. The workspace also contains cups and a plant, but only the yellow ball is targeted for pickup. The behavior must handle partial occlusion and misalignment.",
    "preconditions": [
      "Yellow ball is present and visible on the table.",
      "Robot arm is unoccupied and positioned to reach the table.",
      "No obstructions between gripper and yellow ball."
    ],
    "stepwise_plan": [
      "Check if the yellow ball is visible; scan if not.",
      "Detect and localize the yellow ball.",
      "Move to a position above the yellow ball.",
      "Align the gripper to the target grasp pose.",
      "Open the gripper in preparation for grasping.",
      "Compute and use a top-down grasp pose for the yellow ball.",
      "Execute the grasp.",
      "Verify the ball is held."
    ],
    "success_criteria": [
      "Yellow ball detected and identified.",
      "Gripper successfully closes on the yellow ball.",
      "Post-grasp, the ball remains held within the gripper."
    ],
    "failure_and_recovery": [
      "Ball not detected: perform scan up to 3 attempts.",
      "Grasp not successful: recover by retrying approach and grasp sequence or abort.",
      "Object slips during grasp: abort or attempt to regrasp if allowed."
    ],
    "termination": "Tree terminates with success when the yellow ball is securely held in the gripper; terminates with failure after maximum attempts or error."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the yellow ball",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["yellow_ball","white_cup","plant"],
  "objects_from_instruction": ["yellow_ball"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "yellow_ball"},
      "description": "Checks if the yellow ball is visible to the sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "yellow_ball", "pattern":"raster", "max_attempts":3, "timeout_ms":1200},
      "description": "Performs a raster scan to search for the yellow ball if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "yellow_ball", "timeout_ms":800},
      "description": "Detects and localizes the yellow ball."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "yellow_ball", "offset_z": 0.05, "timeout_ms":1500},
      "description": "Moves the gripper above the yellow ball with a vertical offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "yellow_ball", "tolerance": 0.005, "timeout_ms":1500},
      "description": "Approaches the ball and aligns the gripper with tight tolerance."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width": 0.04, "timeout_ms":500},
      "description": "Opens the gripper in preparation for grasping."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target": "yellow_ball", "strategy": "top", "result_key": "std_top"},
      "description": "Computes a top-down grasp pose for the yellow ball."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key": "std_top", "strategy": "top", "timeout_ms":1000},
      "description": "Performs the grasp at the computed top grasp pose."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target": "yellow_ball"},
      "description": "Checks that the yellow ball is in the gripper after attempt."
    }
  ],
  "tree_stats": {"nodes_total": 11, "actions": 7, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Object not visible (perception failure or occlusion)",
    "Failed object localization",
    "Misalignment during approach",
    "Slippage during grasp",
    "Timeout on gripper actuation"
  ],
  "recovery_strategy": [
    "Rescan scene for yellow ball up to 3 attempts",
    "Abort approach and retry from MoveAbove if misalignment detected",
    "Abort behavior if grasp verification fails"
  ],
  "assumptions": [
    "Instruction requests picking yellow ball; visually, one yellow object is on the table and is interpreted as 'yellow_ball.'",
    "Object shape is suitable for top-down grasp.",
    "Objects labeled in instruction and frames are consistent.",
    "Timeouts, width, and tolerances are chosen based on anticipated object size and positioning."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Yellow ball is detected in workspace.",
      "Gripper closes on yellow ball.",
      "Object remains in gripper after grasp is executed."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"yellow_ball"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"yellow_ball","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"yellow_ball","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"yellow_ball","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"yellow_ball","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.04,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"yellow_ball","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"yellow_ball"}},
      "active_path_ids": []
    }
  ]
}