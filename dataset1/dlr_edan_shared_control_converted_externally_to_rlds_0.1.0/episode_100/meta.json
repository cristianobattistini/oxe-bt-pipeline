{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_100",
  "task_summary": "Pick the red apple from the table using a robot manipulator.",
  "task_long_description": {
    "overview": "This episode involves a robotic arm tasked with locating and picking up a red apple from a table. The workspace contains additional distractor objects (a green apple, white cubes), and perception is nontrivial given clutter and partial occlusion. The robot must visually search for the red apple, approach it from above, open the gripper, compute a suitable grasp, align, perform the grasp, verify grasp stability, and retreat with the object. Task constraints emphasize reliable perception and secure grasping.",
    "preconditions": [
      "Red apple present on a surface within robot's reachable workspace",
      "Gripper is empty and initialized",
      "Sensors and perception modules operational"
    ],
    "stepwise_plan": [
      "Visually check for red apple; scan workspace if not in view",
      "Detect and localize red apple",
      "Open gripper in preparation",
      "Move above the red apple",
      "Compute top grasp pose",
      "Approach and align to grasp pose",
      "Execute grasp using pose and strategy",
      "Verify grasp stability",
      "Retreat with object after successful grasp"
    ],
    "success_criteria": [
      "Red apple is securely held by the gripper",
      "No collision or drop occurs during manipulation",
      "Robot successfully withdraws from the pickup location"
    ],
    "failure_and_recovery": [
      "Apple not visible: scan and retry detection",
      "Grasp failure: abort and signal for reattempt",
      "Collision: stop and plan a safe retreat"
    ],
    "termination": "Tree terminates after robot has grasped and retreated with the red apple or if repeated failures occur."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the red apple",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": ["red_apple", "green_apple", "white_cube_1", "white_cube_2", "table", "robot_arm"],
  "objects_from_instruction": ["red_apple"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"red_apple"},
      "description":"Checks if the red apple is currently visible to the perception system."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"red_apple","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Scans workspace for the red apple using a raster pattern, up to 3 attempts."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"red_apple","timeout_ms":800},
      "description":"Attempts to detect and localize the red apple with a vision model."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens the gripper to a width suitable for grasping the apple."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"red_apple","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves the end-effector above the red apple, offsetting vertically for pregrasp."
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"red_apple","strategy":"top","result_key":"std_top"},
      "description":"Calculates a top-down pregrasp pose for the apple and stores it in std_top."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"red_apple","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches and aligns to the computed grasp pose with high precision."
    },
    {
      "id":"GraspAtPose",
      "type":"Action",
      "ports":{"pose_key":"std_top","strategy":"top","timeout_ms":800},
      "description":"Executes a grasp at the pose referenced by std_top using a top strategy."
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Checks if the grasp is stable post actuation."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.1,"timeout_ms":1200},
      "description":"Moves away from the pickup location with the object after grasping."
    }
  ],
  "tree_stats": {"nodes_total": 12, "actions": 8, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Red apple not detected; perception fails",
    "Gripper fails to open or actuate",
    "Grasp pose not computable",
    "Unstable or failed grasp",
    "Collision with table/other objects"
  ],
  "recovery_strategy": [
    "Retry ScanForTarget and DetectObject for object detection failures",
    "Abort grasp and reset if gripper/actuation errors",
    "Fallback to alternate grasp or abort on persistent failures"
  ],
  "assumptions": [
    "Assumed the red apple can be referenced as 'red_apple' in all actions and conditions.",
    "Frames confirm presence/location of red apple and match task instruction.",
    "No explicit force or tolerance from instruction; used defaults appropriate to fruit grasp.",
    "Action sequence inferred strictly from visual task progression ([0]..[8])."
  ],
  "evaluation_notes": {
    "expected_success_criteria": ["Red apple is in the robot's gripper at the end of the sequence, with stable grasp."],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_apple","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_apple","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_apple","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_apple","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"std_top","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.1,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}