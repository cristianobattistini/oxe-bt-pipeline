{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_073",
  "task_summary": "The robot arm is tasked with picking a die from the top of a black shelf. The behavior tree orchestrates perception, alignment, grasping, and verification to fulfill this instruction.",
  "task_long_description": {
    "overview": "This episode involves a blue robot arm located in a kitchen-like environment. The task is to pick up a white die placed on the top surface of a black shelving unit. The robot must first perceive and localize the die, move above it, open its gripper to an appropriate width, approach and center over the die, compute an overhead (top) grasp pose, execute the grasp, and finally verify that the die is securely held. Environmental constraints include the presence of other objects on the shelf and spatial limitations from the workspace.",
    "preconditions": [
      "Die is placed on the top surface of the black shelf and not occluded",
      "Robot arm is within reach and in a neutral or ready pose",
      "No objects obstruct immediate access to the die",
      "System is powered and ready for motion"
    ],
    "stepwise_plan": [
      "Check if the die is visible",
      "If not visible, scan the workspace (up to 3 times) to locate the die",
      "Run object detection to refine die location",
      "Move the end effector above the die",
      "Open the gripper to width suitable for the die",
      "Approach and align over the die with appropriate tolerance",
      "Compute the top grasp pose",
      "Execute the grasp at the computed pose",
      "Verify the die is held in the gripper"
    ],
    "success_criteria": [
      "Die is securely held in the gripper",
      "No collisions or unintended contact with the environment",
      "Gripper encloses the die without slippage"
    ],
    "failure_and_recovery": [
      "Die is not detected: scan workspace up to 3 times",
      "Grasp unsuccessful: does not proceed beyond verification; requires operator or higher-level intervention",
      "Unexpected obstacle detected: task aborted, manual recovery"
    ],
    "termination": "The episode terminates successfully when the die is detected as held in the gripper ('ObjectInGripper' condition true)."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the die",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["die","shelf","robot_arm","white_cup","flower"],
  "objects_from_instruction": ["die"],
  "blackboard_keys": ["grasp_die"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"die"},
      "description":"Checks if the die is visible."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"die","pattern":"spiral","max_attempts":3,"timeout_ms":1200},
      "description":"Scans workspace to locate the die if not visible."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"die","timeout_ms":800},
      "description":"Detects die position more precisely after it becomes visible."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"die","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves end effector above the die."
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens gripper to an appropriate width for grasping the die."
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"die","tolerance":0.005,"timeout_ms":1500},
      "description":"Aligns gripper over the die with precise tolerances."
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"die","strategy":"top","result_key":"grasp_die"},
      "description":"Computes a top-down grasp pose for the die."
    },
    {
      "id":"GraspAtPose",
      "type":"Action",
      "ports":{"pose_key":"grasp_die","strategy":"top","timeout_ms":800},
      "description":"Performs the grasp at the computed pose."
    },
    {
      "id":"ObjectInGripper",
      "type":"Condition",
      "ports":{"target":"die"},
      "description":"Checks if the die is held in the gripper."
    }
  ],
  "tree_stats": {
    "nodes_total": 9,
    "actions": 6,
    "conditions": 2,
    "depth": 2
  },
  "failure_modes": [
    "Die not detected after scanning",
    "Alignment fails (tolerance not achieved)",
    "Die slips during grasp",
    "Object in gripper not confirmed"
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times if die not immediately visible",
    "Abort if grasp is not confirmed"
  ],
  "assumptions": [
    "The object to be picked is a die, as indicated visually in frame_0 and consistent across frames.",
    "No explicit instruction for force, timeout, or tolerance; defaulted to typical values from motion evidence.",
    "Top grasp strategy selected based on visual accessibility of the die.",
    "No 'place' or post-grasp transfer phase present in instruction or video; task ends at grasp confirmation."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Die secured in the gripper and visually absent from the original position.",
      "No collisions with the shelf or surrounding objects."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"die"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"die","pattern":"spiral","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"die","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"die","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"die","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "grasp",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"die","strategy":"top","result_key":"grasp_die"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_die","strategy":"top","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"die"}},
      "active_path_ids": []
    }
  ]
}