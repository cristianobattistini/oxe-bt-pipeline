{
  "dataset_id": "dlr_edan_shared_control_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_095",
  "task_summary": "The robot is assigned to pick up a red apple from a tabletop by locating, approaching, grasping, and lifting it.",
  "task_long_description": {
    "overview": "This episode takes place in a lab setting featuring a blue robotic arm interacting with objects on a table. A red apple is present among other objects (green apple, orange, cubes). The robotâ€™s mission is to pick the red apple, requiring perception, approach, reliable grasp, and safe lift-off. The approach is top-down, favoring stability. Multiple perception attempts mitigate occlusions; feedback confirms completion.",
    "preconditions": [
      "Red apple is on an accessible surface",
      "Robot arm is ready and gripper is open",
      "No obstructions around the apple"
    ],
    "stepwise_plan": [
      "Check if red apple is visible; scan if not detected",
      "Detect and locate red apple precisely",
      "Open gripper to adequate width",
      "Move above apple with safe offset",
      "Compute top grasp pose",
      "Approach and align with low tolerance",
      "Lower until gentle contact",
      "Close gripper using minimal force",
      "Verify stable grasp",
      "Raise the apple slightly to complete pick"
    ],
    "success_criteria": [
      "Red apple is securely held in the gripper",
      "Apple is lifted off the surface without dropping"
    ],
    "failure_and_recovery": [
      "Apple not visible: perform scan up to 3 attempts",
      "Failed grasp: retry approach and grasp sequence",
      "Unstable grasp: abort lift, retry after re-aligning"
    ],
    "termination": "Tree ends when grasp is stable and the apple is lifted the required distance."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "pick the red apple",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["red_apple", "green_apple", "orange", "cube_1", "cube_2", "table", "robot_gripper"],
  "objects_from_instruction": ["red_apple"],
  "blackboard_keys": ["std_top"],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"red_apple"},
      "description":"Checks if red apple is visible"
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"red_apple","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Scans for red apple using a raster pattern"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"red_apple","timeout_ms":800},
      "description":"Detects the red apple for precise pose estimation"
    },
    {
      "id":"OpenGripper",
      "type":"Action",
      "ports":{"width":0.06,"timeout_ms":500},
      "description":"Opens gripper to accept apple"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"red_apple","offset_z":0.05,"timeout_ms":1500},
      "description":"Moves end-effector above apple at safe offset"
    },
    {
      "id":"ComputeGraspPose",
      "type":"Action",
      "ports":{"target":"red_apple","strategy":"top","result_key":"std_top"},
      "description":"Computes top grasp pose for apple"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"red_apple","tolerance":0.005,"timeout_ms":1500},
      "description":"Approaches and aligns above apple with tight tolerance"
    },
    {
      "id":"LowerUntilContact",
      "type":"Action",
      "ports":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200},
      "description":"Lowers gripper until gentle contact with apple"
    },
    {
      "id":"CloseGripper",
      "type":"Action",
      "ports":{"force":5,"timeout_ms":800},
      "description":"Closes gripper to grasp apple with minimal force"
    },
    {
      "id":"IsGraspStable",
      "type":"Condition",
      "ports":{},
      "description":"Checks grasp stability"
    },
    {
      "id":"RaiseHeld",
      "type":"Action",
      "ports":{"target":"red_apple","distance":0.05,"timeout_ms":1200},
      "description":"Raises the grasped apple slightly"
    }
  ],
  "tree_stats": {
    "nodes_total": 12,
    "actions": 9,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "apple not visible",
    "failed detection",
    "unstable grasp",
    "missed approach",
    "collision with other objects"
  ],
  "recovery_strategy": [
    "retry visual scan",
    "repeat approach/grasp",
    "abort and re-align if grasp fails"
  ],
  "assumptions": [
    "Instruction 'pick the red apple' maps to top-down grasp as shown in frames",
    "Red apple is visually present and accessible according to the contact sheet",
    "No place or transfer phase: episode closes after lifting red apple",
    "Minimal force (5) chosen for safe grasp following the 'gently' implication and visual evidence of careful handling",
    "If instruction demanded transfer/place, the tree would differ"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Red apple detected and securely grasped",
      "Apple lifted without disturbing nearby objects"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"red_apple"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"red_apple","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"red_apple","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"red_apple","offset_z":0.05,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"red_apple","strategy":"top","result_key":"std_top"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"red_apple","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "grasp",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.05,"force_threshold":5,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":5,"timeout_ms":800}},
      "active_path_ids": []
    }
  ]
}