{
  "dataset_id": "utokyo_xarm_bimanual_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_027",
  "task_summary": "The robot's goal is to reach a towel placed on a work surface, which may involve perceiving and approaching the towel accurately.",
  "task_long_description": {
    "overview": "This scenario features a dual-arm xArm robot in a workspace containing a flat pink towel on a green surface. The sequence requires the robot to localize the towel (perceive), approach it from above, align precisely, and prepare for possible manipulation (though no grasp or pick occurs here). Visual confirmation is robustified by retry attempts. The task is limited to reaching and alignment, and does not proceed to grasp or manipulation.",
    "preconditions": [
      "The towel is present and unobstructed.",
      "Robot arms start in a ready state above the workspace.",
      "Workspace is clear of obstacles."
    ],
    "stepwise_plan": [
      "Check if the towel is visible; scan if needed.",
      "Detect and localize the towel.",
      "Move above the towel at a safe offset.",
      "Approach and align precisely to the towel."
    ],
    "success_criteria": [
      "Robot end effector is positioned directly above and aligned with the towel within a close tolerance.",
      "Towel is localized and confirmed.",
      "No collision with environment."
    ],
    "failure_and_recovery": [
      "Failure to perceive towel: retry scan up to 3 times.",
      "Failure to approach: none specifically in this BT."
    ],
    "termination": "Upon successful approach and alignment above the towel, or after scan retries are exhausted."
  },
  "frame_ranking": {
    "order": [
      "frame_3",
      "frame_5",
      "frame_2",
      "frame_6",
      "frame_1",
      "frame_4",
      "frame_7",
      "frame_0",
      "frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Reach a towel.",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0",
    "frame_1",
    "frame_2",
    "frame_3",
    "frame_4",
    "frame_5",
    "frame_6",
    "frame_7",
    "frame_8"
  ],
  "objects": [
    "towel",
    "robot_arm",
    "workspace"
  ],
  "objects_from_instruction": [
    "towel"
  ],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "towel"},
      "description": "Checks whether the towel is currently visible to the robot's sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "towel", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Actively scans the workspace using a raster pattern to locate the towel, retrying up to 3 times."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "towel", "timeout_ms": 800},
      "description": "Runs detection to confirm and localize the towel's position."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "towel", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the end-effector to a position directly above the towel with a vertical offset (safe approach)."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "towel", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Approaches the towel and aligns within a tight tolerance to prepare for further manipulation."
    }
  ],
  "tree_stats": {
    "nodes_total": 8,
    "actions": 4,
    "conditions": 1,
    "depth": 4
  },
  "failure_modes": [
    "Towel not visible after scan retries.",
    "Mislocalization of towel.",
    "Timeout during move or approach.",
    "Unexpected collision or obstruction (not explicitly handled in this BT)."
  ],
  "recovery_strategy": [
    "Retry scan for up to 3 attempts if towel not seen."
  ],
  "assumptions": [
    "Instruction only specifies 'reach' (not grasp/transfer/place), which matches the BT and frames.",
    "No grasp or manipulation occurs; end-effector proximity is the goal.",
    "Towel is the only specified object of interest."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot achieves above-towel alignment.",
      "Perceptual confidence in towel localization.",
      "Action timeouts not exceeded."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "towel"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "towel", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "towel", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "towel", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "towel", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "towel", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "towel", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "towel", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "towel", "tolerance": 0.005, "timeout_ms": 1500}
      },
      "active_path_ids": []
    }
  ]
}