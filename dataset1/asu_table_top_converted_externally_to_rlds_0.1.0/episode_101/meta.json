{
  "dataset_id": "asu_table_top_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_101",
  "task_summary": "Detect, grasp, and lift the coke bottle from the tabletop, then retreat while holding it.",
  "task_long_description": {
    "overview": "A tabletop manipulation scene shows multiple small objects (bottles/cylinders) in front of a 6-DOF arm. The goal is to raise the coke bottle off the surface. The robot must perceive the target, approach and align, compute a grasp, close the gripper, verify the grasp, lift the object by a short distance, and retreat to a safe pose while maintaining hold. Timeouts and discrete parameters are snapped to the allowed bins for repeatability.",
    "preconditions": [
      "Coke bottle is visible on the table within reachable workspace",
      "Gripper is functional and free of objects",
      "No obstacles above the target within 0.15 m lift distance"
    ],
    "stepwise_plan": [
      "Detect coke bottle and localize it.",
      "Open gripper and approach while aligning to the target.",
      "Compute grasp pose and execute grasp.",
      "Close gripper and verify object is held.",
      "Raise the held bottle by 0.15 m and hold briefly.",
      "Retreat to create clearance."
    ],
    "success_criteria": [
      "ObjectInGripper returns success for the coke bottle",
      "Bottle is visibly lifted off the table by approximately 0.15 m",
      "Arm retreats without collisions"
    ],
    "failure_and_recovery": [
      "If detection fails, retry up to 3 times.",
      "If alignment or grasp fails, reopen gripper and realign before reattempting.",
      "If grasp is unstable, lower slightly, re-compute grasp, and try again."
    ],
    "termination": "Terminate after successful lift and retreat or upon repeated failures exceeding retry policy."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "raise coke bottle",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["green coke_bottle (assumed)","red cylinder","blue cup","orange can","yellow can","table","robot_arm"],
  "objects_from_instruction": ["coke bottle"],
  "blackboard_keys": ["grasp_pose_coke"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"coke_bottle","timeout_ms":3000},"description":"Perceive the coke bottle in the scene."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.08,"timeout_ms":1000},"description":"Prepare gripper for grasp."},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"coke_bottle","tolerance":0.01,"timeout_ms":4000},"description":"Move close and align to target."},
    {"id":"ComputeGraspPose","type":"Action","ports":{"target":"coke_bottle","strategy":"side","result_key":"grasp_pose_coke"},"description":"Compute grasp pose and store on blackboard."},
    {"id":"GraspAtPose","type":"Action","ports":{"pose_key":"grasp_pose_coke","strategy":"pinch","timeout_ms":3000},"description":"Execute grasp at the computed pose."},
    {"id":"CloseGripper","type":"Action","ports":{"force":20,"timeout_ms":1000},"description":"Close gripper to secure object."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"coke_bottle"},"description":"Verify the bottle is grasped."},
    {"id":"RaiseHeld","type":"Action","ports":{"target":"coke_bottle","distance":0.15,"timeout_ms":2000},"description":"Lift the held bottle upward."},
    {"id":"HoldObject","type":"Action","ports":{"target":"coke_bottle","duration_ms":1000},"description":"Briefly hold to stabilize after lift."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1500},"description":"Back off to a safe clearance."}
  ],
  "tree_stats": {"nodes_total": 12, "actions": 9, "conditions": 1, "depth": 3},
  "failure_modes": [
    "Target not detected due to occlusion or lighting",
    "Misalignment causing failed grasp",
    "Insufficient grip force leading to slip",
    "Collision with nearby objects during lift"
  ],
  "recovery_strategy": [
    "Retry detection up to 3 times with small view changes",
    "Reopen gripper and re-align before regrasp",
    "Adjust grasp strategy (side vs pinch) and re-compute pose",
    "Abort lift and retreat if contact forces spike"
  ],
  "assumptions": [
    "The green bottle visible in frames is treated as the 'coke bottle'.",
    "Raising means lifting vertically by 0.15 m without relocating.",
    "Contact sheet motion blur limits precise state recognition; annotations align with a canonical pick-and-lift sequence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Condition ObjectInGripper succeeds",
      "Bottle base clears the tabletop visibly",
      "No collisions during retreat"
    ],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"coke_bottle","timeout_ms":3000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.08,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"coke_bottle","tolerance":0.01,"timeout_ms":4000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"ComputeGraspPose","attrs":{"target":"coke_bottle","strategy":"side","result_key":"grasp_pose_coke"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"GraspAtPose","attrs":{"pose_key":"grasp_pose_coke","strategy":"pinch","timeout_ms":3000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "grasp",
      "active_leaf": {"id":"CloseGripper","attrs":{"force":20,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"RaiseHeld","attrs":{"target":"coke_bottle","distance":0.15,"timeout_ms":2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {"id":"HoldObject","attrs":{"target":"coke_bottle","duration_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    }
  ]
}
