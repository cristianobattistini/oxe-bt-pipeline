{
  "dataset_id": "asu_table_top_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_102",
  "task_summary": "Place the held pepsi_bottle onto a clear spot on the table, then release and retreat.",
  "task_long_description": {
    "overview": "A tabletop robot must place a Pepsi-branded bottle that it is already holding onto the table. The scene shows several small cans and bottles arranged on a white tabletop with the arm centered above them. The behavior detects a clear spot, approaches above it, verifies the bottle is in the gripper, then lowers until contact, opens the gripper to release, briefly waits for stability, and retreats. The plan avoids collisions with nearby objects and uses low contact force when touching the surface.",
    "preconditions": ["Robot is holding pepsi_bottle", "A clear area on the table exists within reach", "Gripper operational and able to open", "Arm has collision-free path to the table area"],
    "stepwise_plan": [
      "Detect clear_spot_table on the tabletop.",
      "MoveAbove the clear spot with a safe vertical offset.",
      "Verify ObjectInGripper for pepsi_bottle.",
      "LowerUntilContact with slow speed and low force threshold.",
      "OpenGripper to release the bottle.",
      "Retreat vertically to clear the object.",
      "Wait briefly to ensure stability.",
      "SetBlackboard last_action=put_down_pepsi_bottle."
    ],
    "success_criteria": ["pepsi_bottle rests on the table without rolling or toppling", "gripper is open and not touching the object", "arm returns to a safe clearance pose"],
    "failure_and_recovery": ["If no clear spot is detected, re-run detection or choose a new area", "If contact not detected within max_depth, retry with slightly larger depth (not encoded here)", "If gripper fails to open, attempt OpenGripper again", "If collision risk detected, abort and retreat"],
    "termination": "After wait and recording last_action, the tree succeeds once the arm has retreated to a safe distance."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "put down pepsi bottle",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["pepsi_bottle", "red_can", "silver_can", "orange_bottle", "green_bottle_A", "green_bottle_B", "table"],
  "objects_from_instruction": ["pepsi_bottle"],
  "blackboard_keys": ["last_action"],
  "node_specs": [
    {"id":"DetectObject","type":"Action","ports":{"target":"clear_spot_table","timeout_ms":1500},"description":"Detect a clear placement area on the table."},
    {"id":"MoveAbove","type":"Action","ports":{"target":"clear_spot_table","offset_z":0.10,"timeout_ms":2000},"description":"Move to a pose above the chosen placement area."},
    {"id":"ObjectInGripper","type":"Condition","ports":{"target":"pepsi_bottle"},"description":"Confirm the bottle is held before placing."},
    {"id":"LowerUntilContact","type":"Action","ports":{"speed":"slow","max_depth":0.10,"force_threshold":5,"timeout_ms":2000},"description":"Lower gently until surface contact is detected."},
    {"id":"OpenGripper","type":"Action","ports":{"width":0.06,"timeout_ms":400},"description":"Release the bottle."},
    {"id":"Retreat","type":"Action","ports":{"distance":0.10,"timeout_ms":1000},"description":"Retreat to clear the object."},
    {"id":"Wait","type":"Action","ports":{"timeout_ms":500},"description":"Brief stabilization wait after release."},
    {"id":"SetBlackboard","type":"Action","ports":{"key":"last_action","value":"put_down_pepsi_bottle"},"description":"Log completion to blackboard."}
  ],
  "tree_stats": {"nodes_total": 9, "actions": 7, "conditions": 1, "depth": 2},
  "failure_modes": ["Bottle not actually in gripper", "No contact detected before max_depth", "Bottle slips during release", "Nearby objects obstruct placement path"],
  "recovery_strategy": ["Retry detection and choose another spot", "Increase allowed max_depth slightly and retry lowering", "Re-close then re-open gripper once", "Abort and retreat to safe pose if collision risk"],
  "assumptions": ["Instruction mentions 'pepsi bottle'; frames are slightly ambiguous between cans and bottles. Plan prefers frames and treats the object as a small bottle already held by the gripper.", "Target area labeled 'clear_spot_table' is a symbolic placeholder for an open tabletop location."],
  "evaluation_notes": {
    "expected_success_criteria": ["Object visible on table after release", "No contact alarms after retreat", "Blackboard updated"],
    "test_scenarios": ["happy path","object_missing","grasp_fail","perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"clear_spot_table","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"clear_spot_table","offset_z":0.10,"timeout_ms":2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"pepsi_bottle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "place",
      "active_leaf": {"id":"LowerUntilContact","attrs":{"speed":"slow","max_depth":0.10,"force_threshold":5,"timeout_ms":2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "place",
      "active_leaf": {"id":"OpenGripper","attrs":{"width":0.06,"timeout_ms":400}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"SetBlackboard","attrs":{"key":"last_action","value":"put_down_pepsi_bottle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Wait","attrs":{"timeout_ms":500}},
      "active_path_ids": []
    }
  ]
}
