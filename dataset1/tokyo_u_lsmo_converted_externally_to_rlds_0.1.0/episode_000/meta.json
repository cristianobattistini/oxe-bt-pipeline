{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_000",
  "task_summary": "Robot locates the blue pen, avoids the obstacle (books), and approaches the pen on the tabletop.",
  "task_long_description": {
    "overview": "This episode tasks a robot arm to reach a blue pen positioned behind a set of book-like obstacles on a table in an office-like environment. The robot must detect and navigate around the obstacle before aligning itself with the blue pen. The process involves perception, planning an unobstructed path, visually tracking the pen, and moving sequentially via waypoints to reach the goal.",
    "preconditions": [
      "The blue pen is placed upright behind a row of book obstacles.",
      "Robot arm starts in a position away from the pen.",
      "Workspace is clear except for the books and pen.",
      "Robot sensors are active."
    ],
    "stepwise_plan": [
      "Check if blue pen is visible; if not, scan the workspace.",
      "Detect precise location of the blue pen.",
      "Move to first waypoint to circumvent the obstacle.",
      "Move to second waypoint for further alignment.",
      "Navigate to the goal position near the blue pen."
    ],
    "success_criteria": [
      "Robot end-effector arrives at the blue pen without contacting the obstacle.",
      "Blue pen remains upright and undisturbed."
    ],
    "failure_and_recovery": [
      "Failure to detect pen triggers multiple scan attempts.",
      "Path blocked by books triggers pathway adjustment (via waypoints).",
      "Contact with books should abort and reset to safe position."
    ],
    "termination": "Task terminates when the robot successfully reaches the goal proximate to the blue pen, or if recovery fails after 3 attempts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the blue pen",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1200,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["blue_pen","books","robot_arm"],
  "objects_from_instruction": ["blue_pen"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"blue_pen"},
      "description":"Checks if the blue pen is visible to the robot's sensors."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"blue_pen","pattern":"raster","max_attempts":3,"timeout_ms":1200},
      "description":"Performs a raster-pattern scan to find the blue pen with up to 3 attempts."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"blue_pen","timeout_ms":800},
      "description":"Detects the blue pen's exact position."
    },
    {
      "id":"MoveTo",
      "type":"Action",
      "ports":{"target":"waypoint_1","timeout_ms":1500},
      "description":"Moves to waypoint 1 to begin avoiding the obstacle."
    },
    {
      "id":"MoveTo",
      "type":"Action",
      "ports":{"target":"waypoint_2","timeout_ms":1500},
      "description":"Moves to waypoint 2 to further navigate around the obstacle."
    },
    {
      "id":"NavigateToNamed",
      "type":"Action",
      "ports":{"location_id":"goal","yaw_deg":0,"timeout_ms":2000},
      "description":"Navigates to the final goal near the blue pen."
    }
  ],
  "tree_stats": {
    "nodes_total": 8,
    "actions": 5,
    "conditions": 1,
    "depth": 3
  },
  "failure_modes": [
    "Pen not visible due to occlusion",
    "Collision with books/obstacle during navigation",
    "Failure to reach goal position due to path blockage"
  ],
  "recovery_strategy": [
    "Retry scan for blue pen up to 3 times",
    "Route around detected obstacles using predefined waypoints",
    "Abort and reset if collision detected"
  ],
  "assumptions": [
    "Waypoints (waypoint_1, waypoint_2) inferred from visual evidence; not present in instruction",
    "Goal pose defined as 'goal' is proximate to blue pen",
    "No explicit 'grasp' as per frames; motion is endpoint navigation only",
    "Obstacle is stack of books directly between robot and blue pen"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot tip reaches target position adjacent to blue pen without disturbing obstacle."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target":"blue_pen"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target":"blue_pen","pattern":"raster","max_attempts":3,"timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target":"blue_pen","timeout_ms":800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveTo",
        "attrs": {"target":"waypoint_1","timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveTo",
        "attrs": {"target":"waypoint_2","timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {"location_id":"goal","yaw_deg":0,"timeout_ms":2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {"location_id":"goal","yaw_deg":0,"timeout_ms":2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {"location_id":"goal","yaw_deg":0,"timeout_ms":2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "NavigateToNamed",
        "attrs": {"location_id":"goal","yaw_deg":0,"timeout_ms":2000}
      },
      "active_path_ids": []
    }
  ]
}