{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_042",
  "task_summary": "The robot arm must navigate past a book obstacle and reach the blue pen on the table.",
  "task_long_description": {
    "overview": "This episode tasks a robot arm with reaching a blue pen positioned behind a visible obstacle (a thick book). The sequence requires visual locating of both objects, obstacle negotiation by moving above it, and approaching the pen without collision. Phased movements and perceptual checks are necessary for accuracy and safety. The robot must avoid the obstacle at all stages of approach and confirm arrival at the pen; retries and scans assist in recovery if perception fails.",
    "preconditions": [
      "Workspace contains a blue pen and an obstacle (book)",
      "Robot starts with no object grasped",
      "Arm is operational and free of faults"
    ],
    "stepwise_plan": [
      "Scan to visually acquire the blue pen",
      "Detect precise location of the blue pen",
      "Scan for and locate obstacle",
      "Move above the obstacle to avoid collision",
      "Move to the blue pen location",
      "Verify arrival at the blue pen"
    ],
    "success_criteria": [
      "Robot reaches proximity of blue pen without contacting obstacle",
      "Obstacle is not displaced",
      "Arrival at pen confirmed"
    ],
    "failure_and_recovery": [
      "Obstacle blocking path: retry scan and adjust pathway",
      "Pen not detected: redo scans up to 3 attempts",
      "Arm collision: halt and initiate retreat"
    ],
    "termination": "Upon successful confirmation of arrival at blue pen or unrecoverable navigation block"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the blue pen",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1200,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm", "blue_pen", "obstacle (book)", "black_pen_holder", "desktop"],
  "objects_from_instruction": ["blue_pen", "obstacle"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "blue_pen"},
      "description": "Checks whether the blue pen is visible in the scene"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "blue_pen", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Retries scanning for the blue pen up to 3 times"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "blue_pen", "timeout_ms": 800},
      "description": "Performs detection and localization of the blue pen"
    },
    {
      "id": "IsObjectVisible_obstacle",
      "type": "Condition",
      "ports": {"target": "obstacle"},
      "description": "Checks that the obstacle is visible"
    },
    {
      "id": "DetectObject_obstacle",
      "type": "Action",
      "ports": {"target": "obstacle", "timeout_ms": 800},
      "description": "Detects and localizes the obstacle position"
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "obstacle", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves the arm above the obstacle to avoid collision"
    },
    {
      "id": "MoveTo",
      "type": "Action",
      "ports": {"target": "blue_pen", "timeout_ms": 1200},
      "description": "Moves the arm to the blue pen's location"
    },
    {
      "id": "IsAt",
      "type": "Condition",
      "ports": {"target": "blue_pen"},
      "description": "Confirms the robot is at the blue pen"
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 5, "conditions": 3, "depth": 4},
  "failure_modes": [
    "Blue pen not detected",
    "Obstacle not detected",
    "Path blocked by obstacle",
    "Collision with obstacle during movement"
  ],
  "recovery_strategy": [
    "Repeat scan actions for up to 3 attempts",
    "If obstacle blocks, retry obstacle detection and adjust path",
    "Abort and retreat on collision"
  ],
  "assumptions": [
    "Obstacle is seen as a book in the frames, not specifically labeled as such in instruction",
    "Blue pen is unambiguously present; pen holder and other objects ignored for navigation",
    "The task instruction does not specify grasping, only reaching; reflected in tree and annotations"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Arm tip reaches vicinity of blue pen without disturbing obstacle"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "blue_pen", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "blue_pen", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "DetectObject_obstacle",
        "attrs": {"target": "obstacle", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "obstacle", "offset_z": 0.10, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveTo",
        "attrs": {"target": "blue_pen", "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveTo",
        "attrs": {"target": "blue_pen", "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {"target": "blue_pen"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {"target": "blue_pen"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAt",
        "attrs": {"target": "blue_pen"}
      },
      "active_path_ids": []
    }
  ]
}