{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_037",
  "task_summary": "The robot must reach the scissors while avoiding an obstacle by perceiving, approaching, and manipulating objects as needed.",
  "task_long_description": {
    "overview": "In this table-top scenario, a robot arm attempts to reach a pair of scissors located behind one or more obstacles (books/box). The robot first scans and localizes the scissors, moves above and approaches, detects obstacles, pushes them aside, and verifies it is at the goal. Key constraints are object avoidance, precise approach, and task completion in the real-physical space. Recovery involves rescan and retry.",
    "preconditions": [
      "Robot arm functional and calibrated",
      "Scissors and obstacle in reachable workspace",
      "Vision sensor operational",
      "Table surface stable"
    ],
    "stepwise_plan": [
      "Check for visibility of scissors; scan if needed",
      "Detect and localize scissors",
      "Move above and approach scissors",
      "Check for obstacles; detect if present",
      "Push obstacle aside and retreat",
      "Re-approach scissors and verify goal position"
    ],
    "success_criteria": [
      "Robot TCP is at the scissors",
      "Obstacle successfully avoided/removed",
      "No collisions other than intentional push",
      "Scissors detected and reached"
    ],
    "failure_and_recovery": [
      "Obstacle push fails — retry or replan",
      "Scissors not visible — rescan plus fallback",
      "Unintended collision — stop and retreat",
      "Localization noise — fallback to scan"
    ],
    "termination": "Task terminates when robot is confirmed at the scissors location; aborts if unreachable or system error occurs."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the scissors",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 800,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm","scissors","obstacle","books","table"],
  "objects_from_instruction": ["scissors","obstacle"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"scissors"},"description":"Checks if scissors are visible"},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"scissors","pattern":"spiral","max_attempts":3,"timeout_ms":1200},"description":"Scans workspace for scissors"},
    {"id":"DetectObject","type":"Action","ports":{"target":"scissors","timeout_ms":800},"description":"Detects scissors with vision"},
    {"id":"MoveAbove","type":"Action","ports":{"target":"scissors","offset_z":0.05,"timeout_ms":1500},"description":"Moves arm above scissors"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"scissors","tolerance":0.005,"timeout_ms":1500},"description":"Approaches and aligns precisely to scissors"},
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"obstacle"},"description":"Checks if obstacle is visible"},
    {"id":"DetectObject","type":"Action","ports":{"target":"obstacle","timeout_ms":800},"description":"Detects obstacle with vision"},
    {"id":"Push","type":"Action","ports":{"target":"obstacle","distance":0.10,"direction_deg":90,"timeout_ms":1200},"description":"Pushes obstacle aside"},
    {"id":"Retreat","type":"Action","ports":{"distance":0.05,"timeout_ms":800},"description":"Retreats to allow clear access"},
    {"id":"ApproachAndAlign","type":"Action","ports":{"target":"scissors","tolerance":0.005,"timeout_ms":1200},"description":"Final approach to scissors"},
    {"id":"IsAt","type":"Condition","ports":{"target":"scissors"},"description":"Verifies TCP at scissors"}
  ],
  "tree_stats": {"nodes_total": 15, "actions": 9, "conditions": 4, "depth": 5},
  "failure_modes": [
    "Obstacle push ineffective",
    "Scissors occluded by obstacle",
    "Push causes unintended collisions",
    "Vision detects wrong object"
  ],
  "recovery_strategy": [
    "Fallback scan and retries for missing scissors",
    "Retry push or alternate push direction",
    "Retreat and re-approach scissors",
    "Abort on critical failure"
  ],
  "assumptions": [
    "Obstacle corresponds to the stacked books/box in the frames",
    "Scissors location visually confirmed in the lower-right of images",
    "Instruction and frames match, except no grasp or manipulation of scissors shown",
    "Push direction inferred from scene geometry; angle set to 90deg (rightward)"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Obstacle visibly moved away",
      "Robot approaches scissors without collision",
      "Arm TCP at correct position"
    ],
    "test_scenarios": ["happy path", "object_missing", "grasp_fail", "perception_noise"]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "scissors"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "ScanForTarget", "attrs": {"target": "scissors", "pattern": "spiral", "max_attempts": 3, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "scissors", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "scissors", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "obstacle"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "Push", "attrs": {"target": "obstacle", "distance": 0.10, "direction_deg": 90, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.05, "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "scissors", "tolerance": 0.005, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id": "IsAt", "attrs": {"target": "scissors"}},
      "active_path_ids": []
    }
  ]
}