{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_017",
  "task_summary": "The robot must avoid an obstacle and reach the location of the scissors on the workspace.",
  "task_long_description": {
    "overview": "This episode involves a robotic arm assigned to reach a pair of scissors placed on a cluttered tabletop, while intentionally navigating around an obstacle (a brown box) in its approach path. The task leverages perception and navigation actions to ensure the scissors are located and safely reached. Recovery behaviors are used if the scissors are occluded or undetected.",
    "preconditions": [
      "Robot arm is powered on and operational.",
      "Scissors are placed on the table within camera view.",
      "Obstacle (brown box) obstructs direct access to scissors."
    ],
    "stepwise_plan": [
      "Verify scissors visibility; if not visible, scan workspace for target.",
      "Detect and localize the scissors.",
      "Navigate to a safe approach waypoint to avoid the obstacle.",
      "Confirm robot is at safe approach position.",
      "Navigate to the scissors location.",
      "Confirm robot arrived at target."
    ],
    "success_criteria": [
      "Robot is positioned at the scissors without contacting or knocking over the obstacle.",
      "Scissors are reliably detected before approach.",
      "No collision occurs during navigation."
    ],
    "failure_and_recovery": [
      "Scissors not detected: workspace scan is retried up to three times.",
      "Obstacle blocks direct path: approach via intermediate safepoint to avoid.",
      "Arrival at incorrect position: verification via IsAt conditions."
    ],
    "termination": "Episode ends when the robot successfully reaches the scissors or exceeds maximum retries/timeouts."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the scissors",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1000,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["scissors", "brown_box", "books", "robot_arm", "flowerpot"],
  "objects_from_instruction": ["scissors"],
  "blackboard_keys": ["approach_safepoint"],
  "node_specs": [
    {"id":"IsObjectVisible","type":"Condition","ports":{"target":"scissors"},"description":"Checks if scissors are currently visible."},
    {"id":"ScanForTarget","type":"Action","ports":{"target":"scissors","pattern":"raster","max_attempts":3,"timeout_ms":1200},"description":"Scan workspace to find scissors using raster pattern."},
    {"id":"DetectObject","type":"Action","ports":{"target":"scissors","timeout_ms":800},"description":"Detect and localize scissors in the workspace."},
    {"id":"MoveTo","type":"Action","ports":{"target":"approach_safepoint","timeout_ms":1000},"description":"Move to an intermediate waypoint to avoid obstacle."},
    {"id":"IsAt","type":"Condition","ports":{"target":"approach_safepoint"},"description":"Verify the robot is at the approach safepoint."},
    {"id":"MoveTo","type":"Action","ports":{"target":"scissors","timeout_ms":1000},"description":"Move to the scissors location."},
    {"id":"IsAt","type":"Condition","ports":{"target":"scissors"},"description":"Verify robot is at the scissors."}
  ],
  "tree_stats": {"nodes_total": 11, "actions": 5, "conditions": 4, "depth": 4},
  "failure_modes": [
    "Scissors not detected or occluded.",
    "Obstacle blocks direct navigation path.",
    "Timeout during move actions.",
    "Incorrect safepoint selection leads to collision."
  ],
  "recovery_strategy": [
    "Retry scanning for scissors up to three times.",
    "Navigate via approach_safepoint to avoid collision.",
    "Verify arrival at target positions after each move."
  ],
  "assumptions": [
    "No actual grasp/manipulation planned; only navigation.",
    "Obstacle avoidance inferred from path via approach_safepoint.",
    "Frame [8] lacks clear evidence of final scissors reach but matches expected position.",
    "Instruction did not specify manipulation; BT grounded solely in approach evidence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot reaches scissors without disturbance of obstacle.",
      "Perception steps complete before navigation.",
      "Failure leads to scan retries or safe approach attempts."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"scissors"}},
      "active_path_ids": ["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"ScanForTarget","attrs":{"target":"scissors","pattern":"raster","max_attempts":3,"timeout_ms":1200}},
      "active_path_ids": ["Sequence","Fallback","RetryUntilSuccessful","ScanForTarget"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"scissors","timeout_ms":800}},
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"approach_safepoint","timeout_ms":1000}},
      "active_path_ids": ["Sequence","MoveTo (approach_safepoint)"]
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"IsAt","attrs":{"target":"approach_safepoint"}},
      "active_path_ids": ["Sequence","IsAt (approach_safepoint)"]
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"MoveTo","attrs":{"target":"scissors","timeout_ms":1000}},
      "active_path_ids": ["Sequence","MoveTo (scissors)"]
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {"id":"IsAt","attrs":{"target":"scissors"}},
      "active_path_ids": ["Sequence","IsAt (scissors)"]
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {"id":"IsAt","attrs":{"target":"scissors"}},
      "active_path_ids": ["Sequence","IsAt (scissors)"]
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {"id":"IsAt","attrs":{"target":"scissors"}},
      "active_path_ids": ["Sequence","IsAt (scissors)"]
    }
  ]
}