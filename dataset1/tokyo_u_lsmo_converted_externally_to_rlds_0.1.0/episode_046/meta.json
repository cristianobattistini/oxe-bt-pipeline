{
  "dataset_id": "tokyo_u_lsmo_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_046",
  "task_summary": "The robot must reach the blue pen placed behind a visible obstacle by using perception and motion planning to avoid collisions.",
  "task_long_description": {
    "overview": "This task involves a robot arm navigating around a row of books to approach and reach a blue pen placed on a table. The pen is positioned behind the books, presenting a clear obstacle. The robot must perceive the pen, avoid the books, and move precisely to the pen’s location. The task emphasizes obstacle avoidance and visual reacquisition if the pen is not initially detected.",
    "preconditions": [
      "Robot powered and operational",
      "Blue pen present and placed behind obstacles (books)",
      "Workspace unobstructed except for books",
      "Robot sensors functional for object detection"
    ],
    "stepwise_plan": [
      "Check if the blue pen is visible. If not, scan the workspace.",
      "Detect the blue pen’s exact position.",
      "Compute a collision-free trajectory avoiding books to the pen.",
      "Approach the pen’s XY coordinates using precise motion.",
      "Verify arrival at the target position."
    ],
    "success_criteria": [
      "Robot reaches the blue pen without colliding with the books",
      "Pen detected and approached within tolerance (0.005)",
      "No unplanned contact with obstacles"
    ],
    "failure_and_recovery": [
      "Obstacle detected in the path: Re-scan and replan trajectory",
      "Pen not visible: Retry scan up to 3 times",
      "Minor misalignment: Repeat approach step"
    ],
    "termination": "Task terminates once the robot is at the pen’s location within tolerance or retries are exhausted."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "avoid obstacle and reach the blue pen",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm","blue_pen","books","table"],
  "objects_from_instruction": ["blue_pen"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "blue_pen" },
      "description": "Checks if the blue pen is visible to robot sensors"
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": { "target": "blue_pen", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200 },
      "description": "Scans workspace for the blue pen in raster pattern"
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "blue_pen", "timeout_ms": 800 },
      "description": "Performs detection of blue pen in camera view"
    },
    {
      "id": "MoveToXY",
      "type": "Action",
      "ports": { "x": 0.20, "y": 0.10, "yaw_deg": 0, "timeout_ms": 1500 },
      "description": "Moves robot to pen position, avoiding obstacle (books)"
    },
    {
      "id": "IsAtXY",
      "type": "Condition",
      "ports": { "x": 0.20, "y": 0.10, "tolerance": 0.005 },
      "description": "Verifies robot is at blue pen position within tolerance"
    }
  ],
  "tree_stats": {"nodes_total": 7, "actions": 3, "conditions": 2, "depth": 3},
  "failure_modes": [
    "Blue pen not visible due to occlusion",
    "Collision with books during approach",
    "Timeout/exhausted retries during scan or move"
  ],
  "recovery_strategy": [
    "Retry visual scan (up to 3 times)",
    "Replan path if obstacle detected",
    "Reattempt motion if not at target"
  ],
  "assumptions": [
    "Pen is consistently referred to as 'blue_pen', its position inferred from visual evidence",
    "Obstacle avoidance is physical (books) and handled via XY plan as visible in frames",
    "Instruction does not specify grasping, only reaching"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Robot arm moves around books and stops near the blue pen"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": { "target": "blue_pen" }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": { "target": "blue_pen", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": { "target": "blue_pen", "timeout_ms": 800 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveToXY",
        "attrs": { "x": 0.20, "y": 0.10, "yaw_deg": 0, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveToXY",
        "attrs": { "x": 0.20, "y": 0.10, "yaw_deg": 0, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveToXY",
        "attrs": { "x": 0.20, "y": 0.10, "yaw_deg": 0, "timeout_ms": 1500 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAtXY",
        "attrs": { "x": 0.20, "y": 0.10, "tolerance": 0.005 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAtXY",
        "attrs": { "x": 0.20, "y": 0.10, "tolerance": 0.005 }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "verify",
      "active_leaf": {
        "id": "IsAtXY",
        "attrs": { "x": 0.20, "y": 0.10, "tolerance": 0.005 }
      },
      "active_path_ids": []
    }
  ]
}