{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_094",
  "task_summary": "The robot arm pours liquid from a cup into a mug, beginning with perception and ending with a post-pour retreat.",
  "task_long_description": {
    "overview": "The behavior tree controls a robotic arm equipped with a cup containing liquid, performing the task of pouring its contents into a mug placed on a table. The process requires robust perception of both cup and mug, precise alignment above the mug, and a controlled pour by tilting the cup. After pouring, the robot retreats to clear the workspace. The sequence follows a clear, observable trajectory with robust perception checks and retry mechanisms.",
    "preconditions": [
      "Cup is grasped by the robot and contains pourable contents.",
      "Mug is present and reachable on the workspace.",
      "Workspace is clear of obstacles on the pour trajectory."
    ],
    "stepwise_plan": [
      "Verify cup is visible, retry scan if needed.",
      "Detect and move above the cup.",
      "Verify mug is visible, retry scan if needed.",
      "Detect and move above the mug.",
      "Approach and align precisely above mug.",
      "Pour from cup into mug with defined tilt.",
      "Retreat arm after pour."
    ],
    "success_criteria": [
      "Liquid is poured into the mug with minimal spillage.",
      "Cup and mug detected and correctly aligned throughout.",
      "Robot retreats safely post-pour."
    ],
    "failure_and_recovery": [
      "If cup or mug not detected, scan up to three times.",
      "If alignment fails, repeat approach-and-align step.",
      "On any hardware fault or timeout, abort with safe retreat."
    ],
    "termination": "Task completes once the pour and retreat are performed successfully."
  },
  "frame_ranking": {
    "order": ["frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 2000,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0", "frame_1", "frame_2", "frame_3", "frame_4", "frame_5", "frame_6", "frame_7", "frame_8"],
  "objects": ["cup", "mug", "table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "cup"},
      "description": "Checks if the cup is currently visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "cup", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the workspace to locate the cup."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "cup", "timeout_ms": 800},
      "description": "Performs final detection/localization for the cup."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "cup", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves the robot end-effector above the cup."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "mug"},
      "description": "Checks if the mug is visible."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "mug", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Scans the workspace to localize the mug."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "mug", "timeout_ms": 800},
      "description": "Performs final detection/localization for the mug."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves above the mug before the pour."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Precisely aligns the cup above the mug."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source": "cup", "target": "mug", "amount": "null", "tilt_angle": 90, "pour_rate": "null", "timeout_ms": 2000},
      "description": "Executes the pour motion from the cup to the mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves the robot away from the mug after pouring."
    }
  ],
  "tree_stats": {
    "nodes_total": 13,
    "actions": 9,
    "conditions": 2,
    "depth": 11
  },
  "failure_modes": [
    "Cup or mug not detected due to occlusion or lighting.",
    "Alignment error prevents successful pouring.",
    "Pouring exceeds mug capacity causing overflow.",
    "Robot hardware or timeout failure during the sequence."
  ],
  "recovery_strategy": [
    "Retry scan up to 3 times if objects are not visible.",
    "Abort and retreat if consecutive failures occur.",
    "Attempt re-alignment before pouring.",
    "Timeout-based abort for safety."
  ],
  "assumptions": [
    "The instruction mentions only 'mug' but frames 0-8 show a cup being poured into a mug; 'cup' assigned as source based on visual evidence. The 'amount' and 'pour_rate' for Pour action are set to null as these cannot be observed/derived from frames nor instruction.",
    "Object types and interactions strictly follow the observed scene from frames, overriding any ambiguity in natural language."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup aligns above mug and contents are poured into mug with minimal spill.",
      "Failed perception leads to retries then abort.",
      "Robot retreats safely after pouring."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "cup"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "cup", "offset_z": 0.10, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "Pour", "attrs": {"source": "cup", "target": "mug", "amount": "null", "tilt_angle": 90, "pour_rate": "null", "timeout_ms": 2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "Pour", "attrs": {"source": "cup", "target": "mug", "amount": "null", "tilt_angle": 90, "pour_rate": "null", "timeout_ms": 2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}