{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_081",
  "task_summary": "The behavior tree directs a robotic arm to pour liquid from a bottle into a cup (mug), beginning with perception and approach to the mug, then performing the pour action, waiting briefly, and finally retreating.",
  "task_long_description": {
    "overview": "This task configures a robot arm equipped for liquid manipulation on a tabletop. The objective is to pour contents from a bottle into a mug. The robot first ensures visibility and localization of the mug target using perception actions, then moves its end-effector above the mug, initiates a controlled pour (with fixed tilt and rate, as inferred from the sequential frames and library limits), and finally waits before retreating. No manual intervention or force sensing is evident in frames; sequences remain deliberate and careful.",
    "preconditions": [
      "Bottle securely held by gripper",
      "Mug placed upright and reachable on table",
      "Work area free from obstructions",
      "Vision system operational for mug localization"
    ],
    "stepwise_plan": [
      "Verify mug visibility or scan if not found",
      "Detect and confirm mug location",
      "Move bottle above mug with safe vertical offset",
      "Perform regulated pour from bottle into mug",
      "Pause briefly to ensure pour completion",
      "Retract arm to clear mug area"
    ],
    "success_criteria": [
      "Bottle contents deposited into mug without spillage",
      "No collision with mug or environment",
      "Robot retreats successfully after pour"
    ],
    "failure_and_recovery": [
      "Failure: Mug not detected – Reattempt scan",
      "Failure: Pouring incomplete – No direct library recovery, possible retry if detected externally",
      "Failure: Collision – Abort and retreat",
      "Failure: Bottle not held – Abort sequence"
    ],
    "termination": "Task terminates after the retreat action completes and the robot arm is clear of the mug."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["robot_arm", "bottle", "mug", "table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"cup"},
      "description":"Checks if the mug (cup) is visible to the perception system."
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"cup", "pattern":"line", "max_attempts":3, "timeout_ms":1000},
      "description":"Performs a line scan to find the mug if not immediately visible."
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"cup", "timeout_ms":800},
      "description":"Confirms and refines mug pose after initial detection."
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"cup", "offset_z":0.05, "timeout_ms":1500},
      "description":"Moves bottle above mug with a vertical offset."
    },
    {
      "id":"Pour",
      "type":"Action",
      "ports":{"source":"bottle","target":"cup","amount":"null","tilt_angle":45,"pour_rate":"normal", "timeout_ms":2000},
      "description":"Performs the pour from bottle into mug with set tilt and rate."
    },
    {
      "id":"Wait",
      "type":"Action",
      "ports":{ "timeout_ms":500},
      "description":"Brief pause after pouring to stabilize and ensure completion."
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10, "timeout_ms":1200},
      "description":"Moves arm away from the mug to finalize task."
    }
  ],
  "tree_stats": {"nodes_total": 10, "actions": 6, "conditions": 1, "depth": 2},
  "failure_modes": [
    "Mug not detected in scene",
    "Bottle not correctly held",
    "Pouring angle not sufficient",
    "Liquid spillage due to misalignment",
    "Timeout in scan/detection actions"
  ],
  "recovery_strategy": [
    "Rescan for mug (fallback, up to 3 times)",
    "Abort task if detection/failure persists",
    "Retreat arm in case of emergency"
  ],
  "assumptions": [
    "Frame analysis shows a cup visually resembling a mug – mapped to 'cup' in node ports due to library limits.",
    "No explicit pour amount specified in instruction or visible in frames; amount is set to 'null'.",
    "Source of the pour is visually a bottle; frames confirm grasp, but no grasp step shown (bottle assumed to be held from start).",
    "No pouring force/tolerance referenced; library port omitted per instruction/frame evidence.",
    "Frames do not show explicit failure/recovery sequences beyond perception fallback."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bottle contents are transferred into the mug",
      "No observable spillage",
      "Robot arm retreats safely after pour"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": { "id": "IsObjectVisible", "attrs": {"target": "cup"} },
      "active_path_ids": ["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": { "id": "ScanForTarget", "attrs": {"target": "cup", "pattern": "line", "max_attempts":3, "timeout_ms":1000} },
      "active_path_ids": ["Sequence","Fallback","RetryUntilSuccessful","ScanForTarget"]
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": { "id": "DetectObject", "attrs": {"target": "cup", "timeout_ms":800} },
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": { "id": "MoveAbove", "attrs": {"target": "cup", "offset_z":0.05, "timeout_ms":1500} },
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": { "id": "Pour", "attrs": {"source":"bottle","target":"cup","amount":"null","tilt_angle":45,"pour_rate":"normal", "timeout_ms":2000} },
      "active_path_ids": ["Sequence","Pour"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": { "id": "Pour", "attrs": {"source":"bottle","target":"cup","amount":"null","tilt_angle":45,"pour_rate":"normal", "timeout_ms":2000} },
      "active_path_ids": ["Sequence","Pour"]
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": { "id": "Wait", "attrs": {"timeout_ms":500} },
      "active_path_ids": ["Sequence","Wait"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": { "id": "Retreat", "attrs": {"distance":0.10, "timeout_ms":1200} },
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": { "id": "Retreat", "attrs": {"distance":0.10, "timeout_ms":1200} },
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}