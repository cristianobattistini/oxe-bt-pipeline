{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_023",
  "task_summary": "The robot arm pours the contents from a cup into a mug by first identifying both objects, aligning above them, executing the pour, and retreating.",
  "task_long_description": {
    "overview": "This episode features a robot arm pouring from a cup into a mug. The arm starts while holding the cup, identifies the mug, approaches and aligns over it, then performs a controlled pour by tilting the cup, and finally retreats. Both perception and manipulation phases are visible. The workspace includes a wooden table, visible mug, and source cup already grasped.",
    "preconditions": [
      "Robot is holding the cup.",
      "Both cup and mug are present and visible on the workspace.",
      "Pour target mug is correctly positioned and empty or ready to receive the liquid."
    ],
    "stepwise_plan": [
      "Ensure source cup is visible and detected.",
      "Ensure pour target mug is visible and detected.",
      "Align the held cup above the mug.",
      "Verify the cup is securely in gripper.",
      "Align the gripper/cup to mug opening.",
      "Pour from cup into mug (tilt motion).",
      "Retract arm from the mug."
    ],
    "success_criteria": [
      "Liquid is transferred from cup into mug with minimal spillage.",
      "Cup is steadily held during pour.",
      "Mug is correctly targeted and not displaced.",
      "Gripper remains stable and retreats cleanly after pouring."
    ],
    "failure_and_recovery": [
      "Failure to detect cup/mug: retry visual search.",
      "Grasp is unstable: abort or re-grasp.",
      "Pouring not aligned: realign above mug and repeat.",
      "Spillage detected: stop pouring and retreat."
    ],
    "termination": "Task terminates after the retreat following a successful pour or upon irrecoverable failure."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable alignment of cup above mug is visible, a key setup prior to pouring.",
        "predicts_next": "Pouring actuation likely next; confirms approach success.",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.01,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["cup", "mug", "robot_arm", "table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"cup"}, "description":"Checks if the source cup is visible."},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"cup","pattern":"raster","max_attempts":3,"timeout_ms":1200}, "description":"Scans for the source cup in the workspace."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"cup","timeout_ms":800}, "description":"Detects the cup in the workspace."},
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"mug"}, "description":"Checks if the target mug is visible."},
    {"id":"ScanForTarget", "type":"Action", "ports":{"target":"mug","pattern":"raster","max_attempts":3,"timeout_ms":1200}, "description":"Scans for the target mug in the workspace."},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"mug","timeout_ms":800}, "description":"Detects the mug in the workspace."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"cup","tolerance":0.01,"timeout_ms":1500}, "description":"Approaches and aligns the cup for transfer."},
    {"id":"ObjectInGripper", "type":"Condition", "ports":{"target":"cup"}, "description":"Checks that the cup is being held by the gripper."},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"mug","tolerance":0.01,"timeout_ms":1500}, "description":"Aligns the cup above the mug to prepare for pouring."},
    {"id":"Pour", "type":"Action", "ports":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":2000}, "description":"Executes the pour by tilting the cup over the mug."},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.10,"timeout_ms":1200}, "description":"Retracts the arm after pouring."}
  ],
  "tree_stats": {
    "nodes_total": 15,
    "actions": 8,
    "conditions": 3,
    "depth": 2
  },
  "failure_modes": [
    "Cup or mug not detected.",
    "Cup not held/stable during pour.",
    "Misalignment causes spillage.",
    "Robot collides with mug."
  ],
  "recovery_strategy": [
    "Retry visual search up to 3 times.",
    "Abort if grasp is lost.",
    "Realign if position error detected."
  ],
  "assumptions": [
    "Instruction does not specify 'amount', so null value used.",
    "Cup is assumed to be in gripper from the start based on frames.",
    "Pouring tilt angle set to 90 degrees as typical for full pour.",
    "Frame sequence does not indicate re-grasping; skipping grasp phase."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup remains in gripper.",
      "Pour occurs over mug with visible content transfer.",
      "Robot retreats after pour."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "cup"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "cup", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "mug"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "mug", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "cup", "tolerance": 0.01, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": {"target": "cup"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "mug", "tolerance": 0.01, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "transfer",
      "active_leaf": {
        "id": "Pour",
        "attrs": {"source": "cup", "target": "mug", "amount": "null", "tilt_angle": 90, "pour_rate": "normal", "timeout_ms": 2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.10, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}