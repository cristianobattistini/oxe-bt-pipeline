{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_029",
  "task_summary": "Robot pours the contents from a cup into a mug, ensuring accurate alignment above the mug before pouring and retreating upon completion.",
  "task_long_description": {
    "overview": "This episode captures a robot arm executing a precise pouring task. The robot is holding a cup containing liquid (or simulating it), and approaches a mug positioned on a table. The arm aligns the cup directly above the mug, then performs the pouring action by tilting the cup, and finally retreats. The workspace is uncluttered, limiting environmental interference. Success depends on identifying the mug, precise approach and alignment prior to pouring, and no spillage during the transfer.",
    "preconditions": [
      "Robot arm holds the source cup",
      "Mug is stationary on the table and visible",
      "Pouring workspace is clear of obstacles",
      "Cup contains liquid (implicit in pour action)"
    ],
    "stepwise_plan": [
      "Verify mug is visible or search for it",
      "Detect mug pose accurately",
      "Move arm above mug to correct pouring height",
      "Align end-effector for best pouring geometry",
      "Pour from cup into mug by tilting source",
      "Retreat arm from mug area after pour"
    ],
    "success_criteria": [
      "Liquid transfers from cup to mug with minimal spillage",
      "Mug remains upright and unmoved",
      "Robot retreats safely after pouring"
    ],
    "failure_and_recovery": [
      "If mug not visible: scan to reacquire target",
      "If approach fails: retry sequence",
      "If pour incomplete: report or retry (handled outside current BT)"
    ],
    "termination": "Tree terminates after retreating from the mug post-pour."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["mug", "cup"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "mug"},
      "description": "Checks if the mug is visible to the robot sensors/image pipeline."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target": "mug", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200},
      "description": "Performs a raster scanning pattern to attempt to locate the mug if not visible."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "mug", "timeout_ms": 800},
      "description": "Tries to accurately detect and localize the mug."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "mug", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the pouring utensil (cup) above the mug at a 5 cm offset."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500},
      "description": "Aligns the tool (cup) precisely to ensure pour accuracy, using a small tolerance."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source": "cup", "target": "mug", "amount": "null", "tilt_angle": 45, "pour_rate": "null", "timeout_ms": 1200},
      "description": "Executes the pouring motion, tilting the cup 45Â°, into the mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1200},
      "description": "Moves the arm away from the mug by 10 cm post-pour."
    }
  ],
  "tree_stats": {"nodes_total": 9, "actions": 6, "conditions": 1, "depth": 7},
  "failure_modes": [
    "Target mug not detected",
    "Imprecise approach/alignment",
    "Pour incomplete or inaccurate",
    "Early or late retreat"
  ],
  "recovery_strategy": [
    "Retry scan if mug not visible",
    "Repeat detect/approach steps if required"
  ],
  "assumptions": [
    "Source object treated as 'cup' (as visually identified in gripper)",
    "Amount and pour_rate left as null (not specified in frame or instruction)",
    "No explicit grasp action in this episode (robot starts already holding cup)"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Contents transferred from cup to mug",
      "No spillage visible",
      "Robot arm is safely clear after task"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "mug", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "mug", "offset_z": 0.05, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "ApproachAndAlign", "attrs": {"target": "mug", "tolerance": 0.005, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "Pour", "attrs": {"source": "cup", "target": "mug", "tilt_angle": 45, "timeout_ms": 1200, "amount": "null", "pour_rate": "null"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "Pour", "attrs": {"source": "cup", "target": "mug", "tilt_angle": 45, "timeout_ms": 1200, "amount": "null", "pour_rate": "null"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1200}},
      "active_path_ids": []
    }
  ]
}