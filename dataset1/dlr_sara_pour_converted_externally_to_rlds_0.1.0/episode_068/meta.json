{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_068",
  "task_summary": "The robot pours contents from a held bottle into a mug on the table in a controlled, deliberate sequence, with perception and alignment steps ensuring accuracy.",
  "task_long_description": {
    "overview": "This task involves a 6-DOF arm robot equipped with a gripper holding a bottle (source) and pouring its contents into a mug (target) placed on a table. The scene is static, with the robot operating in close proximity to both objects. Critical constraints are precise positioning, controlled pouring, and visual confirmation of the mug's location.",
    "preconditions": [
      "Robot is holding the bottle securely.",
      "Mug is positioned stably on the table within the workspace.",
      "No obstructions in the workspace."
    ],
    "stepwise_plan": [
      "Confirm visibility of the mug.",
      "Detect the mug and localize its position.",
      "Move the bottle above the mug.",
      "Align gripper and bottle over the mug opening.",
      "Tilt the bottle to pour contents into the mug.",
      "Return the bottle to the upright position and retreat."
    ],
    "success_criteria": [
      "All or most contents of the bottle are transferred into the mug without spillage.",
      "Mug remains upright and undisturbed.",
      "Robot retreats without collision."
    ],
    "failure_and_recovery": [
      "If mug not visible, repeat scan up to 3 times.",
      "If alignment fails, retry approach sequence.",
      "Abort if continued failures occur or collisions detected."
    ],
    "termination": "The episode ends when the pouring motion and retreat complete, or after maximum retries."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot_arm", "bottle", "mug", "table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": { "target": "cup" },
      "description": "Checks if the mug (cup) is visible to the robot's sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": { "target": "cup", "pattern": "arc", "max_attempts": 3, "timeout_ms": 1200 },
      "description": "Actively scans for the mug using an arc pattern."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": { "target": "cup", "timeout_ms": 800 },
      "description": "Performs object detection to localize the mug."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": { "target": "cup", "offset_z": 0.10, "timeout_ms": 1500 },
      "description": "Moves the bottle above the center of the mug."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": { "target": "cup", "tolerance": 0.005, "timeout_ms": 1500 },
      "description": "Approaches and aligns the bottle precisely over the mug."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": { "source": "bottle", "target": "cup", "amount": "null", "tilt_angle": 90, "pour_rate": "null", "timeout_ms": 1500 },
      "description": "Pours the contents from the bottle into the mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": { "distance": 0.15, "timeout_ms": 1200 },
      "description": "Retreats the arm to a safe position after pouring."
    }
  ],
  "tree_stats": { "nodes_total": 9, "actions": 6, "conditions": 1, "depth": 3 },
  "failure_modes": [
    "Cup not detected or out of reach",
    "Misalignment causing spillage",
    "Pouring fails due to blockage",
    "Gripper loses grip on bottle",
    "Excess movement leading to collision"
  ],
  "recovery_strategy": [
    "Repeat scan for mug up to 3 times",
    "Retry approach/alignment if off-target",
    "Abort after repeated failures"
  ],
  "assumptions": [
    "Frame evidence corroborates sequential, bottle-held pouring into a mug (not a generic container).",
    "Instruction references a 'mug'; frames visually refer to a cup-shaped mug. Used 'cup' to align with library and visuals.",
    "Exact liquid volume is unspecified; 'amount' and 'pour_rate' left null.",
    "Timeouts and thresholds inferred from typical manipulation times, not explicit in frames or instruction."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Contents are poured into the mug with minimal or no spillage.",
      "Robot arm does not contact or topple the mug.",
      "Bottle remains under robotic control throughout."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": { "target": "cup" }
      },
      "active_path_ids": ["Sequence","Fallback","IsObjectVisible"]
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": { "target": "cup", "timeout_ms": 800 }
      },
      "active_path_ids": ["Sequence","DetectObject"]
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": { "target": "cup", "offset_z": 0.10, "timeout_ms": 1500 }
      },
      "active_path_ids": ["Sequence","MoveAbove"]
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": { "target": "cup", "tolerance": 0.005, "timeout_ms": 1500 }
      },
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": { "target": "cup", "tolerance": 0.005, "timeout_ms": 1500 }
      },
      "active_path_ids": ["Sequence","ApproachAndAlign"]
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "Pour",
        "attrs": { "source": "bottle", "target": "cup", "tilt_angle": 90, "amount": "null", "pour_rate": "null", "timeout_ms": 1500 }
      },
      "active_path_ids": ["Sequence","Pour"]
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {
        "id": "Pour",
        "attrs": { "source": "bottle", "target": "cup", "tilt_angle": 90, "amount": "null", "pour_rate": "null", "timeout_ms": 1500 }
      },
      "active_path_ids": ["Sequence","Pour"]
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": { "distance": 0.15, "timeout_ms": 1200 }
      },
      "active_path_ids": ["Sequence","Retreat"]
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": { "distance": 0.15, "timeout_ms": 1200 }
      },
      "active_path_ids": ["Sequence","Retreat"]
    }
  ]
}