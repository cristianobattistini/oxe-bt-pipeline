{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_097",
  "task_summary": "The robot pours from a cup into a mug, ensuring detection and alignment prior to pouring, followed by a retreat post-action.",
  "task_long_description": {
    "overview": "In this tabletop pouring scenario, a robot arm holds a cup and must pour its contents into a mug on the table. The demonstration frames show perception, precise positional alignment over the mug, pour execution via tilting the cup, and a retreat of the arm after pouring. The key objects are the cup (pour source) and the mug (pour target). Prepour checks ensure the mug is detected and reachable, while pouring is executed with a large tilt to empty the source. The task is complete when pouring is finished and the arm retreats.",
    "preconditions": [
      "Cup is grasped and contains pourable material",
      "Mug is present on the table and visible",
      "Robot arm is operational and ready for movement"
    ],
    "stepwise_plan": [
      "Verify mug visibility or detect it",
      "Move above the mug with sufficient clearance",
      "Pour contents from the cup into the mug with significant tilt",
      "Retract arm away from under/above the mug"
    ],
    "success_criteria": [
      "Cup is positioned over the mug",
      "Cup is tilted to pour contents into mug",
      "Majority of contents transferred into mug",
      "Robot retreats safely from mug"
    ],
    "failure_and_recovery": [
      "If mug not visible: retry detection",
      "If move above mug fails: abort pour and alert",
      "If pour times out: abort and recover arm to safe position"
    ],
    "termination": "Task concludes when pouring and retreat are complete, or upon failure after attempted recovery."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 2000,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["cup", "mug"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target": "mug"},
      "description": "Checks if the mug is visible to the robot."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target": "mug", "timeout_ms": 800},
      "description": "Attempts to detect the mug if not already visible."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500},
      "description": "Moves the end-effector above the mug for precise alignment before pouring."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source": "cup", "target": "mug", "amount": "all", "tilt_angle": 90, "pour_rate": "normal", "timeout_ms": 2000},
      "description": "Executes the pour action, tilting the cup 90° over the mug to transfer contents."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance": 0.10, "timeout_ms": 1000},
      "description": "Retracts the arm away from the mug after pouring."
    }
  ],
  "tree_stats": {
    "nodes_total": 7,
    "actions": 4,
    "conditions": 1,
    "depth": 3
  },
  "failure_modes": [
    "Mug not detected",
    "Collision while moving above mug",
    "Pour unsuccessful or incomplete within time limit",
    "Retreat blocked"
  ],
  "recovery_strategy": [
    "Retry detection for mug",
    "Abort and retreat to safe pose on failure"
  ],
  "assumptions": [
    "Instruction does not specify source vessel; frames evidence a 'cup' as source and 'mug' as target.",
    "The arm holds the cup pregrasped (not shown in early frames); Only pouring and post-pour shown.",
    "Amount, tilt, and rate inferred from pour motion and geometry; set to maximal 90° tilt and 'all'.",
    "Timeouts mapped to mid-range, as speed not explicitly required by instruction or evidence."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup above mug, sufficient tilt, and visible emptying motion",
      "Majority of liquid transferred to mug",
      "Arm disengages without disturbing mug"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id": "IsObjectVisible", "attrs": {"target": "mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id": "DetectObject", "attrs": {"target": "mug", "timeout_ms": 800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id": "MoveAbove", "attrs": {"target": "mug", "offset_z": 0.10, "timeout_ms": 1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id": "Pour", "attrs": {"source": "cup", "target": "mug", "amount": "all", "tilt_angle": 90, "pour_rate": "normal", "timeout_ms": 2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id": "Pour", "attrs": {"source": "cup", "target": "mug", "amount": "all", "tilt_angle": 90, "pour_rate": "normal", "timeout_ms": 2000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1000}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id": "Retreat", "attrs": {"distance": 0.10, "timeout_ms": 1000}},
      "active_path_ids": []
    }
  ]
}