{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_040",
  "task_summary": "The robot pours liquid from a cup into a mug by visually localizing both vessels, aligning above the mug, and performing a controlled pour maneuver followed by a safe retreat.",
  "task_long_description": {
    "overview": "A robotic arm equipped with a gripper is tasked with pouring contents from a cup into a mug placed on a table. The system first perceives and localizes the mug and the cup, approaches and aligns the cup over the mug, and then executes a pour by tilting the cup above the mug. After pouring, the robot retreats to a safe position. Visual feedback ensures correct alignment for the pour.",
    "preconditions": [
      "Cup is grasped by the robot",
      "Mug is present and in view on the table",
      "No major obstructions in the manipulation workspace"
    ],
    "stepwise_plan": [
      "Detect and localize the mug",
      "Detect and localize the cup in gripper",
      "Move above the mug with the cup",
      "Align the cup over the mug",
      "Check correct position above mug",
      "Pour from cup into mug using a tilt maneuver",
      "Retreat gripper with cup from mug"
    ],
    "success_criteria": [
      "Cup is correctly positioned and poured above mug",
      "Liquid is transferred from cup into the mug",
      "No spillage outside mug",
      "Robot safely completes all steps"
    ],
    "failure_and_recovery": [
      "If mug or cup is not detected: retry detection",
      "If alignment fails: re-approach and re-align",
      "If pouring stalls: halt and alert operator"
    ],
    "termination": "Task terminates after pouring action and successful retreat with no critical errors."
  },
  "frame_ranking": {
    "order": [
      "frame_3","frame_5","frame_2","frame_6",
      "frame_1","frame_4","frame_7","frame_0","frame_8"
    ],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.01,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cup","mug","table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"mug"}, "description":"Checks whether mug is visible in the scene" },
    {"id":"DetectObject", "type":"Action", "ports":{"target":"mug","timeout_ms":800}, "description":"Detects mug if it's not yet visible"},
    {"id":"IsObjectVisible", "type":"Condition", "ports":{"target":"cup"}, "description":"Checks whether cup is visible in the scene (should be in gripper)"},
    {"id":"DetectObject", "type":"Action", "ports":{"target":"cup","timeout_ms":800}, "description":"Detects cup if not visible (for completeness)"},
    {"id":"MoveAbove", "type":"Action", "ports":{"target":"cup","offset_z":0.10,"timeout_ms":1500}, "description":"Moves held cup above mug at 10cm offset"},
    {"id":"ApproachAndAlign", "type":"Action", "ports":{"target":"cup","tolerance":0.01,"timeout_ms":1500}, "description":"Aligns cup precisely over mug before pouring"},
    {"id":"IsAt", "type":"Condition", "ports":{"target":"mug"}, "description":"Checks if currently at the mug's position for pouring"},
    {"id":"Pour", "type":"Action", "ports":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":1500}, "description":"Executes tilt pour of cup over mug"},
    {"id":"Retreat", "type":"Action", "ports":{"distance":0.10,"timeout_ms":1200}, "description":"Backs away safely after pouring"}
  ],
  "tree_stats": {
    "nodes_total": 11,
    "actions": 6,
    "conditions": 3,
    "depth": 4
  },
  "failure_modes": [
    "Mug or cup not detected",
    "Improper alignment before pouring leading to potential spill",
    "Pour motion interruption",
    "Excessive tilt or missing mug"
  ],
  "recovery_strategy": [
    "Repeat object detection",
    "Re-align above mug if not properly positioned",
    "Abort pour if misalignment persists"
  ],
  "assumptions": [
    "The cup is already grasped by the robot at the episode start.",
    "The episode frames show a brown cup and white mug; nomenclature inferred from scene.",
    "No explicit pour amount specified in the instruction or visible in frames; using 'amount' as null.",
    "If pouring fails, human intervention is required; no auto-correction for spills in the tree."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Liquid is successfully poured from cup into mug without spilling."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"cup"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {"id":"MoveAbove","attrs":{"target":"cup","offset_z":0.10,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"cup","tolerance":0.01,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {"id":"IsAt","attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"normal","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}