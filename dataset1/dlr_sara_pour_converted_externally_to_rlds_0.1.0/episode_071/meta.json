{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_071",
  "task_summary": "The robot arm must pour the contents of a cup into a mug, using visual feedback to locate and align with the mug before executing the pour and retreating.",
  "task_long_description": {
    "overview": "In this episode, a robot arm holds a cup and is tasked with pouring its contents into a mug situated on the workspace. The robot must first locate the mug, then align and position the cup above it, perform a controlled tilt pour, and safely retreat after pouring. Proper perception and alignment are critical to minimize spillage and ensure task success.",
    "preconditions": [
      "Cup gripped in the robot's end-effector",
      "Mug is present on the table within workspace",
      "Visual system operational"
    ],
    "stepwise_plan": [
      "Verify mug visibility or scan to reacquire",
      "Detect precise mug pose",
      "Move above target mug",
      "Approach and align over mug with precision",
      "Pour from held cup into mug with set tilt angle",
      "Retreat from mug area"
    ],
    "success_criteria": [
      "Cup successfully tilted to pour into mug",
      "Contents visibly transferred to mug",
      "Robot arm retreats safely"
    ],
    "failure_and_recovery": [
      "If mug not visible: rescan up to 3 times",
      "If alignment fails, reposition or repeat approach",
      "On error, abort and retreat"
    ],
    "termination": "Sequence completes after pour and retreat actions"
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": null,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["robot", "cup", "mug", "table"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id":"IsObjectVisible",
      "type":"Condition",
      "ports":{"target":"mug"},
      "description":"Checks if the mug is currently visible to the vision system"
    },
    {
      "id":"ScanForTarget",
      "type":"Action",
      "ports":{"target":"mug", "pattern":"raster", "max_attempts":3, "timeout_ms":1200},
      "description":"Scans workspace in raster pattern to locate the mug"
    },
    {
      "id":"DetectObject",
      "type":"Action",
      "ports":{"target":"mug", "timeout_ms":800},
      "description":"Detects and refines the pose of the mug"
    },
    {
      "id":"MoveAbove",
      "type":"Action",
      "ports":{"target":"mug", "offset_z":0.10, "timeout_ms":1500},
      "description":"Moves the held cup to a position above the mug"
    },
    {
      "id":"ApproachAndAlign",
      "type":"Action",
      "ports":{"target":"mug", "tolerance":0.005, "timeout_ms":1500},
      "description":"Approaches and precisely aligns the cup over the mug"
    },
    {
      "id":"Pour",
      "type":"Action",
      "ports":{"source":"cup", "target":"mug", "amount":"null", "tilt_angle":45, "pour_rate":"null", "timeout_ms":2000},
      "description":"Performs the pour action from the cup into the mug at 45 degrees"
    },
    {
      "id":"Retreat",
      "type":"Action",
      "ports":{"distance":0.10, "timeout_ms":1200},
      "description":"Retracts the robot arm from the mug area after pouring"
    }
  ],
  "tree_stats": {
    "nodes_total": 9,
    "actions": 5,
    "conditions": 1,
    "depth": 3
  },
  "failure_modes": [
    "Mug not visible to perception",
    "Mug pose detection fails",
    "Approach misalignment",
    "Pour misses target",
    "Retreat collision"
  ],
  "recovery_strategy": [
    "Retry scans for mug detection up to 3 times",
    "Abort sequence and retreat if repeated perception failure",
    "Adjust pose and realign on approach failure"
  ],
  "assumptions": [
    "The cup is already firmly grasped by the gripper at episode start.",
    "Mug and cup mapping is assigned by best-guess from actual image objects.",
    "Amount and pour rate not specified in instruction or visually, set to null."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Cup tilts and pours toward mug without missing",
      "Liquid would collect in mug (if present)",
      "Retreat motion is smooth and clear"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "IsObjectVisible",
        "attrs": {"target": "mug"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "ScanForTarget",
        "attrs": {"target": "mug", "pattern": "raster", "max_attempts": 3, "timeout_ms": 1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "mug", "timeout_ms":800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "mug", "offset_z": 0.10, "timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "approach",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "mug", "tolerance": 0.005, "timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "verify",
      "active_leaf": {
        "id": "ApproachAndAlign",
        "attrs": {"target": "mug", "tolerance": 0.005, "timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {
        "id": "Pour",
        "attrs": {"source":"cup", "target":"mug", "amount":"null", "tilt_angle":45, "pour_rate":"null", "timeout_ms":2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance":0.10, "timeout_ms":1200}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance":0.10, "timeout_ms":1200}
      },
      "active_path_ids": []
    }
  ]
}