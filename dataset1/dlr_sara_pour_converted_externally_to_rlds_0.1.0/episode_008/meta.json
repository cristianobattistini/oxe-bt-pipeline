{
  "dataset_id": "dlr_sara_pour_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_008",
  "task_summary": "A robot pours the contents from a cup into a mug, coordinating precise alignment and execution, as evidenced by sequential manipulation and pouring in the visual frames.",
  "task_long_description": {
    "overview": "This episode presents a robotic arm tasked to pour from a handheld cup into a stationary mug on a table. Key objects include a brown cup (source) and a white mug (target), both clearly seen in the frames. The arm must detect both objects, verify the cup is held, approach and align above the mug, perform a controlled pour, and finally retreat without collision. The workspace is an uncluttered wooden table, and safety as well as pouring accuracy are prioritized.",
    "preconditions": [
      "Cup is grasped securely by the robot.",
      "Mug is present and within reachable workspace.",
      "No obstacles obstructing the pour trajectory."
    ],
    "stepwise_plan": [
      "Detect the cup (source container).",
      "Detect the mug (target container).",
      "Verify cup is in gripper.",
      "Approach and align above the mug.",
      "Pour from the cup into the mug.",
      "Retreat from the mug after pouring."
    ],
    "success_criteria": [
      "The cup is stably grasped throughout pouring.",
      "Pour begins and ends over the mug, minimizing spillage.",
      "Robot retreats to a safe position after pouring."
    ],
    "failure_and_recovery": [
      "If the cup or mug is not initially visible, rescan up to 3 times each.",
      "If cup is not in gripper, abort pour.",
      "If approaching or pouring fails, back off and retry or abort."
    ],
    "termination": "Sequence ends after pouring and retreat, or upon specified failure (e.g., object missing after retries)."
  },
  "frame_ranking": {
    "order": ["frame_3", "frame_5", "frame_2", "frame_6", "frame_1", "frame_4", "frame_7", "frame_0", "frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "Pour into the mug",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": 1500,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"],
  "objects": ["cup", "mug"],
  "objects_from_instruction": ["mug"],
  "blackboard_keys": [],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"cup"},
      "description": "Checks whether the cup is visible to the robot's perception system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"cup","pattern":"raster","max_attempts":3,"timeout_ms":1000},
      "description": "Performs a raster scan for the cup, retrying up to the specified attempts and timeout."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"cup","timeout_ms":800},
      "description": "Runs object detection for the cup."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"mug"},
      "description": "Checks whether the mug is visible to the robot's perception system."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"mug","pattern":"raster","max_attempts":3,"timeout_ms":1000},
      "description": "Performs a raster scan for the mug, retrying up to the specified attempts and timeout."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"mug","timeout_ms":800},
      "description": "Runs object detection for the mug."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"cup"},
      "description": "Checks that the cup is currently held in the robot's gripper."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"mug","tolerance":0.005,"timeout_ms":1500},
      "description": "Brings the cup to an aligned position above the mug within a precise tolerance."
    },
    {
      "id": "Pour",
      "type": "Action",
      "ports": {"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"null","timeout_ms":1500},
      "description": "Executes the pouring motion, tilting the cup by 90 degrees above the mug."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.10,"timeout_ms":1200},
      "description": "Moves the gripper away from the mug to a safe distance after pouring."
    }
  ],
  "tree_stats": {"nodes_total": 14, "actions": 8, "conditions": 3, "depth": 2},
  "failure_modes": [
    "Cup or mug not found after retries.",
    "Cup not stably held.",
    "Misalignment leading to spill.",
    "Retreat collision."
  ],
  "recovery_strategy": [
    "Rescan for missing objects up to 3 times.",
    "Abort operation if grasp or approach fails.",
    "Back off and realign if contact detected during approach."
  ],
  "assumptions": [
    "Objects are referred as 'cup' and 'mug' matching their visual appearance in the frames.",
    "The 'cup' is already in the gripper at episode start, as in the first frame.",
    "Pour parameters like 'amount' and 'pour_rate' not specified in instruction or frames; set to null.",
    "No contradiction between instruction and frames observed.",
    "Tilt angle for pouring inferred as 90 degrees based on imagery."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "All contents poured from cup into mug without significant spillage.",
      "Cup remains grasped throughout.",
      "Robot retreats to a safe pose."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {"model_reported_tokens": null, "client_elapsed_ms": null},
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"cup"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"cup","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "verify",
      "active_leaf": {"id":"IsObjectVisible","attrs":{"target":"mug"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "verify",
      "active_leaf": {"id":"DetectObject","attrs":{"target":"mug","timeout_ms":800}},
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "grasp",
      "active_leaf": {"id":"ObjectInGripper","attrs":{"target":"cup"}},
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "approach",
      "active_leaf": {"id":"ApproachAndAlign","attrs":{"target":"mug","tolerance":0.005,"timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "transfer",
      "active_leaf": {"id":"Pour","attrs":{"source":"cup","target":"mug","amount":"null","tilt_angle":90,"pour_rate":"null","timeout_ms":1500}},
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {"id":"Retreat","attrs":{"distance":0.10,"timeout_ms":1200}},
      "active_path_ids": []
    }
  ]
}