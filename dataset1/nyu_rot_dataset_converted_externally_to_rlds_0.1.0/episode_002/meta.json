{
  "dataset_id": "nyu_rot_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_002",
  "task_summary": "Pick up the bag and hang it on the visible hook using a robot arm, as depicted stepwise across the 9 frames.",
  "task_long_description": {
    "overview": "This task involves a robotic manipulator interacting with a fabric bag and a metallic hook in its workspace. The robot must first visually detect both the bag and the hook, grasp the bag securely, navigate to position the bag near the hook, and execute a hanging maneuver. The process is carefully structured to avoid dropping the bag or missing the hook, as the workspace is spatially constrained. Both perception and precise control are necessary for success.",
    "preconditions": [
      "Bag and hook are present in the workspace and accessible by the robot.",
      "Robot starts with gripper open and is not holding any object.",
      "Both bag and hook are within the camera's field of view or can be scanned."
    ],
    "stepwise_plan": [
      "Ensure the bag is visible or scan for it.",
      "Detect precise bag location.",
      "Ensure the hook is visible or scan for it.",
      "Detect precise hook location.",
      "Open gripper and move above the bag.",
      "Compute grasp and align to the bag.",
      "Grasp the bag from the top and verify holding.",
      "Move above and align to the hook.",
      "Hang the bag on the hook.",
      "Open gripper to release.",
      "Retreat safely."
    ],
    "success_criteria": [
      "The bag is stably hanging from the hook with no slippage.",
      "The manipulator has fully released the bag handle.",
      "No collision or drop occurs during the maneuver."
    ],
    "failure_and_recovery": [
      "Failure to see bag/hook: scan up to 3 times.",
      "Failed grasp: retry pick after adjust alignment.",
      "Incomplete hang: replan approach and retry.",
      "If object dropped, abort and notify supervisor."
    ],
    "termination": "Sequence completes with gripper empty and bag visually observed hanging from the hook."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12,
      "frame_1": 0.34,
      "frame_2": 0.56,
      "frame_3": 0.92,
      "frame_4": 0.28,
      "frame_5": 0.80,
      "frame_6": 0.49,
      "frame_7": 0.18,
      "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "hang the bag on the hook",
  "instruction_to_ports": {
    "force": null,
    "timeout_ms": null,
    "tolerance": 0.005,
    "retry_attempts": 3
  },
  "frame_source": "contact_sheet",
  "frame_order": ["frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7", "frame_8"],
  "objects": ["bag", "hook"],
  "objects_from_instruction": ["bag", "hook"],
  "blackboard_keys": ["grasp_bag"],
  "node_specs": [
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"bag"},
      "description": "Checks if the bag is visible to visual sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"bag","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description": "Scans workspace to find the bag."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"bag","timeout_ms":800},
      "description": "Performs perception to localize the bag more accurately."
    },
    {
      "id": "IsObjectVisible",
      "type": "Condition",
      "ports": {"target":"hook"},
      "description": "Checks if the hook is visible to visual sensors."
    },
    {
      "id": "ScanForTarget",
      "type": "Action",
      "ports": {"target":"hook","pattern":"grid","max_attempts":3,"timeout_ms":1200},
      "description": "Scans workspace to find the hook."
    },
    {
      "id": "DetectObject",
      "type": "Action",
      "ports": {"target":"hook","timeout_ms":800},
      "description": "Performs perception to localize the hook more accurately."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.06,"timeout_ms":500},
      "description": "Opens the gripper to prepare for grasping the bag."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"bag","offset_z":0.10,"timeout_ms":1500},
      "description": "Moves the end-effector above the bag, ready to grasp."
    },
    {
      "id": "ComputeGraspPose",
      "type": "Action",
      "ports": {"target":"bag","strategy":"top","result_key":"grasp_bag"},
      "description": "Computes top-down grasp pose for the bag handle."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"bag","tolerance":0.005,"timeout_ms":1500},
      "description": "Approaches and aligns gripper with the bag to within tight tolerance."
    },
    {
      "id": "GraspAtPose",
      "type": "Action",
      "ports": {"pose_key":"grasp_bag","strategy":"top","timeout_ms":1000},
      "description": "Executes grasp using the computed grasp pose."
    },
    {
      "id": "ObjectInGripper",
      "type": "Condition",
      "ports": {"target":"bag"},
      "description": "Checks if the bag is now secured in the gripper."
    },
    {
      "id": "MoveAbove",
      "type": "Action",
      "ports": {"target":"hook","offset_z":0.10,"timeout_ms":1500},
      "description": "Moves above the hook in preparation for hanging."
    },
    {
      "id": "ApproachAndAlign",
      "type": "Action",
      "ports": {"target":"hook","tolerance":0.005,"timeout_ms":1500},
      "description": "Brings the bag in alignment with the hook with precision."
    },
    {
      "id": "Hang",
      "type": "Action",
      "ports": {"target":"bag","hook_id":"hook","approach_angle":0,"timeout_ms":2000},
      "description": "Executes the hanging maneuver to place the bag on the hook."
    },
    {
      "id": "OpenGripper",
      "type": "Action",
      "ports": {"width":0.08,"timeout_ms":500},
      "description": "Opens the gripper to release the bag after hanging."
    },
    {
      "id": "Retreat",
      "type": "Action",
      "ports": {"distance":0.10,"timeout_ms":1200},
      "description": "Safely moves the gripper away from the hook and bag."
    }
  ],
  "tree_stats": {
    "nodes_total": 20,
    "actions": 13,
    "conditions": 3,
    "depth": 3
  },
  "failure_modes": [
    "Bag not detected in workspace.",
    "Hook not detected due to occlusion.",
    "Failure to grasp the bag handle.",
    "Dropping the bag during transfer.",
    "Bag misses the hook during hang step."
  ],
  "recovery_strategy": [
    "Retry scanning for objects up to 3 times.",
    "Verify grasp and regrasp if bag is lost.",
    "Replan alignment if hang attempt fails.",
    "Abort gracefully if bag is dropped."
  ],
  "assumptions": [
    "The contact sheet suggests the bag is already in the gripper at frame_0, but the BT includes all object detection and grasp steps for generalizability.",
    "Approach and place phases are verified visually in the sequence, with no evidence of force or torque control needed.",
    "Instruction and frames are aligned: bag and hook are present; the handle is used for hanging."
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Bag is visibly and stably hanging on the hook in the final frames.",
      "Bag is completely released by the gripper.",
      "No unwanted collisions or drops."
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "approach",
      "active_leaf": {
        "id":"MoveAbove",
        "attrs":{"target":"bag","offset_z":0.10,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "approach",
      "active_leaf": {
        "id":"ComputeGraspPose",
        "attrs":{"target":"bag","strategy":"top","result_key":"grasp_bag"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "grasp",
      "active_leaf": {
        "id":"ApproachAndAlign",
        "attrs":{"target":"bag","tolerance":0.005,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id":"GraspAtPose",
        "attrs":{"pose_key":"grasp_bag","strategy":"top","timeout_ms":1000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "transfer",
      "active_leaf": {
        "id":"MoveAbove",
        "attrs":{"target":"hook","offset_z":0.10,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id":"ApproachAndAlign",
        "attrs":{"target":"hook","tolerance":0.005,"timeout_ms":1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id":"Hang",
        "attrs":{"target":"bag","hook_id":"hook","approach_angle":0,"timeout_ms":2000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id":"OpenGripper",
        "attrs":{"width":0.08,"timeout_ms":500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id":"Retreat",
        "attrs":{"distance":0.10,"timeout_ms":1200}
      },
      "active_path_ids": []
    }
  ]
}