{
  "dataset_id": "nyu_rot_dataset_converted_externally_to_rlds_0.1.0",
  "episode_id": "episode_010",
  "task_summary": "Insert the peg into the cup using a robot arm, with sequential perception, approach, grasp, transfer, insertion, and retreat steps.",
  "task_long_description": {
    "overview": "A robot arm manipulates a cylindrical peg and a blue cup placed on a table. The aim is to insert the peg into the cup reliably, starting from initial perception and grasping, and following with transfer, precise approach, insertion, release, and retreat. Correct object identification and fine alignment are required; the cup is open upwards and unoccluded.",
    "preconditions": [
      "Peg and cup are present and visible on the workspace.",
      "Robot starts from home or ready position.",
      "Cup is upright and accessible."
    ],
    "stepwise_plan": [
      "Detect peg and cup.",
      "Move above the peg.",
      "Compute and execute top grasp on peg.",
      "Verify peg is grasped.",
      "Move above the cup.",
      "Align with the cup opening.",
      "Insert peg into cup receptacle.",
      "Confirm insertion.",
      "Open gripper to release peg.",
      "Retreat from the cup."
    ],
    "success_criteria": [
      "Peg is fully inside the cup receptacle.",
      "Insertion verified by condition check.",
      "Gripper has released peg and retracted."
    ],
    "failure_and_recovery": [
      "Failure: peg or cup not detected; Retry detection steps.",
      "Failure: grasp failed; Repeat grasp action.",
      "Failure: insertion fails; possible retry with slight re-alignment."
    ],
    "termination": "Task ends once peg is released inside cup and robot has retreated."
  },
  "frame_ranking": {
    "order": ["frame_3","frame_5","frame_2","frame_6","frame_1","frame_4","frame_7","frame_0","frame_8"],
    "scores": {
      "frame_0": 0.12, "frame_1": 0.34, "frame_2": 0.56, "frame_3": 0.92,
      "frame_4": 0.28, "frame_5": 0.80, "frame_6": 0.49, "frame_7": 0.18, "frame_8": 0.05
    },
    "rationale_per_frame": {
      "frame_3": {
        "now_evidence": "first stable contact and alignment cue visible",
        "predicts_next": "push actuation expected; confirms goal direction",
        "uncertainty_reduction": "high"
      }
    }
  },
  "task_instruction": "insert the peg in the cup",
  "instruction_to_ports": {
    "force": 5,
    "timeout_ms": 800,
    "tolerance": 0.0,
    "retry_attempts": null
  },
  "frame_source": "contact_sheet",
  "frame_order": [
    "frame_0","frame_1","frame_2","frame_3","frame_4","frame_5","frame_6","frame_7","frame_8"
  ],
  "objects": ["peg", "cup"],
  "objects_from_instruction": ["peg", "cup"],
  "blackboard_keys": ["peg_grasp"],
  "node_specs": [
    {
      "id": "IsObjectVisible", "type": "Condition",
      "ports": {"target": "peg"},
      "description": "Checks whether the peg is visible in the robot's workspace."
    },
    {
      "id": "DetectObject", "type": "Action",
      "ports": {"target": "peg", "timeout_ms": 800},
      "description": "Actively detects and localizes the peg."
    },
    {
      "id": "IsObjectVisible", "type": "Condition",
      "ports": {"target": "cup"},
      "description": "Checks if the cup is visible and ready for manipulation."
    },
    {
      "id": "DetectObject", "type": "Action",
      "ports": {"target": "cup", "timeout_ms": 800},
      "description": "Actively detects and localizes the cup."
    },
    {
      "id": "MoveAbove", "type": "Action",
      "ports": {"target": "peg", "offset_z": 0.05, "timeout_ms": 1500},
      "description": "Moves the manipulator above the peg for approach."
    },
    {
      "id": "ComputeGraspPose", "type": "Action",
      "ports": {"target": "peg", "strategy": "top", "result_key": "peg_grasp"},
      "description": "Computes a suitable top-down grasp pose for the peg."
    },
    {
      "id": "GraspAtPose", "type": "Action",
      "ports": {"pose_key": "peg_grasp", "strategy": "top", "timeout_ms": 1000},
      "description": "Executes the top grasp on the peg at computed pose."
    },
    {
      "id": "ObjectInGripper", "type": "Condition",
      "ports": {"target": "peg"},
      "description": "Checks if the peg is successfully grasped."
    },
    {
      "id": "MoveAbove", "type": "Action",
      "ports": {"target": "cup", "offset_z": 0.06, "timeout_ms": 1500},
      "description": "Moves above the cup, preparing for insertion."
    },
    {
      "id": "ApproachAndAlign", "type": "Action",
      "ports": {"target": "cup", "tolerance": 0.0, "timeout_ms": 1500},
      "description": "Aligns precisely with the cup opening."
    },
    {
      "id": "InsertInto", "type": "Action",
      "ports": {
        "target": "peg", "slot_id": "receptacle_A", "axis": "z",
        "distance": 0.05, "tolerance": 0.0, "force_limit": 5, "timeout_ms": 1200
      },
      "description": "Inserts the peg vertically into the cup's main receptacle."
    },
    {
      "id": "Inserted", "type": "Condition",
      "ports": {"target": "peg", "slot_id": "receptacle_A"},
      "description": "Verifies that the peg is fully inserted in the cup."
    },
    {
      "id": "OpenGripper", "type": "Action",
      "ports": {"width": 0.08, "timeout_ms": 500},
      "description": "Releases the peg by opening the gripper."
    },
    {
      "id": "Retreat", "type": "Action",
      "ports": {"distance": 0.05, "timeout_ms": 1200},
      "description": "Retracts the manipulator to clear the cup."
    }
  ],
  "tree_stats": {
    "nodes_total": 15,
    "actions": 10,
    "conditions": 5,
    "depth": 14
  },
  "failure_modes": [
    "Object not detected",
    "Failed grasp",
    "Insertion misalignment",
    "Peg not released",
    "Unexpected contact or collision"
  ],
  "recovery_strategy": [
    "Retry perception or grasp on failure",
    "Slightly re-align before re-attempting insertion",
    "Abort if repeated failures occur"
  ],
  "assumptions": [
    "Order and semantics grounded strictly from frames 0â€“8",
    "Frame evidence confirms top-down peg insertion with blue cup as receptacle",
    "No explicit retries or time limit in instruction; added perception fallback as observed in visual cue",
    "Slot_id 'receptacle_A' mapped as cup since object label is not explicit in instruction"
  ],
  "evaluation_notes": {
    "expected_success_criteria": [
      "Peg is visibly inside cup",
      "Inserted returns true",
      "Gripper releases and retreats without collision"
    ],
    "test_scenarios": [
      "happy path",
      "object_missing",
      "grasp_fail",
      "perception_noise"
    ]
  },
  "timing": {
    "model_reported_tokens": null,
    "client_elapsed_ms": null
  },
  "local_annotations": [
    {
      "frame": "frame_0",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "peg", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_1",
      "phase": "perceive",
      "active_leaf": {
        "id": "DetectObject",
        "attrs": {"target": "cup", "timeout_ms": 800}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_2",
      "phase": "approach",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "peg", "offset_z": 0.05, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_3",
      "phase": "grasp",
      "active_leaf": {
        "id": "GraspAtPose",
        "attrs": {"pose_key": "peg_grasp", "strategy": "top", "timeout_ms": 1000}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_4",
      "phase": "verify",
      "active_leaf": {
        "id": "ObjectInGripper",
        "attrs": {"target": "peg"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_5",
      "phase": "transfer",
      "active_leaf": {
        "id": "MoveAbove",
        "attrs": {"target": "cup", "offset_z": 0.06, "timeout_ms": 1500}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_6",
      "phase": "place",
      "active_leaf": {
        "id": "InsertInto",
        "attrs": {
          "target": "peg",
          "slot_id": "receptacle_A",
          "axis": "z",
          "distance": 0.05,
          "tolerance": 0.0,
          "force_limit": 5,
          "timeout_ms": 1200
        }
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_7",
      "phase": "place",
      "active_leaf": {
        "id": "Inserted",
        "attrs": {"target": "peg", "slot_id": "receptacle_A"}
      },
      "active_path_ids": []
    },
    {
      "frame": "frame_8",
      "phase": "retreat",
      "active_leaf": {
        "id": "Retreat",
        "attrs": {"distance": 0.05, "timeout_ms": 1200}
      },
      "active_path_ids": []
    }
  ]
}